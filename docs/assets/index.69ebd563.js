import{ab as ae,v as te,E as ue,_ as ne,aq as Ne,u as ge,ae as He,f as qe,ar as De,ad as Ze,ac as je,d as Ee,ai as $e}from"./index.411f0f3d.js";import{d as oe,j as I,C as i,D as f,E as e,u as a,aN as s,aI as d,F as se,aW as S,b6 as ke,b0 as ze,b1 as Re,c as ye,a as Ue,w as Pe,o as ce,b as fe,aH as u,aK as me,aJ as pe,aE as Z,aF as x,aM as ee,bd as Ae,ba as Ce,b9 as Ie,aV as Fe,bb as Je,bc as Qe,be as Ge,aX as Se,H as Be,G as Me,bM as we,bN as Ye,bO as We,bQ as Ke,aS as _e,bs as Xe,bt as et,bf as tt}from"./arco.28b3dd34.js";import{d as Te,e as nt,m as ot,j as st,v as at,k as lt,l as it,n as ct,p as he,s as Oe,t as dt}from"./icon_volume_1.148c46df.js";import{o as rt}from"./index.fc01051f.js";import{l as ut,h as mt,j as pt}from"./html2canvas.esm.062bca2d.js";import{d as vt,s as _t}from"./schedule.e83084bb.js";import{I as ht}from"./invite.c8f4b30f.js";import{c as xe}from"./icon_close.f7fee805.js";import{M as gt}from"./icon-default-meeting.175b4395.js";import"./chart.836649e8.js";import"./vue.3a8db0d4.js";/* empty css               */const ft=N=>(ze("data-v-a6d226e8"),N=N(),Re(),N),bt={class:"room-join-options-container"},$t={class:"room-options-c"},yt=["src"],Mt={class:"room-options-header"},kt={class:"room-options-h-t"},Ct={class:"room-options-h-n"},It={class:"room-options-h-n-t"},St=ft(()=>e("span",{class:"required"},"*",-1)),wt={class:"room-options-main"},Tt={class:"room-options-m-it"},Ot=["src"],xt={class:"room-options-m-ib text-ellipsis"},Vt={class:"room-options-m-it"},Lt=["src"],Nt={class:"room-options-m-ib text-ellipsis"},Ht={class:"room-options-m-it"},qt=["src"],Dt={class:"room-options-m-ib text-ellipsis"},Zt={class:"room-options-f"},jt=oe({__name:"join",emits:["handleClose","handleJoinMeeting"],setup(N,{emit:O}){const y=ae(),l=O,{t:m}=te.exports.useI18n();I(!1);const n=I({...y.roomOptions,meetingNo:""}),H=I(null),V=()=>{H.value&&(H.value.getTracks().forEach(M=>M.stop()),H.value=null)},t=()=>{V(),n.value.meetingNo="",l("handleClose")},L=async()=>{n.value.audio=!n.value.audio;try{n.value.audio&&(H.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})),V()}catch{n.value.audio=!1,S.error(m("meeting.modal.option.devices.audio"))}},q=async()=>{n.value.video=!n.value.video;try{n.value.video&&(H.value=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})),V()}catch{n.value.video=!n.value.video,S.error(m("meeting.modal.option.devices.video"))}},w=()=>{n.value.loudspeaker=!n.value.loudspeaker},g=()=>{console.log("handleClearSpace",n.value.meetingNo),n.value.meetingNo=n.value.meetingNo.replace(/\s+/g,"")},D=Te(async()=>{!n.value.meetingNo||(ue.emit("meeting-notification-close"),y.updateRoomOptions(n.value),l("handleJoinMeeting",{meetingNo:n.value.meetingNo}))},1e3);return(M,k)=>{const $=ke;return i(),f("div",bt,[e("div",$t,[e("div",{class:"room-fixed",onClick:t},[e("img",{src:a(nt),alt:""},null,8,yt)]),e("div",Mt,[e("div",kt,[e("span",null,s(a(m)("meeting.menu.jrhy")),1)]),e("div",Ct,[e("div",It,[e("span",null,s(a(m)("meeting.qr.code.modal.desc")),1),St]),d($,{modelValue:n.value.meetingNo,"onUpdate:modelValue":k[0]||(k[0]=c=>n.value.meetingNo=c),placeholder:a(m)("meeting.room.option.meeting.join.title"),onInput:g},null,8,["modelValue","placeholder"])])]),e("div",wt,[e("div",{class:"room-options-m-i",onClick:L},[e("div",Tt,[e("img",{src:n.value.audio?a(ot):a(st),alt:""},null,8,Ot)]),e("div",xt,s(a(m)("meeting.menu.mkf")),1)]),e("div",{class:"room-options-m-i",onClick:q},[e("div",Vt,[e("img",{src:n.value.video?a(at):a(lt),alt:""},null,8,Lt)]),e("div",Nt,s(a(m)("meeting.menu.sxt")),1)]),e("div",{class:"room-options-m-i",onClick:w},[e("div",Ht,[e("img",{src:n.value.loudspeaker?a(it):a(ct),alt:""},null,8,qt)]),e("div",Dt,s(a(m)("meeting.menu.ysq")),1)])]),e("div",Zt,[e("div",{class:se(["room-options-btn",n.value.meetingNo?"active":""]),onClick:k[1]||(k[1]=(...c)=>a(D)&&a(D)(...c))},[e("span",null,s(a(m)("meeting.room.option.meeting.join")),1)],2)])])])}}});const Et=ne(jt,[["__scopeId","data-v-a6d226e8"]]),zt={class:"longtime-options-container modal-container"},Rt=["src"],Ut={class:"modal-title"},Pt={class:"modal-main wsl-scroll"},At={class:"users-main"},Ft={class:"users-main-header"},Jt={class:"user-main-header-left"},Qt={class:"user-main-header-right-icon"},Gt={class:"user-main-header-right-label"},Bt={class:"users-main-body"},Yt={key:0,class:"users-main-body-main"},Wt={class:"users-main-body-main-item-top"},Kt=["src"],Xt={class:"users-main-body-main-item-bot textEllipsis"},en=["onClick"],tn=["src"],nn={key:1,class:"users-main-body-no-data"},on={class:"bx"},sn={key:0,class:"ax"},an={class:"label"},ln=["src"],cn={key:1,class:"ax"},dn={class:"label"},rn={class:"modal-bot"},un=oe({__name:"longtime",emits:["handleClose","handleInviteOpen"],setup(N,{emit:O}){const y=ae(),{t:l,locale:m}=te.exports.useI18n(),n=ye(()=>{var c;return(c=y.industryList)==null?void 0:c.map(v=>({label:m.value==="zh-CN"?v.value:v.english,value:v.label}))}),H=ye(()=>{var c;return(c=y.languageList)==null?void 0:c.map(v=>({...v,label:m.value==="zh-CN"?v.value:v.english,value:v.label,ctry:v.flagUrl}))}),V=O,t=I({subject:"",userIds:[],recordStatus:"0",aiStatus:"0",escaping:"0",voiceTranslation:!1,languageType:"cn",industryType:"default"});Ue(()=>{var v;((v=H.value)==null?void 0:v.some(j=>j.type==="aliyun"))&&(t.value.languageType="zh")});const L=I(t.value.recordStatus==="1"),q=I(t.value.aiStatus==="1"),w=I(t.value.escaping==="1"),g=()=>{t.value={subject:"",userIds:[],recordStatus:"0",aiStatus:"0",escaping:"0"},y.updateSchedulePsn([])},p=()=>{t.value.userIds=he(y.schedulePsn,"userId")},D=()=>{g(),V("handleClose")},M=()=>{V("handleInviteOpen")},k=c=>{y.schedulePsn.splice(c,1)},$=async()=>{var v;const c=await y.createLongtimeMeeting({...t.value,enableTranslation:(v=t.value)!=null&&v.voiceTranslation?"1":"0"});if(c.code!==200&&c.code!==401){S.error(c.msg);return}S.success(l("meeting.schedule.message.success")),D()};return Pe(()=>[L.value,q.value,w.value,y.schedulePsn],c=>{c[0]?t.value.recordStatus="1":t.value.recordStatus="0",c[1]?t.value.aiStatus="1":t.value.aiStatus="0",c[2]?t.value.escaping="1":t.value.escaping="0",c[3]&&p()},{deep:!0}),ce(()=>{p()}),fe(()=>{g()}),(c,v)=>{const j=ke,z=Ae,A=Ne,J=Ce,Q=Ie,B=Fe,o=Je,b=Qe,U=Ge,R=Se;return i(),f("div",zt,[e("div",{class:"modal-fixed",onClick:D},[e("img",{src:a(xe),alt:""},null,8,Rt)]),e("div",Ut,s(c.$t("meeting.longtime.modal.title")),1),e("div",Pt,[d(U,{model:t.value,layout:"vertical"},{default:u(()=>[d(z,{field:"subject",label:c.$t("meeting.schedule.form.subject")},{default:u(()=>[d(j,{modelValue:t.value.subject,"onUpdate:modelValue":v[0]||(v[0]=C=>t.value.subject=C),"max-length":255,placeholder:c.$t("meeting.schedule.form.placeholder.schedule")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e("div",At,[e("div",Ft,[e("div",Jt,[e("span",null,s(c.$t("meeting.schedule.form.member")),1)]),e("div",{class:"user-main-header-right",onClick:M},[e("div",Qt,[d(A)]),e("div",Gt,[e("span",null,s(c.$t("meeting.schedule.form.btn.add")),1)])])]),e("div",Bt,[t.value.userIds&&t.value.userIds.length>0?(i(),f("div",Yt,[d(Q,{size:10,wrap:""},{default:u(()=>[(i(!0),f(me,null,pe(a(y).schedulePsn,(C,G)=>(i(),f("div",{key:`user_${C.userId}_${G}`,class:"users-main-body-main-item"},[e("div",Wt,[e("img",{src:C.avatarUrl,alt:"avatar"},null,8,Kt)]),d(J,{content:C.name},{default:u(()=>[e("div",Xt,s(C.name),1)]),_:2},1032,["content"]),e("div",{class:"users-main-body-main-item-fixed",onClick:de=>k(G)},[e("img",{src:a(vt),alt:"del"},null,8,tn)],8,en)]))),128))]),_:1})])):(i(),f("div",nn,[e("span",null,s(c.$t("meeting.schedule.form.placeholder.member")),1)]))])]),d(z,{style:{"margin-bottom":"0"},"content-class":"longtime-checkbox longtime-checkbox-voice"},{default:u(()=>[e("div",on,[e("span",null,s(c.$t("meeting.schedule.form.voiceTranslation")),1),d(B,{modelValue:t.value.voiceTranslation,"onUpdate:modelValue":v[1]||(v[1]=C=>t.value.voiceTranslation=C),size:"small"},null,8,["modelValue"])]),t.value.voiceTranslation?(i(),f("div",sn,[e("div",an,s(c.$t("meeting.schedule.form.myLanguage")),1),e("div",null,[d(b,{modelValue:t.value.languageType,"onUpdate:modelValue":v[2]||(v[2]=C=>t.value.languageType=C)},{default:u(()=>[(i(!0),f(me,null,pe(H.value,C=>(i(),Z(o,{class:"st-img",value:C.value},{default:u(()=>[e("img",{src:C.ctry},null,8,ln),e("span",null,s(C.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])])):x("",!0),t.value.voiceTranslation&&n.value.length>0?(i(),f("div",cn,[e("div",dn,s(c.$t("meeting.schedule.form.thesaurus")),1),e("div",null,[d(b,{modelValue:t.value.industryType,"onUpdate:modelValue":v[3]||(v[3]=C=>t.value.industryType=C),options:n.value},null,8,["modelValue","options"])])])):x("",!0)]),_:1}),d(z,{"content-class":"longtime-checkbox","hide-label":""})]),_:1},8,["model"])]),e("div",rn,[d(R,{class:"modal-btn-item",onClick:D},{default:u(()=>[ee(s(c.$t("meeting.schedule.form.btn.cancel")),1)]),_:1}),d(R,{class:"modal-btn-item",type:"primary",onClick:$},{default:u(()=>[ee(s(c.$t("meeting.longtime.form.btn.longtime")),1)]),_:1})])])}}});const mn=ne(un,[["__scopeId","data-v-bc57f777"]]),pn={class:"link-modal-container"},vn=["src"],_n={class:"link-m-t borderB"},hn={class:"link-m-m"},gn={class:"link-m-m-m"},fn={class:"link-m-m-mt"},bn={class:"name"},$n={class:"link-m-m-md"},yn={class:"link-m-m-mm"},Mn={key:0},kn={key:1},Cn={class:"link-m-m-mf"},In={class:"link-m-m-mb"},Sn={class:"link-m-b"},wn={class:"link-m-b-btn"},Tn=oe({__name:"share",props:{meetingDetail:{}},emits:["handleClose"],setup(N,{emit:O}){const y=O,l=ae(),m=ge(),{t:n}=te.exports.useI18n(),V=I({...N.meetingDetail}),t=I(null),L=()=>{y("handleClose")},q=async()=>{const $=await l.getMeetingShareInfo({meetingNo:V.value.meetingNo});if($.code!==200&&$.code!==401){S.error($.msg);return}t.value=$.data},w=$=>{if(!$)return"";const c=new Date($),v=c.getHours(),j=c.getMinutes();return`${v<10?"0":""}${v}:${j<10?"0":""}${j}`},g=$=>{if(!$)return"";const c=new Date($),v=c.getFullYear(),j=c.getMonth()+1,z=c.getDate();return`${v}-${j<10?"0":""}${j}-${z<10?"0":""}${z}`},{isWujie:p,Copy:D}=He(),M=()=>{const $=(t==null?void 0:t.value.planType)===1||(t==null?void 0:t.value.planType)===0?`${g(t==null?void 0:t.value.startTime)} ${w(t==null?void 0:t.value.startTime)} \uFF5E ${g(t==null?void 0:t.value.endTime)} ${w(t==null?void 0:t.value.endTime)}`:n("meeting.invite.link.modal.text6"),c=`${m.name} ${n("meeting.invite.link.modal.text1")} 
${n("meeting.invite.link.modal.text2")}: ${t.value.subject} 
${n("meeting.invite.link.modal.text5")}: ${$} 
${n("meeting.invite.link.modal.text4")}: ${t.value.meetingNo} 
${n("meeting.invite.link.modal.text3")}: ${t.value.inviteUrl} `;if(p.value){D(c),S.success(n("meeting.invite.link.modal.msg.copy.success"));return}navigator.clipboard.writeText(c).then(()=>{S.success(n("meeting.invite.link.modal.msg.copy.success"))}).catch(v=>{console.log(v),S.error(n("meeting.invite.link.modal.msg.copy.fail"))})},k=()=>{const $=`${t.value.inviteUrl}`;if(p.value){D($),S.success(n("meeting.invite.link.modal.msg.copy.success"));return}navigator.clipboard.writeText($).then(()=>{S.success(n("meeting.invite.link.modal.msg.copy.success"))}).catch(c=>{console.log(c),S.error(n("meeting.invite.link.modal.msg.copy.fail"))})};return ce(()=>{q()}),($,c)=>{var v,j,z,A,J,Q,B,o,b,U,R,C;return i(),f("div",pn,[e("div",{class:"link-fixed",onClick:L},[e("img",{src:a(xe),alt:""},null,8,vn)]),e("div",_n,s(a(n)("meeting.invite.link.modal.title")),1),e("div",hn,[e("div",gn,[e("div",fn,[e("span",bn,s((v=t.value)==null?void 0:v.name),1),e("span",null,s(a(n)("meeting.invite.link.modal.text1")),1)]),e("div",$n,[e("span",null,s(a(n)("meeting.invite.link.modal.text2"))+":",1),e("span",null,s((j=t.value)==null?void 0:j.subject),1)]),e("div",yn,[e("span",null,s(a(n)("meeting.invite.link.modal.text5"))+":",1),((z=t.value)==null?void 0:z.planType)===1||((A=t.value)==null?void 0:A.planType)===0?(i(),f("span",Mn,s(g((J=t.value)==null?void 0:J.startTime))+" "+s(w((Q=t.value)==null?void 0:Q.startTime))+" "+s((B=t.value)!=null&&B.endTime?"~":"")+" "+s(g((o=t.value)==null?void 0:o.endTime))+" "+s(w((b=t.value)==null?void 0:b.endTime)),1)):x("",!0),((U=t.value)==null?void 0:U.planType)===2?(i(),f("span",kn,s(a(n)("meeting.invite.link.modal.text6")),1)):x("",!0)]),e("div",Cn,[e("span",null,s(a(n)("meeting.invite.link.modal.text4"))+":",1),e("span",null,s((R=t.value)==null?void 0:R.meetingNo),1)]),e("div",In,[e("span",null,s(a(n)("meeting.invite.link.modal.text3"))+":",1),e("span",null,s((C=t.value)==null?void 0:C.inviteUrl),1)])])]),e("div",Sn,[e("div",wn,[e("div",{class:"link-m-b-btn-i btn-border",onClick:M},[e("span",null,s(a(n)("meeting.invite.link.modal.btn.copy.all")),1)]),e("div",{class:"link-m-b-btn-i btn-bg",onClick:k},[e("span",null,s(a(n)("meeting.invite.link.modal.btn.copy.link")),1)])])])])}}});const On=ne(Tn,[["__scopeId","data-v-89b65aaa"]]),xn={width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Vn=e("circle",{cx:"16",cy:"16",r:"15.5",stroke:"#fff"},null,-1),Ln=e("g",{fill:"#fff"},[e("path",{d:"M10.258 21.742c.345.344.69.344 1.034 0l10.45-10.45c.344-.345.344-.69 0-1.034-.345-.344-.69-.344-1.034 0l-10.45 10.45c-.344.345-.344.69 0 1.034Z"}),e("path",{d:"M21.742 21.742c.344-.345.344-.69 0-1.034l-10.45-10.45c-.345-.344-.69-.344-1.034 0-.344.345-.344.69 0 1.034l10.45 10.45c.345.344.69.344 1.034 0Z"})],-1),Nn=[Vn,Ln];function Hn(N,O){return i(),f("svg",xn,[...Nn])}const qn={render:Hn},Dn={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Zn=Be('<g fill-rule="evenodd" clip-rule="evenodd" fill="#0267FF"><path d="M5.249 3.938a.73.73 0 1 0 0 1.458.73.73 0 0 0 0-1.458Zm-1.604.729a1.604 1.604 0 1 1 3.208 0 1.604 1.604 0 0 1-3.208 0Z"></path><path d="M1.807 1.806C2.585 1.027 3.75.729 5.25.729h2.334a.438.438 0 0 1 0 .875H5.25c-1.415 0-2.292.286-2.826.82-.534.534-.82 1.411-.82 2.826v3.5c0 1.415.286 2.292.82 2.826.534.534 1.411.82 2.826.82h3.5c1.415 0 2.292-.286 2.826-.82.534-.534.82-1.41.82-2.826V5.834a.438.438 0 0 1 .875 0V8.75c0 1.502-.297 2.667-1.076 3.445-.778.778-1.943 1.076-3.445 1.076h-3.5c-1.501 0-2.666-.298-3.444-1.076C1.028 11.417.73 10.252.73 8.75v-3.5c0-1.501.298-2.666 1.077-3.444Z"></path><path d="M10.5.73c.242 0 .438.195.438.437v2.444l.42-.42a.437.437 0 1 1 .618.619l-1.167 1.166a.438.438 0 0 1-.746-.309v-3.5c0-.242.195-.438.437-.438Z"></path><path d="M9.023 3.19c.17-.17.448-.17.618 0l1.167 1.167a.438.438 0 0 1-.619.619L9.023 3.809a.438.438 0 0 1 0-.618ZM11.599 7.624a.864.864 0 0 0-1.075 0L8.097 9.706a1.738 1.738 0 0 1-2.215 0l-.004-.003-.19-.167c-.262-.223-.709-.25-1.01-.049l-2.875 1.93a.437.437 0 1 1-.488-.726l2.876-1.93c.62-.417 1.502-.375 2.069.113l.003.003.19.167a.864.864 0 0 0 1.074-.001L9.954 6.96a1.738 1.738 0 0 1 2.215 0l.95.817a.438.438 0 1 1-.57.664l-.95-.817Z"></path></g>',1),jn=[Zn];function En(N,O){return i(),f("svg",Dn,[...jn])}const zn={render:En},Rn=""+new URL("bg_modal_1.6e7b1e7f.png",import.meta.url).href,Un=""+new URL("bg_modal_2.cc6ad44b.png",import.meta.url).href,Pn={class:"qr-code-modal-container"},An={class:"qr-code-main"},Fn={class:"qr-code-main-top-title"},Jn={class:"qr-code-main-top-desc"},Qn={class:"qr-code-main-top-bot"},Gn={class:"qr-code-main-mid-body"},Bn={class:"qr-code-main-bot"},Yn={class:"qr-code-main-bot-desc"},Wn={class:"qr-code-main-bot-b-l"},Kn={class:"qr-code-main-bot-b-r"},Xn=oe({__name:"qr_code",props:{meetingDetail:{}},emits:["handleClose"],setup(N,{emit:O}){const y=I(null),l=O,{t:m}=te.exports.useI18n(),n=I(!0),H=()=>{l("handleClose")},t=I({...N.meetingDetail}),L=()=>{y.value&&qe.toCanvas(t.value.qrCodeStr,{errorCorrectionLevel:"H",width:180,margin:2},(w,g)=>{if(w){console.error(w);return}y.value&&y.value.appendChild(g);const p=g.getContext("2d");if(p){const M=(g.width-30)/2,k=(g.height-30)/2;p.beginPath(),p.moveTo(M+5,k),p.lineTo(M+30-5,k),p.quadraticCurveTo(M+30,k,M+30,k+5),p.lineTo(M+30,k+30-5),p.quadraticCurveTo(M+30,k+30,M+30-5,k+30),p.lineTo(M+5,k+30),p.quadraticCurveTo(M,k+30,M,k+30-5),p.lineTo(M,k+5),p.quadraticCurveTo(M,k,M+5,k),p.closePath(),p.fillStyle="#ffffff",p.fill(),p.strokeStyle="#000000",p.lineWidth=2,p.stroke();const $=new Image;$.src=ut,$.onload=()=>{p.drawImage($,M+2.5,k+2.5,30-5,30-5)}}})},q=()=>{n.value=!1;const w=document.querySelector(".qr-code-main");w&&mt(w,{backgroundColor:null,useCORS:!0}).then(g=>{const p=document.createElement("a");p.href=g.toDataURL("image/png"),p.download=`${t.value.meetingNo}.png`,p.click(),n.value=!0}).catch(()=>{n.value=!0})};return ce(()=>{L()}),fe(()=>{t.value=null}),(w,g)=>(i(),f("div",Pn,[e("div",{class:"qr-code-fixed",onClick:H},[d(a(qn))]),e("div",An,[e("div",{class:"qr-code-main-top",style:Me({backgroundImage:`url(${a(Rn)})`})},[e("div",Fn,[e("span",null,s(t.value.subject),1)]),e("div",Jn,[e("span",null,s(a(m)("meeting.qr.code.modal.desc")),1)]),e("div",Qn,[e("span",null,s(a(Oe)(t.value.meetingNo)),1)])],4),e("div",{class:"qr-code-main-mid",style:Me({backgroundImage:`url(${a(Un)})`})},[e("div",Gn,[e("div",{ref_key:"qrCodeContainer",ref:y,class:"qr-code-container"},null,512)])],4)]),e("div",Bn,[e("div",Yn,[e("span",null,s(a(m)("meeting.qr.code.modal.desc1")),1)]),e("div",{class:"qr-code-main-bot-b",onClick:q},[e("div",Wn,[d(a(zn))]),e("div",Kn,[e("span",null,s(a(m)("meeting.qr.code.modal.desc2")),1)])])])]))}});const eo=ne(Xn,[["__scopeId","data-v-16b5d05d"]]),to={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},no=e("path",{d:"M25.556 4.686 11.26 9.436c-9.61 3.215-9.61 8.456 0 11.654l4.243 1.409 1.41 4.243c3.198 9.611 8.454 9.611 11.653 0l4.766-14.281c2.121-6.413-1.362-9.912-7.775-7.775Zm.507 8.519-6.017 6.048a1.174 1.174 0 0 1-.839.349c-.3 0-.601-.111-.839-.349-.46-.459-.46-1.219 0-1.678l6.017-6.048c.459-.46 1.219-.46 1.678 0 .46.459.46 1.219 0 1.678Z",fill:"#0267FF"},null,-1),oo=[no];function so(N,O){return i(),f("svg",to,[...oo])}const ao={render:so},lo={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},io=e("g",{fill:"#0267FF"},[e("path",{d:"M26.522 5.637v-2.47c0-.65-.538-1.188-1.188-1.188-.649 0-1.187.539-1.187 1.188v2.375H13.855V3.167c0-.65-.538-1.188-1.187-1.188-.65 0-1.188.539-1.188 1.188v2.47c-4.275.396-6.349 2.945-6.666 6.73-.031.458.349.838.792.838h26.79c.46 0 .84-.396.792-.839-.317-3.784-2.391-6.333-6.666-6.729ZM31.667 15.58H6.333c-.87 0-1.583.713-1.583 1.583v9.754c0 4.75 2.375 7.916 7.917 7.916h7.806a1.58 1.58 0 0 0 1.504-2.09c-.317-.918-.586-1.931-.586-2.66 0-4.797 3.91-8.708 8.708-8.708.46 0 .918.032 1.362.11a1.576 1.576 0 0 0 1.805-1.55v-2.756c-.016-.886-.728-1.599-1.6-1.599ZM14.582 28.04a1.829 1.829 0 0 1-.522.333c-.19.08-.396.127-.602.127-.206 0-.411-.047-.601-.127-.19-.079-.364-.19-.523-.332-.285-.3-.459-.713-.459-1.124 0-.095.016-.206.032-.301a.954.954 0 0 1 .095-.3c.031-.096.079-.19.142-.286.048-.08.127-.158.19-.237.159-.143.333-.254.523-.333.38-.158.823-.158 1.203 0 .19.08.364.19.522.333.064.079.143.158.19.237.064.095.111.19.143.285.048.095.08.19.095.3.016.096.032.207.032.302 0 .411-.175.823-.46 1.124Zm0-5.54a1.826 1.826 0 0 1-.522.332c-.19.079-.396.126-.602.126-.206 0-.411-.047-.601-.126a1.632 1.632 0 0 1-.523-.333c-.285-.3-.459-.712-.459-1.124 0-.412.174-.823.46-1.124.157-.143.332-.253.522-.333.38-.158.823-.158 1.203 0 .19.08.364.19.522.333.064.08.143.158.19.237.064.095.111.19.143.285.048.095.08.19.095.285.016.111.032.222.032.317 0 .412-.175.823-.46 1.124Zm5.542 0c-.3.284-.697.458-1.124.458-.206 0-.412-.047-.602-.126a1.634 1.634 0 0 1-.522-.333c-.285-.3-.46-.712-.46-1.124 0-.095.017-.206.032-.317.016-.095.048-.19.095-.285.032-.095.08-.19.143-.285l.19-.237c.586-.586 1.646-.586 2.248 0l.19.237c.064.095.111.19.143.285.047.095.079.19.095.285.015.111.031.222.031.317 0 .412-.174.823-.459 1.124Z"}),e("path",{d:"M34.564 25.602a6.345 6.345 0 0 0-8.962 0 6.345 6.345 0 0 0 0 8.962 6.345 6.345 0 0 0 8.962 0 6.345 6.345 0 0 0 0-8.962Zm-1.203 5.368a1.133 1.133 0 0 1-.84.348H31.35v1.235c0 .333-.127.618-.348.84a1.16 1.16 0 0 1-.84.348c-.649 0-1.187-.538-1.187-1.188v-1.235h-1.188c-.649 0-1.187-.522-1.187-1.187 0-.65.538-1.188 1.188-1.188h1.187V27.82c0-.649.522-1.187 1.188-1.187.649 0 1.187.538 1.187 1.187v1.124h1.172c.665 0 1.187.539 1.187 1.188 0 .332-.127.633-.348.839Z"})],-1),co=[io];function ro(N,O){return i(),f("svg",lo,[...co])}const uo={render:ro},mo={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},po=e("path",{d:"M32.648 13.775C31 6.445 24.604 3.167 18.999 3.167h-.015c-5.59 0-11.97 3.277-13.633 10.592-1.868 8.17 3.135 15.09 7.663 19.46A8.606 8.606 0 0 0 19 35.64a8.542 8.542 0 0 0 5.97-2.422c4.528-4.37 9.531-11.274 7.679-19.444Zm-8.455 1.314-6.334 6.334a1.175 1.175 0 0 1-.839.348c-.3 0-.601-.11-.839-.348l-2.375-2.375c-.46-.46-.46-1.22 0-1.678.46-.46 1.22-.46 1.678 0l1.536 1.535 5.494-5.494c.46-.459 1.22-.459 1.679 0 .459.46.459 1.22 0 1.678Z",fill:"#FF6C02"},null,-1),vo=[po];function _o(N,O){return i(),f("svg",mo,[...vo])}const ho={render:_o},go={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},fo=e("path",{d:"M25.636 3.167H12.367c-5.763 0-9.199 3.436-9.199 9.2v13.252c0 5.779 3.436 9.215 9.2 9.215H25.62c5.763 0 9.199-3.436 9.199-9.2V12.366c.016-5.763-3.42-9.199-9.184-9.199Zm-.301 17.02h-5.146v5.147c0 .649-.538 1.187-1.188 1.187-.649 0-1.187-.538-1.187-1.187v-5.146h-5.146c-.65 0-1.188-.538-1.188-1.188 0-.649.539-1.187 1.188-1.187h5.146v-5.146c0-.65.538-1.188 1.187-1.188.65 0 1.188.539 1.188 1.188v5.146h5.146c.649 0 1.187.538 1.187 1.187 0 .65-.538 1.188-1.187 1.188Z",fill:"#0267FF"},null,-1),bo=[fo];function $o(N,O){return i(),f("svg",go,[...bo])}const yo={render:$o},Mo={class:"menu-panel-top"},ko={class:"menu-panel-content"},Co={class:"grid-meeting-type-item-b"},Io={class:"grid-meeting-type-item-b-top icon1"},So={class:"grid-meeting-type-item-b-bot"},wo={class:"grid-meeting-type-item-b"},To={class:"grid-meeting-type-item-b-top icon2"},Oo={class:"grid-meeting-type-item-b-bot"},xo={class:"grid-meeting-type-item-b"},Vo={class:"grid-meeting-type-item-b-top icon3"},Lo={class:"grid-meeting-type-item-b-bot"},No={class:"grid-meeting-type-item-b"},Ho={class:"grid-meeting-type-item-b-top icon4"},qo={class:"grid-meeting-type-item-b-bot"},Do=oe({__name:"menu",emits:["handleQuickMeetingOpen","handleScheduleOpen","handleLongtimeOpen","handleJoinMeetingOpen"],setup(N,{emit:O}){const y=ae(),{t:l}=te.exports.useI18n(),m=O,H=Te(()=>{if(y.answerInfo&&y.answerInfo.meetingNo){S.error(l("meeting.call.message.tips"));return}m("handleQuickMeetingOpen")},1e3),V=()=>{m("handleScheduleOpen")},t=()=>{m("handleLongtimeOpen")},L=()=>{if(y.answerInfo&&y.answerInfo.meetingNo){S.error(l("meeting.call.message.tips"));return}m("handleJoinMeetingOpen")};return(q,w)=>{const g=we,p=Ye,D=We;return i(),Z(g,{class:"general-card menu-panel",bordered:!1,"body-style":{height:"100%",display:"flex",padding:0,flexFlow:"column"}},{default:u(()=>[e("div",Mo,[e("span",null,s(q.$t("meeting.menu.title")),1)]),e("div",ko,[d(D,{class:"grid-meeting-type",gutter:[16,16]},{default:u(()=>[d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(g,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:a(H)},{default:u(()=>[e("div",Co,[e("div",Io,[d(a(ao))]),e("div",So,[e("span",null,s(q.$t("meeting.menu.kshy")),1)])])]),_:1},8,["onClick"])]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(g,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:V},{default:u(()=>[e("div",wo,[e("div",To,[d(a(uo))]),e("div",Oo,[e("span",null,s(q.$t("meeting.menu.yyhy")),1)])])]),_:1})]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(g,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:t},{default:u(()=>[e("div",xo,[e("div",Vo,[d(a(ho))]),e("div",Lo,[e("span",null,s(q.$t("meeting.menu.cqhy")),1)])])]),_:1})]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(g,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:L},{default:u(()=>[e("div",No,[e("div",Ho,[d(a(yo))]),e("div",qo,[e("span",null,s(q.$t("meeting.menu.jrhy")),1)])])]),_:1})]),_:1})]),_:1})])]),_:1})}}});const Zo=ne(Do,[["__scopeId","data-v-25711f67"]]),jo={width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Eo=e("g",{fill:"#FF6C02"},[e("path",{d:"M24.464 12.098v3.722a4.9 4.9 0 0 1-4.9 4.9H15.41c-.641 0-1.166.513-1.166 1.167v.956a1.17 1.17 0 0 0 1.166 1.167h2.637c.455 0 .828.362.828.828a.832.832 0 0 1-.828.829H8.784a.832.832 0 0 1-.829-.829c0-.466.374-.828.829-.828h2.636a1.17 1.17 0 0 0 1.167-1.167v-.956c0-.654-.525-1.167-1.167-1.167h-4.2a4.897 4.897 0 0 1-4.888-4.9V8.388A4.894 4.894 0 0 1 7.22 3.5h5.029a1.17 1.17 0 0 1 1.166 1.167v2.508c0 2.252 1.505 3.757 3.745 3.757h6.137a1.17 1.17 0 0 1 1.167 1.166Z"}),e("path",{d:"m25.656 2.753-1.318.922v-.49a1.994 1.994 0 0 0-1.995-1.995H17.35a2.168 2.168 0 0 0-2.182 2.17v3.826c0 1.004.502 1.995 1.995 1.995h5.168a1.994 1.994 0 0 0 1.995-1.995v-.501l1.319.921c.665.455 1.19.175 1.19-.618V3.37c0-.793-.525-1.061-1.179-.618Z"})],-1),zo=[Eo];function Ro(N,O){return i(),f("svg",jo,[...zo])}const Uo={render:Ro},Po=""+new URL("no_record.568a47cc.png",import.meta.url).href,Ao={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fo=e("g",{"clip-rule":"evenodd"},[e("path",{class:"svg-fill",d:"M14.488 1.513a.5.5 0 0 1 0 .707L9.022 7.686a.5.5 0 1 1-.708-.707l5.467-5.466a.5.5 0 0 1 .707 0Z"}),e("path",{class:"svg-fill",d:"M10.965 1.333a.5.5 0 0 1 .5-.5h3.2a.5.5 0 0 1 .5.5v3.2a.5.5 0 1 1-1 0v-2.7h-2.7a.5.5 0 0 1-.5-.5ZM2.062 2.063c.89-.89 2.22-1.23 3.937-1.23h1.333a.5.5 0 0 1 0 1H5.999c-1.618 0-2.62.327-3.23.937-.61.61-.937 1.612-.937 3.23v4c0 1.617.327 2.62.937 3.23.61.61 1.612.936 3.23.936h4c1.617 0 2.62-.326 3.23-.937.61-.61.936-1.612.936-3.23V8.667a.5.5 0 1 1 1 0V10c0 1.716-.34 3.047-1.23 3.937-.89.89-2.22 1.23-3.936 1.23h-4c-1.716 0-3.048-.34-3.937-1.23-.89-.89-1.23-2.221-1.23-3.937V6c0-1.716.34-3.048 1.23-3.937Z"})],-1),Jo=[Fo];function Qo(N,O){return i(),f("svg",Ao,[...Jo])}const Go={render:Qo},Bo={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Yo=e("g",{fill:"#32466A"},[e("path",{d:"M5.57 2.167a.68.68 0 0 1 .68.68V5.57a.68.68 0 0 1-.68.681H2.847a.68.68 0 0 1-.68-.68V2.847a.68.68 0 0 1 .68-.68H5.57ZM5.57 1H2.847A1.85 1.85 0 0 0 1 2.847V5.57a1.85 1.85 0 0 0 1.847 1.848H5.57A1.85 1.85 0 0 0 7.417 5.57V2.847A1.85 1.85 0 0 0 5.57 1Zm7.583 1.167a.68.68 0 0 1 .68.68V5.57a.68.68 0 0 1-.68.681H10.43a.68.68 0 0 1-.681-.68V2.847a.68.68 0 0 1 .68-.68h2.723Zm0-1.167H10.43a1.85 1.85 0 0 0-1.848 1.847V5.57a1.85 1.85 0 0 0 1.848 1.848h2.722A1.85 1.85 0 0 0 15 5.57V2.847A1.85 1.85 0 0 0 13.153 1ZM5.57 9.75a.68.68 0 0 1 .68.68v2.723a.68.68 0 0 1-.68.68H2.847a.68.68 0 0 1-.68-.68V10.43a.68.68 0 0 1 .68-.681H5.57Zm0-1.167H2.847A1.85 1.85 0 0 0 1 10.431v2.722A1.85 1.85 0 0 0 2.847 15H5.57a1.85 1.85 0 0 0 1.848-1.847V10.43A1.85 1.85 0 0 0 5.57 8.583Z"}),e("path",{d:"M3.625 4.208a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM3.625 11.791a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM11.207 4.208a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM13.832 14.416a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM11.5 14.416a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0Z"}),e("path",{d:"M14.415 8.583a.583.583 0 0 0-.583.583V11.5h-1.167V9.166a.583.583 0 0 0-.583-.583H9.165a.583.583 0 0 0-.583.583v5.25a.583.583 0 1 0 1.167 0V9.75h1.75v2.333a.583.583 0 0 0 .583.583h2.333a.583.583 0 0 0 .584-.583V9.166a.583.583 0 0 0-.584-.583Z"})],-1),Wo=[Yo];function Ko(N,O){return i(),f("svg",Bo,[...Wo])}const Xo={render:Ko},es={key:0,class:"list-panel"},ts={class:"list-panel-top"},ns={class:"list-panel-main wsl-scroll"},os={class:"list-panel-main-item-top"},ss={class:"list-panel-main-item-content"},as=["onMouseenter"],ls={class:"list-panel-main-item-content-item-left"},is={class:"list-panel-main-item-content-item-right-left"},cs={class:"list-panel-main-item-content-item-right-left-top textEllipsis"},ds={class:"list-panel-main-item-content-item-right-left-bot"},rs={class:"list-panel-main-item-content-item-right-left-bot-i"},us=["src"],ms={class:"list-panel-main-item-content-item-right-left-bot-i"},ps={class:"list-panel-main-item-content-item-right-left-bot-i"},vs={key:0,class:"list-panel-main-item-content-item-right-right"},_s={class:"btn-del"},hs={key:1,class:"no-data"},gs={class:"no-data-body"},fs=["src"],bs={class:"no-data-body-text"},$s=oe({__name:"list",emits:["openLinkShare","openQrCode","handleJoinMeetingOpen","handleScheduleOpen"],setup(N,{expose:O,emit:y}){const l=y,{t:m}=te.exports.useI18n(),n=ae(),H=I([]),V=ge(),t=I(!0),L=I({planId:""}),q=o=>{const b=_e(),U=_e(o),R=U.format("YYYY-MM-DD");return U.isSame(b,"day")?`${m("today")}`:R},w=o=>_e(o).format("YYYY-MM-DD HH:mm"),g=o=>m(o===1?"meeting.list.long.status.jxz":"meeting.list.long.status.dks"),p=o=>o===1?"jxz":o===0?"dks":"",D=async()=>{const o=await n.getMeetingGroupList();if(o.code!==200&&o.code!==401){S.error(o.msg);return}H.value=o.data},M=async o=>{const b=await n.delMeetingPlan({planId:o.planId});b.code!==200&&b.code!==401?S.error(b.msg):S.success(m("meeting.list.long.delete")),D()},k=async o=>{const b=await n.delMeetingPlan({planId:o.planId});b.code!==200&&b.code!==401?S.error(b.msg):S.success(m("meeting.list.long.cancel")),D()},$=async o=>{const b=await n.overMeetingPlan({planId:o.planId});if(b.code!==200&&b.code!==401){S.error(b.msg),D();return}S.success(m("meeting.list.long.cancel")),D()},c=async o=>{const b=await n.getMeetingDetail(o);if(b.code!==200&&b.code!==401){S.error(b.msg);return}l("handleScheduleOpen",b.data)},v=o=>{o.command===1?k(o.data):o.command===2?$(o.data):o.command===3?c(o.data):o.command===4&&M(o.data)},j=o=>{t.value&&(L.value=o)},z=()=>{t.value&&(L.value="")},A=o=>{t.value=!o,o||z()},J=o=>{if(n.answerInfo&&n.answerInfo.meetingNo){S.error(m("meeting.call.message.tips"));return}l("handleJoinMeetingOpen",o)},Q=o=>{l("openLinkShare",o)},B=o=>{l("openQrCode",o)};return ce(()=>{D()}),O({handleGetMeetingList:D}),(o,b)=>{const U=Ce,R=Se,C=De,G=Xe,de=et,Y=Ie,W=we;return H.value.length>0?(i(),f("div",es,[e("div",ts,[e("span",null,s(o.$t("meeting.list.title")),1)]),e("div",ns,[(i(!0),f(me,null,pe(H.value,(P,ve)=>(i(),f("div",{key:`meeting_${ve}`,class:se(["list-panel-main-item",P.timestamp===0?"long":""])},[e("div",os,[e("span",null,s(P.timestamp===0?o.$t("meeting.list.long.title"):q(P.timestamp)),1)]),e("div",ss,[d(W,{class:se(P.timestamp===0?"long-card":""),bordered:!1,"body-style":{padding:"5px"}},{default:u(()=>[(i(!0),f(me,null,pe(P.meetings,(_,re)=>(i(),f("div",{key:`meeting_item_${re}`,class:se(["list-panel-main-item-content-item",L.value.planId===_.planId?"active":""]),onMouseenter:le=>j(_),onMouseleave:z},[e("div",ls,[P.timestamp!==0?(i(),Z(a(gt),{key:0})):(i(),Z(a(Uo),{key:1}))]),e("div",{class:se(["list-panel-main-item-content-item-right",re<P.meetings.length-1?"borderB":""])},[e("div",is,[d(U,{content:_.subject},{default:u(()=>[e("div",cs,s(_.subject),1)]),_:2},1032,["content"]),e("div",ds,[e("div",rs,[e("span",null,s(o.$t("meeting.list.long.zzz"))+":",1),e("img",{src:_.masterAvatarUrl,alt:""},null,8,us),e("span",null,s(_.masterName),1)]),e("div",ms,[e("span",null,s(o.$t("meeting.list.long.time"))+":",1),e("span",null,s(w(_.startTime))+" "+s(P.timestamp!==0?`- ${w(_.endTime)}`:""),1)]),e("div",ps,[e("span",null,s(o.$t("meeting.list.long.hyh"))+":",1),e("span",null,s(a(Oe)(_.meetingNo)),1)]),P.timestamp!==0?(i(),f("div",{key:0,class:se(["list-panel-main-item-content-item-right-left-bot-s",p(_.planStatus)])},[e("span",null,s(g(_.planStatus)),1)],2)):x("",!0)])]),L.value.planId===_.planId?(i(),f("div",vs,[d(Y,null,{default:u(()=>[d(R,{type:"primary",onClick:le=>J(_)},{default:u(()=>[ee(s(o.$t("meeting.list.long.rh")),1)]),_:2},1032,["onClick"]),d(R,{onClick:le=>Q(_)},{icon:u(()=>[d(a(Go),{class:"share-icon"})]),_:2},1032,["onClick"]),d(R,{onClick:le=>B(_)},{icon:u(()=>[d(a(Xo),{class:"qrCode-icon"},{default:u(()=>[ee(">")]),_:1})]),_:2},1032,["onClick"]),_.masterId===a(V).userId?(i(),Z(de,{key:0,trigger:"click",onSelect:v,onPopupVisibleChange:A},Ke({default:u(()=>[d(R,null,{icon:u(()=>[d(C)]),_:1})]),_:2},[P.timestamp!==0?{name:"content",fn:u(()=>[_.masterId===a(V).userId&&_.planStatus===0?(i(),Z(G,{key:0,value:{command:3,data:_}},{default:u(()=>[ee(s(o.$t("meeting.list.long.xg")),1)]),_:2},1032,["value"])):x("",!0),_.masterId===a(V).userId&&_.planStatus===0?(i(),Z(G,{key:1,value:{command:1,data:_}},{default:u(()=>[ee(s(o.$t("meeting.list.long.qxhy")),1)]),_:2},1032,["value"])):x("",!0),_.masterId===a(V).userId&&_.planStatus===1?(i(),Z(G,{key:2,value:{command:2,data:_}},{default:u(()=>[ee(s(o.$t("meeting.list.long.jshy")),1)]),_:2},1032,["value"])):x("",!0)]),key:"0"}:{name:"content",fn:u(()=>[_.masterId===a(V).userId?(i(),Z(G,{key:0,value:{command:4,data:_}},{default:u(()=>[e("span",_s,s(o.$t("meeting.list.long.del")),1)]),_:2},1032,["value"])):x("",!0)]),key:"1"}]),1024)):x("",!0)]),_:2},1024)])):x("",!0)],2)],42,as))),128))]),_:2},1032,["class"])])],2))),128))])])):(i(),f("div",hs,[e("div",gs,[e("img",{src:a(Po),alt:""},null,8,fs),e("div",bs,s(o.$t("meeting.no.data.text")),1)])]))}}});const ys=ne($s,[["__scopeId","data-v-04da3b64"]]),Ms={class:"container"},ks={class:"layout"},Cs={class:"layout-left-side"},Is={class:"layout-content"},Ss=oe({__name:"index",setup(N){const{t:O,locale:y}=te.exports.useI18n(),l=ae(),m=Ze(),n=je(),H=ge(),V=Ee(),t=I(!1),L=I(!1),q=I(!1),w=I(),g=I(!1),p=()=>{l.updateRoomOptions(null),l.updateRoomInvitePsn(null),g.value=!1},D=()=>{g.value=!0,console.log("handleOptionCallOpen",g.value),l.updateRoomInvitePsn(null);const r=y.value==="en-US"?`${O("meeting.room.option.meetingName")} Of ${H.name}`:`${H.name} ${O("meeting.room.option.meetingName")}`;l.updateRoomOptions({meetingName:r,video:!1,audio:!0,loudspeaker:!0,cloudRecord:!1,escaping:!1,abstract:!1,organizer:H.name})},M=async r=>{var h,E,T,K;try{const F=await l.ThImEvent.joinMeeting({meetingNo:r.meetingNo,forceEntryStatus:0,inviters:l.roomInvitePsn?he(l.roomInvitePsn,"userId"):[]});if(m.updateRoomTranslateInfo({...m.roomTranslateInfo,...F.data,open:!!((h=F.data)!=null&&h.enableTranslation)}),V.updateBtnLoading(!1),F.code!==200&&F.code!==401){S.error(F.msg);return}l.ThImEvent.roomMenuOptions={video:(E=l.roomOptions)==null?void 0:E.video,audio:(T=l.roomOptions)==null?void 0:T.audio,loudspeaker:(K=l.roomOptions)==null?void 0:K.loudspeaker},l.ThImEvent.setRoomOnlineListPsn(n.memberList),l.ThImEvent.setRoomOnlineGroupPsn(n.memberGroupList),p(),l.updateAssistVisible(!0)}catch{V.updateBtnLoading(!1)}},k=async()=>{var r,h,E,T,K,F,ie;try{const X=await l.createRealtimeMeeting({aiStatus:(r=l.roomOptions)!=null&&r.abstract?"1":"0",recordStatus:(h=l.roomOptions)!=null&&h.cloudRecord?"1":"0",escaping:(E=l.roomOptions)!=null&&E.escaping?"1":"0",subject:(T=l.roomOptions)==null?void 0:T.meetingName,userIds:l.roomInvitePsn?he(l.roomInvitePsn,"userId"):[],enableTranslation:(K=l.roomOptions)!=null&&K.escaping?"1":"0",languageType:(F=m.roomTranslateInfo)==null?void 0:F.languageType,industryType:(ie=m.roomTranslateInfo)==null?void 0:ie.industryType});if(X.code!==200&&X.code!==401){S.error(X.msg),V.updateBtnLoading(!1);return}M(X.data)}catch{V.updateBtnLoading(!1)}},$=()=>{l.updateRoomOptions({video:!1,audio:!0,loudspeaker:!0}),t.value=!0},c=()=>{t.value=!1},v=r=>{l.updateRoomOptions({meetingName:r==null?void 0:r.subject,meetingNo:r==null?void 0:r.meetingNo,cloudRecord:(r==null?void 0:r.recordStatus)===1,abstract:(r==null?void 0:r.aiStatus)===1,escaping:(r==null?void 0:r.escaping)===1,organizer:r==null?void 0:r.masterName,video:!1,audio:!0,loudspeaker:!0}),L.value=!0},j=()=>{L.value=!1},z=async r=>{var E,T,K,F,ie,X,be;const h=await l.ThImEvent.joinMeeting({meetingNo:r.meetingNo,forceEntryStatus:0,inviters:[]});if(h.code!==200&&h.code!==401){h.code===$e.OTHER_CLIENT_JOINED_MEETING||h.code===$e.OTHER_CLIENT_IN_MEETING?(l.updateForceEntryMeetingInfo({meetingNo:r.meetingNo,invitor:[]}),m.updateRoomTranslateInfo({...m.roomTranslateInfo,...h.data,open:!!((E=h.data)!=null&&E.enableTranslation)}),ue.emit("Chat-Other-Client-Joined-Meeting"),j()):S.error(h.msg);return}m.updateRoomTranslateInfo({...m.roomTranslateInfo,languageType:(T=h.data)==null?void 0:T.languageType,industryType:(K=h.data)==null?void 0:K.industryType,...h.data,open:!!((F=h.data)!=null&&F.enableTranslation)}),l.ThImEvent.roomMenuOptions={video:(ie=l.roomOptions)==null?void 0:ie.video,audio:(X=l.roomOptions)==null?void 0:X.audio,loudspeaker:(be=l.roomOptions)==null?void 0:be.loudspeaker},l.ThImEvent.setRoomOnlineListPsn(n.memberList),l.ThImEvent.setRoomOnlineGroupPsn(n.memberGroupList),L.value&&j(),t.value&&c(),l.updateAssistVisible(!0)},A=async()=>{var r;await dt(1e3*.3),(r=w.value)==null||r.handleGetMeetingList()},J=I(null),Q=r=>{q.value=!0,r?J.value=r:J.value=null},B=()=>{q.value=!1,w.value&&w.value.handleGetMeetingList()},o=I(!1),b=()=>{o.value=!0},U=()=>{o.value=!1},R=r=>{U(),l.updateSchedulePsn(r)},C=I(!1),G=()=>{C.value=!0},de=()=>{C.value=!1,A()},Y=I(),W=I(!1),P=()=>{Y.value=null,W.value=!1},ve=r=>{console.log("handleLinkShareModalOpen",r),Y.value=r,W.value=!0},_=I(!1),re=()=>{Y.value=null,_.value=!1},le=r=>{console.log("handleQrCodeModalOpen",r),Y.value=r,_.value=!0},Ve=()=>{ue.on("meeting-list-update",A)},Le=()=>{ue.off("meeting-list-update",A)};return fe(()=>{Le()}),ce(()=>{Ve()}),(r,h)=>{const E=tt;return i(),f("div",Ms,[e("div",ks,[e("div",Cs,[d(Zo,{onHandleQuickMeetingOpen:D,onHandleScheduleOpen:Q,onHandleLongtimeOpen:G,onHandleJoinMeetingOpen:$})]),e("div",Is,[d(ys,{ref_key:"meetingListRef",ref:w,onOpenLinkShare:ve,onOpenQrCode:le,onHandleJoinMeetingOpen:v,onHandleScheduleOpen:Q},null,512)])]),g.value?(i(),Z(E,{key:0,visible:g.value,"onUpdate:visible":h[0]||(h[0]=T=>g.value=T),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(rt,{onHandleCall:k,onHandleClose:p})]),_:1},8,["visible"])):x("",!0),q.value?(i(),Z(E,{key:1,visible:q.value,"onUpdate:visible":h[1]||(h[1]=T=>q.value=T),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(_t,{"meeting-detail":J.value,onHandleClose:B,onHandleInviteOpen:b},null,8,["meeting-detail"])]),_:1},8,["visible"])):x("",!0),t.value?(i(),Z(E,{key:2,visible:t.value,"onUpdate:visible":h[2]||(h[2]=T=>t.value=T),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[t.value?(i(),Z(Et,{key:0,onHandleClose:c,onHandleJoinMeeting:z})):x("",!0)]),_:1},8,["visible"])):x("",!0),L.value?(i(),Z(E,{key:3,visible:L.value,"onUpdate:visible":h[3]||(h[3]=T=>L.value=T),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[L.value?(i(),Z(pt,{key:0,onHandleClose:j,onHandleJoinMeeting:z})):x("",!0)]),_:1},8,["visible"])):x("",!0),C.value?(i(),Z(E,{key:4,visible:C.value,"onUpdate:visible":h[4]||(h[4]=T=>C.value=T),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(mn,{onHandleClose:de,onHandleInviteOpen:b})]),_:1},8,["visible"])):x("",!0),o.value?(i(),Z(E,{key:5,visible:o.value,"onUpdate:visible":h[5]||(h[5]=T=>o.value=T),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(ht,{"select-psn":a(l).schedulePsn,onHandleClose:U,onHandleInvite:R},null,8,["select-psn"])]),_:1},8,["visible"])):x("",!0),W.value?(i(),Z(E,{key:6,visible:W.value,"onUpdate:visible":h[6]||(h[6]=T=>W.value=T),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[W.value?(i(),Z(On,{key:0,"meeting-detail":Y.value,onHandleClose:P},null,8,["meeting-detail"])):x("",!0)]),_:1},8,["visible"])):x("",!0),_.value?(i(),Z(E,{key:7,visible:_.value,"onUpdate:visible":h[7]||(h[7]=T=>_.value=T),footer:!1,closable:!1,class:"customModal qrCodeModal"},{default:u(()=>[_.value?(i(),Z(eo,{key:0,"meeting-detail":Y.value,onHandleClose:re},null,8,["meeting-detail"])):x("",!0)]),_:1},8,["visible"])):x("",!0)])}}});const Es=ne(Ss,[["__scopeId","data-v-dc7e7e67"]]);export{Es as default};
