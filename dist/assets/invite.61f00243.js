import{v as W,ac as j,_ as z}from"./index.f45eebeb.js";import{C as n,D as o,E as e,d as H,j as _,u as a,aN as l,F as h,aI as $,aH as K,aK as p,aJ as b,aE as k,aF as C,b2 as T,b3 as Z,G as X,aW as Y,ac as q,b5 as ee}from"./arco.638965b6.js";import{c as se}from"./icon_close.f7fee805.js";const te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAOFJREFUKFONkDFOQkEURc8dGgqWwQ4srQkLcAFCAWJCL4mxx1oTwzfGuAgLY2NjaWJL7xIoP3PNDMHAfCNO82bevWfmvhHlOveR1sxT2y1m3Olj16LSr7FfHRhQIwUeXal3GIgMk+lfAClS5DZHCkwPRkrG1tin67Sp9NSInBsDt0ObG5tuPptOrmK1KXzFJUPeVG+GHvmEQJeFrhu/BoSJL2Pkk0rPGfgrQqlnIJz5AujEha5+fWFHFxP3ZaY5es2cB73vQYWegGOZWQbSd97rpQD29O3QfSKrxu1bcuQf/RvkVWVV61AybAAAAABJRU5ErkJggg==",ne={width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ie=e("rect",{x:".5",y:".5",width:"17",height:"17",rx:"5.5",stroke:"#D1D8E3"},null,-1),oe=[ie];function ae(g,f){return n(),o("svg",ne,[...oe])}const O={render:ae},le={width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ce=e("rect",{width:"18",height:"18",rx:"6",fill:"#0267FF"},null,-1),re=e("path",{d:"M12.144 6.083a.794.794 0 1 1 1.123 1.123l-4.764 4.765a.794.794 0 0 1-1.123 0L4.733 9.324A.794.794 0 0 1 5.856 8.2l2.085 2.085 4.203-4.203Z",fill:"#fff"},null,-1),de=[ce,re];function ve(g,f){return n(),o("svg",le,[...de])}const E={render:ve},ue={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:"arco-icon arco-icon-caret-left arco-collapse-item-expand-icon","stroke-width":"4"},_e=e("path",{d:"M13.171 24.937a1.2 1.2 0 0 1 0-1.874L30.051 9.56c.785-.629 1.949-.07 1.949.937v27.006c0 1.006-1.164 1.566-1.95.937L13.171 24.937Z",fill:"currentColor",stroke:"none"},null,-1),me=[_e];function he(g,f){return n(),o("svg",ue,[...me])}const pe={render:he},ge={class:"invite-join-group-modal-container modal-container"},fe=["src"],Ae={class:"invite-m-t"},be={class:"invite-m-tabs"},ke={class:"invite-m-tabs-main"},we={class:"invite-m-s"},$e={class:"invite-m-main wsl-scroll"},Ce=["onClick"],Ie={class:"invite-m-main-i-l"},ye={class:"invite-m-main-i-r"},Se={class:"invite-m-main-i-rl"},xe=["src"],Ge={class:"invite-m-main-i-rr"},Fe={class:"invite-m-main-i-rr-t"},Le={class:"invite-m-main-i-rr-b"},Oe=["onClick"],Ee={class:"header-main-left"},Be={class:"header-main-left-i"},Me=["src"],Ne={class:"header-main-title"},De={class:"invite-main-group-body"},Qe=["onClick"],Ue={class:"invite-m-main-i-l"},Ve={class:"invite-m-main-i-r"},Je={class:"invite-m-main-i-rl"},Pe=["src"],Re={class:"invite-m-main-i-rr"},We={class:"invite-m-main-i-rr-t"},je={class:"invite-m-main-i-rr-b"},ze={class:"invite-m-bot"},He={class:"invite-m-bot-l"},Ke=["src"],Te={class:"invite-m-bot-r"},Ze=H({__name:"invite",props:{selectPsn:{}},emits:["handleClose","handleInvite"],setup(g,{emit:f}){const I=f,{t:y}=W.exports.useI18n(),B=g,M=()=>{I("handleClose")},m=_({condition:""}),u=_(1),c=j(),A=_({}),N=s=>{A.value[s]=!A.value[s]},S=s=>{const i=_("");return s.pcOnline||s.androidOnline||s.glassOnline?i.value="online":i.value="outline",i.value},D=_(20),Q=s=>({zIndex:s,left:`${s*D.value}px`}),U=async()=>{const s=await c.getContactsData(m.value);s.code!==200&&s.code!==401||c.updateMemberList(s.data)},V=async()=>{const s=await c.getContactsGroupData(m.value);s.code!==200&&s.code!==401||c.updateMemberGroupList(s.data)},x=()=>{console.log("\u67E5\u8BE2\u4EBA\u5458\u4E8B\u4EF6"),u.value===1?U():u.value===2&&V()},G=s=>{u.value=s,m.value.condition="",x()},r=_(B.selectPsn),F=s=>r==null?void 0:r.value.some(i=>i.userId===s),L=s=>{const i=r.value.findIndex(w=>w.userId===s.userId);i===-1?r.value.length<c.limitMember?r.value.push(s):Y.error(`${y("meeting.member.limit.member.tip")} ${c.limitMember}`):r.value.splice(i,1)},J=()=>{I("handleInvite",r.value)};return(s,i)=>{const w=q,P=ee;return n(),o("div",ge,[e("div",{class:"invite-fixed",onClick:M},[e("img",{src:a(se),alt:""},null,8,fe)]),e("div",Ae,l(s.$t("meeting.member.invite.title")),1),e("div",be,[e("div",ke,[e("div",{class:h(["invite-m-tabs-i",u.value===1?"active":""]),onClick:i[0]||(i[0]=t=>G(1))},[e("span",null,l(s.$t("message.invite.join.group.tabs.all")),1)],2),e("div",{class:h(["invite-m-tabs-i",u.value===2?"active":""]),onClick:i[1]||(i[1]=t=>G(2))},[e("span",null,l(s.$t("message.invite.join.group.tabs.group")),1)],2)])]),e("div",we,[$(P,{modelValue:m.value.condition,"onUpdate:modelValue":i[2]||(i[2]=t=>m.value.condition=t),class:"search-input",placeholder:s.$t("meeting.member.invite.search.placeholder"),onInput:x},{prefix:K(()=>[$(w)]),_:1},8,["modelValue","placeholder"])]),e("div",$e,[u.value===1?(n(!0),o(p,{key:0},b(a(c).memberList,(t,d)=>(n(),o("div",{key:`psn_${d}_${t.userId}`,class:"invite-m-main-i",onClick:v=>L(t)},[e("div",Ie,[F(t.userId)?(n(),k(a(E),{key:0})):(n(),k(a(O),{key:1}))]),e("div",ye,[e("div",Se,[e("img",{src:t.avatarUrl,alt:""},null,8,xe),e("div",{class:h(["invite-m-main-i-rl-s",S(t)])},null,2)]),e("div",Ge,[e("div",Fe,[e("span",null,l(t.name),1)]),e("div",Le,[e("span",null,l(t.alias),1)])])])],8,Ce))),128)):C("",!0),u.value===2?(n(!0),o(p,{key:1},b(a(c).memberGroupList,(t,d)=>(n(),o("div",{key:`group_${d}`,class:"invite-m-main-group"},[e("div",{class:"invite-main-group-header",onClick:v=>N(d)},[e("div",Ee,[e("div",Be,[e("img",{src:a(te),alt:""},null,8,Me)]),e("div",Ne,[e("span",null,l(t.groupName)+" ("+l(t.contacts.length)+")",1)])]),e("div",{class:h(["header-main-right",{"rotate-icon":A.value[d]}])},[$(a(pe))],2)],8,Oe),T(e("div",De,[(n(!0),o(p,null,b(t.contacts,(v,R)=>(n(),o("div",{key:`group_psn_${R}_${v.userId}`,class:"invite-m-main-i",onClick:Xe=>L(v)},[e("div",Ue,[F(v.userId)?(n(),k(a(E),{key:0})):(n(),k(a(O),{key:1}))]),e("div",Ve,[e("div",Je,[e("img",{src:v.avatarUrl,alt:""},null,8,Pe),e("div",{class:h(["invite-m-main-i-rl-s",S(v)])},null,2)]),e("div",Re,[e("div",We,[e("span",null,l(v.name),1)]),e("div",je,[e("span",null,l(v.alias),1)])])])],8,Qe))),128))],512),[[Z,A.value[d]]])]))),128)):C("",!0)]),e("div",ze,[e("div",He,[(n(!0),o(p,null,b(r.value,(t,d)=>(n(),o(p,{key:`invite_m_icon_${d}`},[d<a(c).showLimitMember?(n(),o("div",{key:0,class:"invite-m-bot-l-i",style:X(Q(d))},[e("img",{src:t.avatarUrl,alt:""},null,8,Ke)],4)):C("",!0)],64))),128))]),e("div",Te,[e("div",{class:"invite-m-bot-r-btn",onClick:J},[e("span",null,l(a(y)("message.invite.join.group.menu.invite"))+" ("+l(r.value.length)+"/"+l(a(c).limitMember)+")",1)])])])])}}});const ss=z(Ze,[["__scopeId","data-v-d7f5fac3"]]);export{ss as I,E as S,O as a,pe as h,te as o};
