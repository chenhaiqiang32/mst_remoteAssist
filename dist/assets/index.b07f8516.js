import{ab as G,at as q,_ as J,d as Y,ac as X,v as ee,q as ce,g as de,ad as re,u as ue,E as Z,ai as K}from"./index.9de9b0d5.js";/* empty css               */import{d as W,j as $,o as te,b as se,C as d,aE as R,aH as r,E as e,aN as o,aI as l,u as p,ac as me,D as g,aK as F,aJ as V,F as j,aF as U,b5 as _e,bH as Q,b9 as ne,bL as oe,aW as B,w as ge,aM as T,bz as pe,b8 as ve,aX as he,bS as be,bM as fe,bN as ye,bT as ke,be as Ce}from"./arco.638965b6.js";import{g as P,u as Ae,w as Oe,p as H}from"./icon_volume_1.148c46df.js";import{o as $e}from"./index.918c28b6.js";import{M as ae}from"./icon-default-meeting.7fc0c2d8.js";/* empty css               */import"./chart.ffc0c533.js";import"./vue.125da600.js";const Me="/assist/assets/no_record.568a47cc.png",xe={class:"record-panel-top"},Ie={class:"search-container"},we=["onClick"],Te={class:"record-panel-content-item-left"},Ne={class:"record-panel-content-item-right",fill:""},Se={class:"record-panel-content-item-right-top"},Ee={class:"record-panel-content-item-right-top-name textEllipsis"},De={class:"record-panel-content-item-right-top-time"},Re={class:"record-panel-content-item-right-bot"},Le={key:0,class:"loading-spinner"},ze={key:1,class:"no-data"},Be={class:"no-data-body"},Fe=["src"],Ve={class:"no-data-body-text"},Ue=W({__name:"record",setup(N,{expose:M}){const L=G(),n=q(),v=$([]),f=$(0),c=$({pageSize:20,pageNo:1,keywords:""}),h=$(!1),y=$(!0),s=async()=>{if(console.log("\u5F00\u59CB\u52A0\u8F7D\u6570\u636E:",{isMore:y.value,loading:h.value,pageNo:c.value.pageNo}),!!y.value&&!h.value)try{const t=await L.getMeetingRecordList({pageNo:c.value.pageNo,pageSize:c.value.pageSize,keywords:c.value.keywords});if(t.code!==200&&t.code!==401){B.error(t.msg);return}c.value.pageNo===1?v.value=t.data.data:v.value=[...v.value,...t.data.data],f.value=t.data.total;const a=c.value.pageNo;y.value=a*c.value.pageSize<f.value,console.log("\u5206\u9875\u4FE1\u606F:",{currentPage:a,pageSize:c.value.pageSize,total:f.value,isMore:y.value,calculated:a*c.value.pageSize}),c.value.pageNo+=1}catch(t){console.error("Failed to load meetings",t)}finally{h.value=!1,console.log(y.value),f.value>0?n.updateNoRecord(!0):n.updateNoRecord(!1)}},w=()=>{v.value=[],f.value=0,c.value.pageNo=1,y.value=!0,s()},S=t=>{n.updateCurMeeting(t)},E=()=>{c.value.pageNo=1,v.value=[],f.value=0,y.value=!0,s()},x=$();let O=null;const D=()=>{console.log("\u6EDA\u52A8\u68C0\u67E5:",{isMore:y.value,loading:h.value,hasContainer:!!x.value}),!(!x.value||!y.value||h.value)&&(O&&clearTimeout(O),O=window.setTimeout(()=>{const{scrollTop:t,scrollHeight:a,clientHeight:i}=x.value;a-t-i<100&&s()},200))};return te(async()=>{w()}),se(()=>{O&&(clearTimeout(O),O=null)}),M({meetingList:v,handleInitMeetingList:w}),(t,a)=>{const i=_e,b=Q,C=ne,k=oe;return d(),R(k,{class:"general-card record-panel",bordered:!1,"body-style":{height:"100%",display:"flex",padding:0,flexFlow:"column"}},{default:r(()=>[e("div",xe,[e("span",null,o(t.$t("meeting.record.title")),1),e("div",Ie,[l(i,{modelValue:c.value.keywords,"onUpdate:modelValue":a[0]||(a[0]=u=>c.value.keywords=u),placeholder:t.$t("meeting.record.search.placeholder"),"allow-clear":"",onChange:E,onClear:E},{prefix:r(()=>[l(p(me))]),_:1},8,["modelValue","placeholder"])])]),l(b,{margin:0}),p(n).noRecord?(d(),g("div",{key:0,ref_key:"scrollContainer",ref:x,class:"record-panel-content wsl-scroll",onScroll:D},[(d(!0),g(F,null,V(v.value,(u,m)=>{var A;return d(),g("div",{key:m,class:j(["record-panel-content-item",((A=p(n).curMeeting)==null?void 0:A.meetingId)===u.meetingId?"active":""]),onClick:I=>S(u)},[e("div",Te,[l(p(ae))]),e("div",Ne,[e("div",Se,[l(C,{content:u.subject},{default:r(()=>[e("div",Ee,o(u.subject),1)]),_:2},1032,["content"]),e("div",De,o(p(P)(u.startTime,"today")),1)]),e("div",Re,o(t.$t("meeting.list.meeting.time"))+" "+o(p(Ae)(u.startTime,u.endTime)),1)])],10,we)}),128)),h.value?(d(),g("div",Le,o(t.$t("meeting.list.loading")),1)):U("",!0)],544)):(d(),g("div",ze,[e("div",Be,[e("img",{src:p(Me),alt:""},null,8,Fe),e("div",Ve,o(t.$t("meeting.no.data.text")),1)])]))]),_:1})}}});const Ze=J(Ue,[["__scopeId","data-v-81178937"]]);const He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAUpJREFUOE+lkzEohVEcxX9nMxqVRUmRAVEWg4EyGF5RBslgYDAYGcyUWaaXFPXEYKAMZDFYDJLBINmMRsOr417d7/U9T+978i33Lud3z/+c/yf++alVve1BYBj4BC4kfURtU0ASzQEloA24AtqBEWAoQhoAtnuBxZzoFKhIus/c2j4BziQd1QBJuAd0AQ2i/Ki294FbSeVvgO0O4DHMtw4cSKo2y8b2KzAl6TkDLAHjkhZ+Cm3Px7kl7abHRoHDYL+nFqLt7kC8A1YlHedmnQnhbQe7E5LeEmALqErarGshBNMfySnleL4Da3lxAkT7JUkPv9ZoO1qMta0As5Kuc47q7DfdA9s7yepGDlBnvwgQt64C9MVWbMdFivZjHk8ZtGgTb1LiZdvLaaTJfFNFgIG0vuex93AfC1W/tAxIqXcC08BlVuWfAEV/6xeBLYURySeBPwAAAABJRU5ErkJggg==",je="/assist/assets/no_record.568a47cc.png",Pe={width:"48",height:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ge=e("g",{fill:"#15C0E6"},[e("path",{d:"m5.162 38.02-.04.04c-.54-1.18-.88-2.52-1.02-4 .14 1.46.52 2.78 1.06 3.96ZM17.998 20.76a4.76 4.76 0 1 0 0-9.52 4.76 4.76 0 0 0 0 9.52Z"}),e("path",{d:"M32.38 4H15.62C8.34 4 4 8.34 4 15.62v16.76c0 2.18.38 4.08 1.12 5.68 1.72 3.8 5.4 5.94 10.5 5.94h16.76C39.66 44 44 39.66 44 32.38V15.62C44 8.34 39.66 4 32.38 4Zm8.36 21c-1.56-1.34-4.08-1.34-5.64 0l-8.32 7.14c-1.56 1.34-4.08 1.34-5.64 0l-.68-.56c-1.42-1.24-3.68-1.36-5.28-.28L7.7 36.32C7.26 35.2 7 33.9 7 32.38V15.62C7 9.98 9.98 7 15.62 7h16.76C38.02 7 41 9.98 41 15.62v9.6l-.26-.22Z"})],-1),qe=[Ge];function Je(N,M){return d(),g("svg",Pe,[...qe])}const We={render:Je},Qe={width:"48",height:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ke=e("g",{fill:"#FDC748"},[e("path",{d:"M38.923 8.155c.24.389-.18.835-.624.728a7.71 7.71 0 0 0-.1-.023c-.94-.28-1.98-.42-3.04-.42h-6.85a.5.5 0 0 1-.4-.2l-2.45-3.26a9.364 9.364 0 0 0-.087-.123c-.254-.347-.02-.857.41-.857h5.658a8.793 8.793 0 0 1 7.483 4.155Z"}),e("path",{d:"M40.28 13.08a8.36 8.36 0 0 0-2.9-1.34c-.72-.2-1.46-.3-2.22-.3h-7.44c-1.16 0-1.24-.1-1.86-.92l-2.8-3.72C21.76 5.06 20.74 4 17.48 4h-4.64C7.96 4 4 7.96 4 12.84v22.32C4 40.04 7.96 44 12.84 44h22.32c4.88 0 8.84-3.96 8.84-8.84V20.28c0-2.98-1.46-5.6-3.72-7.2Zm-11.5 19.6H19.2c-.78 0-1.38-.62-1.38-1.4 0-.76.6-1.4 1.38-1.4h9.58c.78 0 1.4.64 1.4 1.4 0 .78-.62 1.4-1.4 1.4Z"})],-1),Ye=[Ke];function Xe(N,M){return d(),g("svg",Qe,[...Ye])}const et={render:Xe},tt={width:"48",height:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},st=e("path",{d:"M42.3 12.34c-.82-.44-2.54-.9-4.88.74l-2.94 2.08C34.26 8.94 31.56 6.5 25 6.5H13c-6.84 0-9.5 2.66-9.5 9.5v16c0 4.6 2.5 9.5 9.5 9.5h12c6.56 0 9.26-2.44 9.48-8.66l2.94 2.08c1.24.88 2.32 1.16 3.18 1.16.74 0 1.32-.22 1.7-.42.82-.42 2.2-1.56 2.2-4.42V16.76c0-2.86-1.38-4-2.2-4.42ZM22 22.76c-2.06 0-3.76-1.68-3.76-3.76s1.7-3.76 3.76-3.76c2.06 0 3.76 1.68 3.76 3.76s-1.7 3.76-3.76 3.76Z",fill:"#6D5DD3"},null,-1),nt=[st];function ot(N,M){return d(),g("svg",tt,[...nt])}const at={render:ot},it={width:"48",height:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},lt=e("g",{fill:"#4890FD"},[e("path",{d:"M37.5 27.8h-3.996a1 1 0 0 0-.556.169L28.18 31.16c-.72.48-1.56.7-2.38.7-.7 0-1.4-.16-2.04-.52-1.18-.624-1.978-1.889-2.198-3.217-.073-.437-.355-.825-.768-.982a8.877 8.877 0 0 1-3.134-2.001C15.94 23.42 15 21 15 18.3V9a1 1 0 0 0-1-1h-1c-5.4 0-9 2.7-9 9v10.8c0 6.3 3.6 9 9 9h7.5v5.7h-5.7c-.82 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5h14.4c.82 0 1.5-.68 1.5-1.5s-.68-1.5-1.5-1.5h-5.7v-5.7H31c5.105 0 8.601-2.413 8.968-7.999.036-.55-.416-1.001-.968-1.001h-1.5Z"}),e("path",{d:"M37.5 4h-13c-2.98 0-5.22 1.52-6.1 4-.26.76-.4 1.6-.4 2.5v7.8c0 1.94.64 3.58 1.78 4.72 1.14 1.14 2.78 1.78 4.72 1.78v2.78c0 1.02 1.16 1.64 2.02 1.08l5.78-3.86h5.2c.9 0 1.74-.14 2.5-.4 2.48-.88 4-3.12 4-6.1v-7.8C44 6.6 41.4 4 37.5 4ZM25.24 16c-.84 0-1.5-.68-1.5-1.5s.66-1.5 1.5-1.5 1.5.68 1.5 1.5-.66 1.5-1.5 1.5Zm5.64 0c-.84 0-1.5-.68-1.5-1.5s.68-1.5 1.5-1.5 1.5.68 1.5 1.5-.68 1.5-1.5 1.5Zm5.62 0c-.84 0-1.5-.68-1.5-1.5s.68-1.5 1.5-1.5 1.5.68 1.5 1.5-.68 1.5-1.5 1.5Z"}),e("path",{d:"M44 10.5v7.8c0 2.98-1.52 5.22-4 6.1-.76.26-1.6.4-2.5.4h-5.2l-5.78 3.86c-.86.56-2.02-.06-2.02-1.08V24.8c-1.94 0-3.58-.64-4.72-1.78C18.64 21.88 18 20.24 18 18.3v-7.8c0-.9.14-1.74.4-2.5.88-2.48 3.12-4 6.1-4h13c3.9 0 6.5 2.6 6.5 6.5Z"})],-1),ct=[lt];function dt(N,M){return d(),g("svg",it,[...ct])}const rt={render:dt},ut={key:0,class:"detail-panel"},mt={class:"detail-panel-top"},_t={class:"detail-panel-top-title"},gt={class:"detail-panel-top-title-left"},pt={class:"detail-panel-top-title-right"},vt={class:"meeting-title"},ht={class:"meeting-number"},bt={class:"detail-panel-top-btn"},ft=["src"],yt={class:"detail-panel-main wsl-scroll"},kt={class:"block-item-grid"},Ct={class:"block-item-grid-top"},At={class:"block-item-grid-bot"},Ot={class:"block-item-grid-bot-icon"},$t=["src"],Mt={class:"block-item-grid-bot-l"},xt={class:"block-item-grid"},It={class:"block-item-grid-top"},wt={class:"block-item-grid-bot"},Tt={class:"block-item-grid-bot-l"},Nt={class:"block-item-grid"},St={class:"block-item-grid-top"},Et={class:"block-item-grid-bot"},Dt={class:"block-item-grid-bot-l"},Rt={class:"block-item-grid"},Lt={class:"block-item-grid-top"},zt={class:"block-item-grid-bot"},Bt={class:"block-item-grid-bot-l"},Ft={class:"block-member"},Vt={class:"block-member-item"},Ut={class:"block-member-item-title"},Zt={class:"block-member-item-main"},Ht={class:"block-member-item-main-i-t"},jt=["src"],Pt={class:"block-member-item-main-i-n"},Gt={class:"block-member-item",style:{"margin-top":"10px"}},qt={class:"block-member-item-title"},Jt={key:0,class:"block-member-item-main"},Wt={class:"block-member-item-main-i-t"},Qt=["src"],Kt={class:"block-member-item-main-i-n"},Yt={class:"grid-card-data-main"},Xt={class:"grid-card-data-main-top"},es={class:"grid-card-data-main-top-left"},ts={class:"grid-card-data-main-top-right"},ss={key:0,class:"grid-card-data-main-top-right-num"},ns={class:"grid-card-data-main-bot"},os={class:"grid-card-data-main-bot-top"},as={class:"grid-card-data-main-bot-bot"},is={class:"grid-card-data-main-bot-bot-left"},ls={class:"grid-card-data-main-bot-bot-right"},cs={key:1},ds={key:1,class:"no-data"},rs={class:"no-data-body"},us=["src"],ms={class:"no-data-body-text"},_s=W({__name:"detail",emits:["handleSendAssist"],setup(N,{emit:M}){const L=M,n=q(),v=Y(),f=X(),{t:c,locale:h}=ee.exports.useI18n(),y=G(),s=$({subject:"",meetingId:"",meetingNo:"",masterAvatarUrl:"",masterName:"",meetingDuration:0,startTime:null,endTime:null,inviteMembers:[],members:[],summaryCount:0,cloudVideoCount:0,screenshotCount:0,attachmentCount:0,manualRecordCount:0,chatMessageCount:0}),w=$(),S=()=>{w.value=[{type:3,icon:We,title:c("meeting.detail.assist.zl.hyzt"),desc:c("meeting.detail.assist.zl.hyzt.en"),hasData:s.value.screenshotCount>0,showNum:!0,num:s.value.screenshotCount,btn:["preview"],url:"capture"},{type:4,icon:et,title:c("meeting.detail.assist.zl.hywj"),desc:c("meeting.detail.assist.zl.hywj.en"),hasData:s.value.attachmentCount>0,showNum:!0,num:s.value.attachmentCount,btn:["preview"],url:"file"},{type:5,icon:at,title:c("meeting.detail.assist.zl.sdlx"),desc:c("meeting.detail.assist.zl.sdlx.en"),hasData:s.value.manualRecordCount>0,showNum:!0,num:s.value.manualRecordCount,btn:["preview"],url:"picture_recording"},{type:6,icon:rt,title:c("meeting.detail.assist.zl.hyxx"),desc:c("meeting.detail.assist.zl.hyxx.en"),hasData:s.value.chatMessageCount>0,showNum:!1,btn:["look"],url:"message"}]},E=(t,a)=>{var i;a.preventDefault(),window.open(`${(i=v.platformConfig)==null?void 0:i.meetingDetailUrl}/AssistV3/meetingWH/views/${t.url}/index_pc.html?userClient=${ce.PC}&lang=${h.value}&meetingId=${s.value.meetingId}&token=${de()}`,"_blank")},x=()=>{s.value.members&&(s.value.members.forEach(t=>{const a=f.memberList.find(i=>i.userId===t.userId);a&&(t.pcOnline=a.pcOnline,t.androidOnline=a.androidOnline,t.glassOnline=a.glassOnline)}),s.value.members.sort((t,a)=>{const i=t.pcOnline||t.androidOnline||t.glassOnline?1:0;return(a.pcOnline||a.androidOnline||a.glassOnline?1:0)-i})),s.value.inviteMembers&&(s.value.inviteMembers.forEach(t=>{const a=f.memberList.find(i=>i.userId===t.userId);a&&(t.pcOnline=a.pcOnline,t.androidOnline=a.androidOnline,t.glassOnline=a.glassOnline)}),s.value.inviteMembers.sort((t,a)=>{const i=t.pcOnline||t.androidOnline||t.glassOnline?1:0;return(a.pcOnline||a.androidOnline||a.glassOnline?1:0)-i}))},O=async()=>{var a;const t=await y.getMeetingRecordDetail({meetingId:(a=n.curMeeting)==null?void 0:a.meetingId});if(t.code!==200&&t.code!==401){B.error(t.msg),n.updateNoRecordDetail(!1);return}s.value=t.data,n.updateNoRecordDetail(!0),S(),x()},D=()=>{L("handleSendAssist",s.value)};return ge(()=>[h,n.curMeeting,f.memberList],t=>{t[0]&&S(),t[1]&&O(),t[2]&&x()},{deep:!0}),(t,a)=>{const i=ne,b=ve,C=he,k=Q,u=be,m=oe,A=fe,I=ye,ie=ke;return d(),R(m,{class:"record-detail-container",bordered:!1,"body-style":{padding:0,height:"100%"}},{default:r(()=>[p(n).noRecordDetail?(d(),g("div",ut,[e("div",mt,[e("div",_t,[l(b,{size:16},{default:r(()=>[e("div",gt,[l(p(ae))]),l(i,{content:s.value.subject},{default:r(()=>[e("div",pt,[e("div",vt,o(s.value.subject),1),e("div",ht,"\u4F1A\u8BAE\u53F7\uFF1A"+o(s.value.meetingNo),1)])]),_:1},8,["content"])]),_:1})]),e("div",bt,[l(C,{type:"primary",onClick:D},{icon:r(()=>[e("img",{src:p(He),alt:""},null,8,ft)]),default:r(()=>[T(o(t.$t("meeting.btn.send")),1)]),_:1})])]),l(k,{margin:0}),e("div",yt,[l(u,{class:"block-title",heading:6,style:{margin:0,fontWeight:400}},{default:r(()=>[T(o(t.$t("meeting.detail.assist.title")),1)]),_:1}),l(I,{gutter:[20,20],style:{marginTop:"10px"}},{default:r(()=>[l(A,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6},{default:r(()=>[l(m,{class:"grid-card",bordered:!1,hoverable:""},{default:r(()=>[e("div",kt,[e("div",Ct,[e("span",null,o(t.$t("meeting.detail.assist.fqr")),1)]),e("div",At,[e("div",Ot,[e("img",{src:s.value.masterAvatarUrl,alt:""},null,8,$t)]),e("div",Mt,o(s.value.masterName),1)])])]),_:1})]),_:1}),l(A,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6},{default:r(()=>[l(m,{class:"grid-card",bordered:!1,hoverable:""},{default:r(()=>[e("div",xt,[e("div",It,[e("span",null,o(t.$t("meeting.detail.assist.hysc")),1)]),e("div",wt,[e("div",Tt,o(p(Oe)(s.value.meetingDuration)),1)])])]),_:1})]),_:1}),l(A,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6},{default:r(()=>[l(m,{class:"grid-card",bordered:!1,hoverable:""},{default:r(()=>[e("div",Nt,[e("div",St,[e("span",null,o(t.$t("meeting.detail.assist.start.time")),1)]),e("div",Et,[e("div",Dt,o(s.value.startTime?p(P)(s.value.startTime,"today"):""),1)])])]),_:1})]),_:1}),l(A,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6},{default:r(()=>[l(m,{class:"grid-card",bordered:!1,hoverable:""},{default:r(()=>[e("div",Rt,[e("div",Lt,[e("span",null,o(t.$t("meeting.detail.assist.end.time")),1)]),e("div",zt,[e("div",Bt,o(s.value.endTime?p(P)(s.value.endTime,"today"):""),1)])])]),_:1})]),_:1})]),_:1}),l(u,{class:"block-title",heading:6,style:{margin:"20px 0 10px",fontWeight:400}},{default:r(()=>[T(o(t.$t("meeting.detail.meeting.member")),1)]),_:1}),e("div",Ft,[e("div",Vt,[e("div",Ut,[e("span",null,o(t.$t("meeting.detail.meeting.member.yq")),1),T(" \xA0\xA0 "),e("span",null,"("+o(s.value.inviteMembers.length)+" "+o(t.$t("meeting.detail.meeting.member.dw"))+")",1)]),e("div",Zt,[(d(!0),g(F,null,V(s.value.inviteMembers,(_,z)=>(d(),g("div",{key:`yq_${z}`,class:"block-member-item-main-i"},[e("div",Ht,[e("img",{src:_.avatarUrl,alt:""},null,8,jt),e("div",{class:j([_.pcOnline||_.androidOnline||_.glassOnline?"online":"outline","block-member-item-main-i-t-f"])},null,2)]),e("div",Pt,[e("span",null,o(_.name),1)])]))),128))])]),l(k,{margin:5}),e("div",Gt,[e("div",qt,[e("span",null,o(t.$t("meeting.detail.meeting.member.sj")),1),T(" \xA0\xA0 "),e("span",null,"("+o(s.value.members.length)+" "+o(t.$t("meeting.detail.meeting.member.dw"))+")",1)]),s.value.members?(d(),g("div",Jt,[(d(!0),g(F,null,V(s.value.members,(_,z)=>(d(),g("div",{key:`sj_${z}`,class:"block-member-item-main-i"},[e("div",Wt,[e("img",{src:_.avatarUrl,alt:""},null,8,Qt),e("div",{class:j([_.pcOnline||_.androidOnline||_.glassOnline?"online":"outline","block-member-item-main-i-t-f"])},null,2)]),e("div",Kt,[e("span",null,o(_.name),1)])]))),128))])):U("",!0)])]),l(u,{class:"block-title",heading:6,style:{margin:"20px 0 10px",fontWeight:400}},{default:r(()=>[T(o(t.$t("meeting.detail.assist.zl")),1)]),_:1}),l(I,{gutter:[16,16],style:{marginTop:"10px"}},{default:r(()=>[(d(!0),g(F,null,V(w.value,(_,z)=>(d(),R(A,{key:`data_${z}`,xs:24,sm:24,md:24,lg:12,xl:12,xxl:8},{default:r(()=>[l(m,{class:"grid-card-data",bordered:!0,hoverable:""},{default:r(()=>[e("div",Yt,[e("div",Xt,[e("div",es,[(d(),R(pe(_.icon),{class:"icon"}))]),e("div",ts,[_.hasData&&_.showNum?(d(),g("div",ss,[e("span",null,o(_.num)+" "+o(p(c)("meeting.detail.assist.zl.dw")),1)])):U("",!0)])]),e("div",ns,[e("div",os,[e("span",null,o(_.title),1)]),e("div",as,[e("div",is,[e("span",null,o(_.desc),1)]),e("div",ls,[_.hasData?(d(),R(ie,{key:0,href:"/",onClick:le=>E(_,le)},{default:r(()=>[T(o(p(c)("meeting.detail.assist.zl.btn.look")),1)]),_:2},1032,["onClick"])):(d(),g("span",cs,o(t.$t("meeting.detail.assist.zl.zwlr")),1))])])])])]),_:2},1024)]),_:2},1024))),128))]),_:1})])])):(d(),g("div",ds,[e("div",rs,[e("img",{src:p(je),alt:""},null,8,us),e("div",ms,o(t.$t("meeting.no.data.text")),1)])]))]),_:1})}}});const gs=J(_s,[["__scopeId","data-v-6164d189"]]),ps={class:"container"},vs={class:"layout"},hs={class:"layout-left-side"},bs={class:"layout-content"},fs=W({__name:"index",setup(N){const{t:M}=ee.exports.useI18n(),L=q(),n=G(),v=re(),f=X(),c=ue(),h=Y(),y=$(),s=$(!1),w=()=>{n.updateRoomOptions(null),n.updateRoomInvitePsn(null),s.value=!1},S=i=>{if(n.answerInfo&&n.answerInfo.meetingNo){B.error(M("meeting.call.message.tips"));return}s.value=!0,n.updateRoomInvitePsn(i.inviteMembers),n.updateRoomOptions({meetingName:i.subject,video:!1,audio:!0,loudspeaker:!0,cloudRecord:i.recordStatus===1,abstract:i.aiStatus===1,escaping:i.escaping===1,organizer:c.name})},E=async i=>{var b,C,k,u;try{const m=await n.ThImEvent.joinMeeting({meetingNo:i.meetingNo,forceEntryStatus:0,inviters:n.roomInvitePsn?H(n.roomInvitePsn,"userId"):[]});if(v.updateRoomTranslateInfo({...v.roomTranslateInfo,...m.data,open:!!((b=m.data)!=null&&b.enableTranslation)}),h.updateBtnLoading(!1),m.code!==200&&m.code!==401){m.code===K.OTHER_CLIENT_JOINED_MEETING||m.code===K.OTHER_CLIENT_IN_MEETING?(n.updateForceEntryMeetingInfo({meetingNo:i.meetingNo,invitor:n.roomInvitePsn?H(n.roomInvitePsn,"userId"):[]}),Z.emit("Chat-Other-Client-Joined-Meeting")):B.error(m.msg);return}n.ThImEvent.roomMenuOptions={video:(C=n.roomOptions)==null?void 0:C.video,audio:(k=n.roomOptions)==null?void 0:k.audio,loudspeaker:(u=n.roomOptions)==null?void 0:u.loudspeaker},n.ThImEvent.setRoomOnlineListPsn(f.memberList),n.ThImEvent.setRoomOnlineGroupPsn(f.memberGroupList),w(),n.updateAssistVisible(!0)}catch{h.updateBtnLoading(!1)}},x=async()=>{var i,b,C,k,u,m,A;try{const I=await n.createRealtimeMeeting({aiStatus:(i=n.roomOptions)!=null&&i.abstract?"1":"0",recordStatus:(b=n.roomOptions)!=null&&b.cloudRecord?"1":"0",escaping:(C=n.roomOptions)!=null&&C.escaping?"1":"0",subject:(k=n.roomOptions)==null?void 0:k.meetingName,userIds:n.roomInvitePsn?H(n.roomInvitePsn,"userId"):[],enableTranslation:(u=n.roomOptions)!=null&&u.escaping?"1":"0",languageType:(m=v.roomTranslateInfo)==null?void 0:m.languageType,industryType:(A=v.roomTranslateInfo)==null?void 0:A.industryType});if(I.code!==200&&I.code!==401){h.updateBtnLoading(!1),B.error(I.msg);return}E(I.data)}catch{h.updateBtnLoading(!1)}},O=()=>{L.clearOptions()},D=async()=>{},t=()=>{Z.on("record-list-update",D)},a=()=>{Z.off("record-list-update",D)};return te(()=>{t()}),se(()=>{O(),a()}),(i,b)=>{const C=Q,k=Ce;return d(),g("div",ps,[e("div",vs,[e("div",hs,[l(Ze,{ref_key:"recordListRef",ref:y},null,512)]),l(C,{direction:"vertical",style:{margin:0}}),e("div",bs,[l(gs,{onHandleSendAssist:S})])]),s.value?(d(),R(k,{key:0,visible:s.value,"onUpdate:visible":b[0]||(b[0]=u=>s.value=u),footer:!1,closable:!1,class:"customModal"},{default:r(()=>[l($e,{onHandleCall:x,onHandleClose:w})]),_:1},8,["visible"])):U("",!0)])}}});const ws=J(fs,[["__scopeId","data-v-abf1677b"]]);export{ws as default};
