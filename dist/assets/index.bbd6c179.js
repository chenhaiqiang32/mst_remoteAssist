import{ad as F,ab as O,d as j,v as $,E as H,_ as R}from"./index.d4df4270.js";import{d as q,c as V,j as f,a as J,C as u,D as p,E as e,u as t,aN as n,aI as r,aH as _,aK as K,aJ as W,aE as X,aF as S,aW as T,b9 as G,aV as P,ba as Q,bb as Y,aX as Z,a$ as ee,b0 as oe}from"./arco.638965b6.js";import{d as se,e as te,m as ae,j as ne,v as ie,k as le,l as ce,n as de}from"./icon_volume_1.148c46df.js";const ue=m=>(ee("data-v-50906683"),m=m(),oe(),m),re={class:"room-options-container"},me=["src"],ve={class:"room-options-header"},pe={class:"room-options-h-t"},_e={class:"room-options-h-n textEllipsis"},ge={class:"room-options-h-b"},he={class:"label"},be={class:"value"},fe={class:"room-options-main"},ye={class:"room-options-m-it"},Ce=["src"],ke={class:"room-options-m-ib text-ellipsis"},Ie={class:"room-options-m-it"},xe=["src"],Ve={class:"room-options-m-ib text-ellipsis"},Se={class:"room-options-m-it"},Te=["src"],Le={class:"room-options-m-ib text-ellipsis"},we={class:"room-options-b"},Me=ue(()=>e("div",{class:"room-options-bm"},null,-1)),Ee={class:"room-options-bm"},Ne={class:"room-options-br"},ze={class:"schedule-checkbox schedule-checkbox-voice"},Ae={key:0,class:"ax"},Be={class:"label"},Ue=["src"],De={key:1,class:"ax"},Fe={class:"label"},Oe={class:"room-options-f"},je=q({__name:"send",emits:["handleClose","handleCall"],setup(m,{emit:L}){const w=F(),v=O(),g=j(),y=L,{t:i,locale:C}=$.exports.useI18n(),k=V(()=>{var a;return(a=v.industryList)==null?void 0:a.map(s=>({label:C.value==="zh-CN"?s.value:s.english,value:s.label}))}),I=V(()=>{var a;return(a=v.languageList)==null?void 0:a.map(s=>({...s,label:C.value==="zh-CN"?s.value:s.english,value:s.label,ctry:s.flagUrl}))}),c=f({languageType:"cn",industryType:"default"});J(()=>{var s;((s=I.value)==null?void 0:s.some(b=>b.type==="aliyun"))&&(c.value.languageType="zh")});const o=f({...v.roomOptions,...c.value}),d=f(null),h=()=>{d.value&&(d.value.getTracks().forEach(a=>a.stop()),d.value=null)},M=async()=>{o.value.audio=!o.value.audio;try{o.value.audio&&(d.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})),h()}catch{o.value.audio=!1,T.error(i("meeting.modal.option.devices.audio"))}},E=async()=>{o.value.video=!o.value.video;try{o.value.video&&(d.value=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})),h()}catch{o.value.video=!1,T.error(i("meeting.modal.option.devices.video"))}},N=()=>{o.value.loudspeaker=!o.value.loudspeaker},z=()=>{h(),y("handleClose")},A=se(async()=>{H.emit("meeting-notification-close"),!g.btnLoading&&(g.updateBtnLoading(!0),v.updateRoomOptions(o.value),w.updateRoomTranslateInfo({...o.value,...c.value,open:o.value.escaping}),y("handleCall"))},1e3);return(a,s)=>{const b=G,B=P,U=Q,x=Y,D=Z;return u(),p("div",re,[e("div",{class:"room-fixed",onClick:z},[e("img",{src:t(te),alt:""},null,8,me)]),e("div",ve,[e("div",pe,[e("span",null,n(t(i)("meeting.room.option.meeting.name")),1)]),r(b,{content:o.value.meetingName},{default:_(()=>[e("div",_e,n(o.value.meetingName),1)]),_:1},8,["content"]),e("div",ge,[e("span",he,n(t(i)("meeting.room.option.meeting.organizer"))+"\uFF1A",1),e("span",be,n(o.value.organizer),1)])]),e("div",fe,[e("div",{class:"room-options-m-i",onClick:M},[e("div",ye,[e("img",{src:o.value.audio?t(ae):t(ne),alt:""},null,8,Ce)]),e("div",ke,n(t(i)("meeting.menu.mkf")),1)]),e("div",{class:"room-options-m-i",onClick:E},[e("div",Ie,[e("img",{src:o.value.video?t(ie):t(le),alt:""},null,8,xe)]),e("div",Ve,n(t(i)("meeting.menu.sxt")),1)]),e("div",{class:"room-options-m-i",onClick:N},[e("div",Se,[e("img",{src:o.value.loudspeaker?t(ce):t(de),alt:""},null,8,Te)]),e("div",Le,n(t(i)("meeting.menu.ysq")),1)])]),e("div",we,[Me,e("div",Ee,[e("div",Ne,[e("span",null,n(t(i)("meeting.room.option.meeting.abstract5")),1),e("div",null,[r(B,{modelValue:o.value.escaping,"onUpdate:modelValue":s[0]||(s[0]=l=>o.value.escaping=l),size:"small"},null,8,["modelValue"])])])])]),e("div",ze,[o.value.escaping?(u(),p("div",Ae,[e("div",Be,n(a.$t("meeting.schedule.form.myLanguage")),1),e("div",null,[r(x,{modelValue:c.value.languageType,"onUpdate:modelValue":s[1]||(s[1]=l=>c.value.languageType=l),"allow-search":""},{default:_(()=>[(u(!0),p(K,null,W(I.value,l=>(u(),X(U,{class:"st-img",value:l.value},{default:_(()=>[e("img",{src:l.ctry},null,8,Ue),e("span",null,n(l.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])])):S("",!0),o.value.escaping&&k.value.length>0?(u(),p("div",De,[e("div",Fe,n(a.$t("meeting.schedule.form.thesaurus")),1),e("div",null,[r(x,{modelValue:c.value.industryType,"onUpdate:modelValue":s[2]||(s[2]=l=>c.value.industryType=l),options:k.value,"allow-search":""},null,8,["modelValue","options"])])])):S("",!0)]),e("div",Oe,[r(D,{class:"room-options-btn",type:"primary",size:"large","html-type":"submit",long:"",loading:t(g).btnLoading,onClick:t(A)},{default:_(()=>[e("span",null,n(t(i)("meeting.room.option.meeting.initiate")),1)]),_:1},8,["loading","onClick"])])])}}});const Je=R(je,[["__scopeId","data-v-50906683"]]);export{Je as o};
