import{d as g,C as f,D as v,E as o,u as h,a$ as M,b0 as A,j as I,aN as p,aI as s,aH as l,aM as j,aW as P,n as z,b5 as L,bc as D,bj as q,aX as R,b8 as U,bk as G,bd as W,o as H,G as O}from"./arco.638965b6.js";import{_ as b,v as X,u as J,s as K,a as Q,b as Y,c as Z,E as ee,d as oe,i as se}from"./index.e10aa783.js";import{u as ae,F as te,l as ne}from"./loading.8a97dd6e.js";import{f as re,g as le,h as ie}from"./vue.125da600.js";import"./chart.ffc0c533.js";/* empty css              */const ue="/assist/assets/banner_bg.3eeb59ed.png",ce=u=>(M("data-v-2840fe52"),u=u(),A(),u),de={class:"banner"},me=ce(()=>o("div",{class:"banner-inner"},[o("div",{class:"banner-inner-t"},[o("span",null,"\u8FDC\u7A0B\u534F\u52A9")]),o("div",{class:"banner-inner-b"},[o("span",null,"\u591A\u4EBAAR\u7B2C\u4E00\u89C6\u89D2\u534F\u52A9")])],-1)),pe={class:"banner-bot"},_e=["src"],ge=g({__name:"banner",setup(u){return(c,r)=>(f(),v("div",de,[me,o("div",pe,[o("img",{src:h(ue),alt:""},null,8,_e)])]))}});const fe=b(ge,[["__scopeId","data-v-2840fe52"]]),ve={class:"login-form-wrapper"},he={class:"login-form-title"},be={class:"login-form-forget-password"},we={class:"login-form-protocol-actions"},ye=g({__name:"login-form",setup(u){const{t:c}=X.exports.useI18n(),r=re(),w=le(),C=I(""),{loading:y,setLoading:$}=ae(),V=J(),k=ie("login-config",{companyNo:"",username:"",password:"",agreeProtocol:!0}),n=I({...k.value}),S=async({errors:e,values:a})=>{if(!y.value&&!e){if(!a.agreeProtocol){P.warning(c("login.form.agreeProtocol.text1"));return}$(!0);try{const t=await V.login(a);if(t.code!==200&&t.code!==401){P.error(t.msg);return}k.value={...a},K(),Q(t.data.tokenType),Y(t.data.token),Z(t.data.refreshToken);const d=w.query.meetingToken,m=w.query.meetingNo;m||d?(await r.push("/Meeting-list"),await z(),setTimeout(()=>{const _=m?{meetingNo:m}:{meetingToken:d};console.log("\u767B\u5F55\u6210\u529F\u540E\u53D1\u9001 invitation-join-meeting \u4E8B\u4EF6\uFF0C\u6570\u636E:",_),ee.emit("invitation-join-meeting",_)},1500)):r.push({name:"MessageList"})}catch(t){C.value=t.message}finally{$(!1)}}},N=e=>{n.value.agreeProtocol=e},T=()=>{r.push({path:"/ForgetPassword"})},B=()=>{const e=r.resolve({path:"/Protocol"}).href;window.open(e,"_blank")};return(e,a)=>{const t=L,d=D,m=q,_=R,F=U,E=G,x=W;return f(),v("div",ve,[o("div",he,p(e.$t("login.form.title")),1),s(x,{ref:"loginForm",model:n.value,class:"login-form",layout:"vertical",onSubmit:S},{default:l(()=>[s(d,{field:"companyNo",rules:[{required:!0,message:e.$t("login.form.userCompany.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:l(()=>[s(t,{modelValue:n.value.companyNo,"onUpdate:modelValue":a[0]||(a[0]=i=>n.value.companyNo=i),size:"large",placeholder:e.$t("login.form.userCompany.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),s(d,{field:"username",rules:[{required:!0,message:e.$t("login.form.userName.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:l(()=>[s(t,{modelValue:n.value.username,"onUpdate:modelValue":a[1]||(a[1]=i=>n.value.username=i),size:"large",placeholder:e.$t("login.form.userName.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),s(d,{field:"password",rules:[{required:!0,message:e.$t("login.form.password.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:l(()=>[s(m,{modelValue:n.value.password,"onUpdate:modelValue":a[2]||(a[2]=i=>n.value.password=i),size:"large",placeholder:e.$t("login.form.password.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),o("div",be,[o("span",{class:"text-no-select",onClick:T},p(e.$t("login.form.forget.password")),1)]),s(F,{size:48,direction:"vertical",class:"btn-main"},{default:l(()=>[s(_,{type:"primary",size:"large","html-type":"submit",long:"",loading:h(y)},{default:l(()=>[j(p(e.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1}),s(F,{size:48},{default:l(()=>[o("div",we,[s(E,{modelValue:n.value.agreeProtocol,"onUpdate:modelValue":a[3]||(a[3]=i=>n.value.agreeProtocol=i),checked:"agreeProtocol",onChange:N},{default:l(()=>[o("span",null,p(e.$t("login.form.agreeProtocol")),1)]),_:1},8,["modelValue"]),o("span",{class:"protocolBlue",onClick:B},p(e.$t("login.form.agreeProtocol.text")),1)])]),_:1})]),_:1},8,["model"])])}}});const $e=b(ye,[["__scopeId","data-v-80e77005"]]),ke={class:"content"},Fe={class:"content-left"},Ie={class:"content-right"},Pe={class:"footer"},Ce=g({__name:"index",setup(u){return oe(),H(()=>{var c,r;se()&&((r=(c=window==null?void 0:window.$wujie)==null?void 0:c.bus)==null||r.$emit("REPEAT_LOGIN",{name:"login"}))}),(c,r)=>(f(),v("div",{class:"container wsl-scroll",style:O({backgroundImage:`url(${h(ne)})`})},[o("div",ke,[o("div",Fe,[s(fe)]),o("div",Ie,[s($e)])]),o("div",Pe,[s(te)])],4))}});const xe=b(Ce,[["__scopeId","data-v-85155981"]]);export{xe as default};
