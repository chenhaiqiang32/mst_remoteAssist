import{ab as le,v as ne,E as ue,_ as oe,ap as Le,u as ge,ae as Ne,f as He,aq as qe,ad as De,ac as Ze,d as je,ai as $e}from"./index.9499b39e.js";import{d as se,j as I,C as c,D as h,E as e,u as l,aN as o,aI as d,F as ae,aW as T,b5 as ke,a$ as Ee,b0 as ze,c as ye,a as Pe,w as Ae,o as de,b as fe,aH as u,aK as me,aJ as ve,aE as Z,aF as O,aM as te,bc as Re,b9 as Ce,b8 as Ie,aV as Ue,ba as Fe,bb as Je,bd as Qe,aX as Se,H as Ge,G as Me,bL as we,bM as Be,bN as Ye,bP as We,aS as _e,br as Ke,bs as Xe,be as et}from"./arco.638965b6.js";import{d as Te,e as tt,m as nt,h as ot,v as st,j as at,k as lt,l as it,n as he,q as xe,s as ct}from"./icon_volume_1.fb774a2c.js";import{o as dt}from"./index.b0df2584.js";import{l as rt,h as ut,j as mt}from"./html2canvas.esm.25c8c7a9.js";import{d as vt,s as pt}from"./schedule.5b9b8856.js";import{I as _t}from"./invite.d7b4e7e5.js";import{c as Oe}from"./icon_close.f7fee805.js";import{M as ht}from"./icon-default-meeting.7fc0c2d8.js";import"./chart.ffc0c533.js";import"./vue.125da600.js";/* empty css               */const gt=q=>(Ee("data-v-a6d226e8"),q=q(),ze(),q),ft={class:"room-join-options-container"},bt={class:"room-options-c"},$t=["src"],yt={class:"room-options-header"},Mt={class:"room-options-h-t"},kt={class:"room-options-h-n"},Ct={class:"room-options-h-n-t"},It=gt(()=>e("span",{class:"required"},"*",-1)),St={class:"room-options-main"},wt={class:"room-options-m-it"},Tt=["src"],xt={class:"room-options-m-ib text-ellipsis"},Ot={class:"room-options-m-it"},Vt=["src"],Lt={class:"room-options-m-ib text-ellipsis"},Nt={class:"room-options-m-it"},Ht=["src"],qt={class:"room-options-m-ib text-ellipsis"},Dt={class:"room-options-f"},Zt=se({__name:"join",emits:["handleClose","handleJoinMeeting"],setup(q,{emit:V}){const s=le(),S=V,{t:p}=ne.exports.useI18n();I(!1);const n=I({...s.roomOptions,meetingNo:""}),L=I(null),w=()=>{L.value&&(L.value.getTracks().forEach(y=>y.stop()),L.value=null)},t=()=>{w(),n.value.meetingNo="",S("handleClose")},N=async()=>{n.value.audio=!n.value.audio;try{n.value.audio&&(L.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})),w()}catch{n.value.audio=!1,T.error(p("meeting.modal.option.devices.audio"))}},H=async()=>{n.value.video=!n.value.video;try{n.value.video&&(L.value=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})),w()}catch{n.value.video=!n.value.video,T.error(p("meeting.modal.option.devices.video"))}},C=()=>{n.value.loudspeaker=!n.value.loudspeaker},$=()=>{console.log("handleClearSpace",n.value.meetingNo),n.value.meetingNo=n.value.meetingNo.replace(/\s+/g,"")},D=Te(async()=>{!n.value.meetingNo||(ue.emit("meeting-notification-close"),s.updateRoomOptions(n.value),S("handleJoinMeeting",{meetingNo:n.value.meetingNo}))},1e3);return(y,M)=>{const g=ke;return c(),h("div",ft,[e("div",bt,[e("div",{class:"room-fixed",onClick:t},[e("img",{src:l(tt),alt:""},null,8,$t)]),e("div",yt,[e("div",Mt,[e("span",null,o(l(p)("meeting.menu.jrhy")),1)]),e("div",kt,[e("div",Ct,[e("span",null,o(l(p)("meeting.qr.code.modal.desc")),1),It]),d(g,{modelValue:n.value.meetingNo,"onUpdate:modelValue":M[0]||(M[0]=i=>n.value.meetingNo=i),placeholder:l(p)("meeting.room.option.meeting.join.title"),onInput:$},null,8,["modelValue","placeholder"])])]),e("div",St,[e("div",{class:"room-options-m-i",onClick:N},[e("div",wt,[e("img",{src:n.value.audio?l(nt):l(ot),alt:""},null,8,Tt)]),e("div",xt,o(l(p)("meeting.menu.mkf")),1)]),e("div",{class:"room-options-m-i",onClick:H},[e("div",Ot,[e("img",{src:n.value.video?l(st):l(at),alt:""},null,8,Vt)]),e("div",Lt,o(l(p)("meeting.menu.sxt")),1)]),e("div",{class:"room-options-m-i",onClick:C},[e("div",Nt,[e("img",{src:n.value.loudspeaker?l(lt):l(it),alt:""},null,8,Ht)]),e("div",qt,o(l(p)("meeting.menu.ysq")),1)])]),e("div",Dt,[e("div",{class:ae(["room-options-btn",n.value.meetingNo?"active":""]),onClick:M[1]||(M[1]=(...i)=>l(D)&&l(D)(...i))},[e("span",null,o(l(p)("meeting.room.option.meeting.join")),1)],2)])])])}}});const jt=oe(Zt,[["__scopeId","data-v-a6d226e8"]]),Et={class:"longtime-options-container modal-container"},zt=["src"],Pt={class:"modal-title"},At={class:"modal-main wsl-scroll"},Rt={class:"users-main"},Ut={class:"users-main-header"},Ft={class:"user-main-header-left"},Jt={class:"user-main-header-right-icon"},Qt={class:"user-main-header-right-label"},Gt={class:"users-main-body"},Bt={key:0,class:"users-main-body-main"},Yt={class:"users-main-body-main-item-top"},Wt=["src"],Kt={class:"users-main-body-main-item-bot textEllipsis"},Xt=["onClick"],en=["src"],tn={key:1,class:"users-main-body-no-data"},nn={class:"bx"},on={key:0,class:"ax"},sn={class:"label"},an=["src"],ln={key:1,class:"ax"},cn={class:"label"},dn={class:"bx"},rn={class:"bx"},un={class:"modal-bot"},mn=se({__name:"longtime",emits:["handleClose","handleInviteOpen"],setup(q,{emit:V}){const s=le(),{t:S,locale:p}=ne.exports.useI18n(),n=ye(()=>{var i;return(i=s.industryList)==null?void 0:i.map(r=>({label:p.value==="zh-CN"?r.value:r.english,value:r.label}))}),L=ye(()=>{var i;return(i=s.languageList)==null?void 0:i.map(r=>({...r,label:p.value==="zh-CN"?r.value:r.english,value:r.label,ctry:r.flagUrl}))}),w=V,t=I({subject:"",userIds:[],recordStatus:"0",aiStatus:"0",escaping:"0",voiceTranslation:!1,languageType:"cn",industryType:"default"});Pe(()=>{var r;((r=L.value)==null?void 0:r.some(E=>E.type==="aliyun"))&&(t.value.languageType="zh")});const N=I(t.value.recordStatus==="1"),H=I(t.value.aiStatus==="1"),C=I(t.value.escaping==="1"),$=()=>{t.value={subject:"",userIds:[],recordStatus:"0",aiStatus:"0",escaping:"0"},s.updateSchedulePsn([])},v=()=>{t.value.userIds=he(s.schedulePsn,"userId")},D=()=>{$(),w("handleClose")},y=()=>{w("handleInviteOpen")},M=i=>{s.schedulePsn.splice(i,1)},g=async()=>{var r;const i=await s.createLongtimeMeeting({...t.value,enableTranslation:(r=t.value)!=null&&r.escaping?"1":"0"});if(i.code!==200&&i.code!==401){T.error(i.msg);return}T.success(S("meeting.schedule.message.success")),D()};return Ae(()=>[N.value,H.value,C.value,s.schedulePsn],i=>{i[0]?t.value.recordStatus="1":t.value.recordStatus="0",i[1]?t.value.aiStatus="1":t.value.aiStatus="0",i[2]?t.value.escaping="1":t.value.escaping="0",i[3]&&v()},{deep:!0}),de(()=>{v()}),fe(()=>{$()}),(i,r)=>{const E=ke,z=Re,F=Le,Q=Ce,Y=Ie,A=Ue,a=Fe,f=Je,R=Qe,j=Se;return c(),h("div",Et,[e("div",{class:"modal-fixed",onClick:D},[e("img",{src:l(Oe),alt:""},null,8,zt)]),e("div",Pt,o(i.$t("meeting.longtime.modal.title")),1),e("div",At,[d(R,{model:t.value,layout:"vertical"},{default:u(()=>[d(z,{field:"subject",label:i.$t("meeting.schedule.form.subject")},{default:u(()=>[d(E,{modelValue:t.value.subject,"onUpdate:modelValue":r[0]||(r[0]=k=>t.value.subject=k),"max-length":255,placeholder:i.$t("meeting.schedule.form.placeholder.schedule")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e("div",Rt,[e("div",Ut,[e("div",Ft,[e("span",null,o(i.$t("meeting.schedule.form.member")),1)]),e("div",{class:"user-main-header-right",onClick:y},[e("div",Jt,[d(F)]),e("div",Qt,[e("span",null,o(i.$t("meeting.schedule.form.btn.add")),1)])])]),e("div",Gt,[t.value.userIds&&t.value.userIds.length>0?(c(),h("div",Bt,[d(Y,{size:10,wrap:""},{default:u(()=>[(c(!0),h(me,null,ve(l(s).schedulePsn,(k,G)=>(c(),h("div",{key:`user_${k.userId}_${G}`,class:"users-main-body-main-item"},[e("div",Yt,[e("img",{src:k.avatarUrl,alt:"avatar"},null,8,Wt)]),d(Q,{content:k.name},{default:u(()=>[e("div",Kt,o(k.name),1)]),_:2},1032,["content"]),e("div",{class:"users-main-body-main-item-fixed",onClick:B=>M(G)},[e("img",{src:l(vt),alt:"del"},null,8,en)],8,Xt)]))),128))]),_:1})])):(c(),h("div",tn,[e("span",null,o(i.$t("meeting.schedule.form.placeholder.member")),1)]))])]),d(z,{style:{"margin-bottom":"0"},"content-class":"longtime-checkbox longtime-checkbox-voice"},{default:u(()=>[e("div",nn,[e("span",null,o(i.$t("meeting.schedule.form.voiceTranslation")),1),d(A,{modelValue:t.value.voiceTranslation,"onUpdate:modelValue":r[1]||(r[1]=k=>t.value.voiceTranslation=k),size:"small"},null,8,["modelValue"])]),t.value.voiceTranslation?(c(),h("div",on,[e("div",sn,o(i.$t("meeting.schedule.form.myLanguage")),1),e("div",null,[d(f,{modelValue:t.value.languageType,"onUpdate:modelValue":r[2]||(r[2]=k=>t.value.languageType=k)},{default:u(()=>[(c(!0),h(me,null,ve(L.value,k=>(c(),Z(a,{class:"st-img",value:k.value},{default:u(()=>[e("img",{src:k.ctry},null,8,an),e("span",null,o(k.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])])):O("",!0),t.value.voiceTranslation&&n.value.length>0?(c(),h("div",ln,[e("div",cn,o(i.$t("meeting.schedule.form.thesaurus")),1),e("div",null,[d(f,{modelValue:t.value.industryType,"onUpdate:modelValue":r[3]||(r[3]=k=>t.value.industryType=k),options:n.value},null,8,["modelValue","options"])])])):O("",!0)]),_:1}),d(z,{"content-class":"longtime-checkbox","hide-label":""},{default:u(()=>[e("div",dn,[e("span",null,o(i.$t("meeting.schedule.form.cloud.record")),1),d(A,{modelValue:N.value,"onUpdate:modelValue":r[4]||(r[4]=k=>N.value=k),size:"small"},null,8,["modelValue"])]),e("div",rn,[e("span",null,o(i.$t("meeting.schedule.form.ai.summary")),1),d(A,{modelValue:H.value,"onUpdate:modelValue":r[5]||(r[5]=k=>H.value=k),size:"small"},null,8,["modelValue"])])]),_:1})]),_:1},8,["model"])]),e("div",un,[d(j,{class:"modal-btn-item",onClick:D},{default:u(()=>[te(o(i.$t("meeting.schedule.form.btn.cancel")),1)]),_:1}),d(j,{class:"modal-btn-item",type:"primary",onClick:g},{default:u(()=>[te(o(i.$t("meeting.longtime.form.btn.longtime")),1)]),_:1})])])}}});const vn=oe(mn,[["__scopeId","data-v-0b159dda"]]),pn={class:"link-modal-container"},_n=["src"],hn={class:"link-m-t borderB"},gn={class:"link-m-m"},fn={class:"link-m-m-m"},bn={class:"link-m-m-mt"},$n={class:"name"},yn={class:"link-m-m-md"},Mn={class:"link-m-m-mm"},kn={key:0},Cn={key:1},In={class:"link-m-m-mf"},Sn={class:"link-m-m-mb"},wn={class:"link-m-b"},Tn={class:"link-m-b-btn"},xn=se({__name:"share",props:{meetingDetail:{}},emits:["handleClose"],setup(q,{emit:V}){const s=V,S=le(),p=ge(),{t:n}=ne.exports.useI18n(),w=I({...q.meetingDetail}),t=I(null),N=()=>{s("handleClose")},H=async()=>{const g=await S.getMeetingShareInfo({meetingNo:w.value.meetingNo});if(g.code!==200&&g.code!==401){T.error(g.msg);return}t.value=g.data},C=g=>{if(!g)return"";const i=new Date(g),r=i.getHours(),E=i.getMinutes();return`${r<10?"0":""}${r}:${E<10?"0":""}${E}`},$=g=>{if(!g)return"";const i=new Date(g),r=i.getFullYear(),E=i.getMonth()+1,z=i.getDate();return`${r}-${E<10?"0":""}${E}-${z<10?"0":""}${z}`},{isWujie:v,Copy:D}=Ne(),y=()=>{const g=(t==null?void 0:t.value.planType)===1||(t==null?void 0:t.value.planType)===0?`${$(t==null?void 0:t.value.startTime)} ${C(t==null?void 0:t.value.startTime)} \uFF5E ${$(t==null?void 0:t.value.endTime)} ${C(t==null?void 0:t.value.endTime)}`:n("meeting.invite.link.modal.text6"),i=`${p.name} ${n("meeting.invite.link.modal.text1")} 
${n("meeting.invite.link.modal.text2")}: ${t.value.subject} 
${n("meeting.invite.link.modal.text5")}: ${g} 
${n("meeting.invite.link.modal.text4")}: ${t.value.meetingNo} 
${n("meeting.invite.link.modal.text3")}: ${t.value.inviteUrl} `;if(v.value){D(i),T.success(n("meeting.invite.link.modal.msg.copy.success"));return}navigator.clipboard.writeText(i).then(()=>{T.success(n("meeting.invite.link.modal.msg.copy.success"))}).catch(r=>{console.log(r),T.error(n("meeting.invite.link.modal.msg.copy.fail"))})},M=()=>{const g=`${t.value.inviteUrl}`;if(v.value){D(g),T.success(n("meeting.invite.link.modal.msg.copy.success"));return}navigator.clipboard.writeText(g).then(()=>{T.success(n("meeting.invite.link.modal.msg.copy.success"))}).catch(i=>{console.log(i),T.error(n("meeting.invite.link.modal.msg.copy.fail"))})};return de(()=>{H()}),(g,i)=>{var r,E,z,F,Q,Y,A,a,f,R,j,k;return c(),h("div",pn,[e("div",{class:"link-fixed",onClick:N},[e("img",{src:l(Oe),alt:""},null,8,_n)]),e("div",hn,o(l(n)("meeting.invite.link.modal.title")),1),e("div",gn,[e("div",fn,[e("div",bn,[e("span",$n,o((r=t.value)==null?void 0:r.name),1),e("span",null,o(l(n)("meeting.invite.link.modal.text1")),1)]),e("div",yn,[e("span",null,o(l(n)("meeting.invite.link.modal.text2"))+":",1),e("span",null,o((E=t.value)==null?void 0:E.subject),1)]),e("div",Mn,[e("span",null,o(l(n)("meeting.invite.link.modal.text5"))+":",1),((z=t.value)==null?void 0:z.planType)===1||((F=t.value)==null?void 0:F.planType)===0?(c(),h("span",kn,o($((Q=t.value)==null?void 0:Q.startTime))+" "+o(C((Y=t.value)==null?void 0:Y.startTime))+" "+o((A=t.value)!=null&&A.endTime?"~":"")+" "+o($((a=t.value)==null?void 0:a.endTime))+" "+o(C((f=t.value)==null?void 0:f.endTime)),1)):O("",!0),((R=t.value)==null?void 0:R.planType)===2?(c(),h("span",Cn,o(l(n)("meeting.invite.link.modal.text6")),1)):O("",!0)]),e("div",In,[e("span",null,o(l(n)("meeting.invite.link.modal.text4"))+":",1),e("span",null,o((j=t.value)==null?void 0:j.meetingNo),1)]),e("div",Sn,[e("span",null,o(l(n)("meeting.invite.link.modal.text3"))+":",1),e("span",null,o((k=t.value)==null?void 0:k.inviteUrl),1)])])]),e("div",wn,[e("div",Tn,[e("div",{class:"link-m-b-btn-i btn-border",onClick:y},[e("span",null,o(l(n)("meeting.invite.link.modal.btn.copy.all")),1)]),e("div",{class:"link-m-b-btn-i btn-bg",onClick:M},[e("span",null,o(l(n)("meeting.invite.link.modal.btn.copy.link")),1)])])])])}}});const On=oe(xn,[["__scopeId","data-v-89b65aaa"]]),Vn={width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ln=e("circle",{cx:"16",cy:"16",r:"15.5",stroke:"#fff"},null,-1),Nn=e("g",{fill:"#fff"},[e("path",{d:"M10.258 21.742c.345.344.69.344 1.034 0l10.45-10.45c.344-.345.344-.69 0-1.034-.345-.344-.69-.344-1.034 0l-10.45 10.45c-.344.345-.344.69 0 1.034Z"}),e("path",{d:"M21.742 21.742c.344-.345.344-.69 0-1.034l-10.45-10.45c-.345-.344-.69-.344-1.034 0-.344.345-.344.69 0 1.034l10.45 10.45c.345.344.69.344 1.034 0Z"})],-1),Hn=[Ln,Nn];function qn(q,V){return c(),h("svg",Vn,[...Hn])}const Dn={render:qn},Zn={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jn=Ge('<g fill-rule="evenodd" clip-rule="evenodd" fill="#0267FF"><path d="M5.249 3.938a.73.73 0 1 0 0 1.458.73.73 0 0 0 0-1.458Zm-1.604.729a1.604 1.604 0 1 1 3.208 0 1.604 1.604 0 0 1-3.208 0Z"></path><path d="M1.807 1.806C2.585 1.027 3.75.729 5.25.729h2.334a.438.438 0 0 1 0 .875H5.25c-1.415 0-2.292.286-2.826.82-.534.534-.82 1.411-.82 2.826v3.5c0 1.415.286 2.292.82 2.826.534.534 1.411.82 2.826.82h3.5c1.415 0 2.292-.286 2.826-.82.534-.534.82-1.41.82-2.826V5.834a.438.438 0 0 1 .875 0V8.75c0 1.502-.297 2.667-1.076 3.445-.778.778-1.943 1.076-3.445 1.076h-3.5c-1.501 0-2.666-.298-3.444-1.076C1.028 11.417.73 10.252.73 8.75v-3.5c0-1.501.298-2.666 1.077-3.444Z"></path><path d="M10.5.73c.242 0 .438.195.438.437v2.444l.42-.42a.437.437 0 1 1 .618.619l-1.167 1.166a.438.438 0 0 1-.746-.309v-3.5c0-.242.195-.438.437-.438Z"></path><path d="M9.023 3.19c.17-.17.448-.17.618 0l1.167 1.167a.438.438 0 0 1-.619.619L9.023 3.809a.438.438 0 0 1 0-.618ZM11.599 7.624a.864.864 0 0 0-1.075 0L8.097 9.706a1.738 1.738 0 0 1-2.215 0l-.004-.003-.19-.167c-.262-.223-.709-.25-1.01-.049l-2.875 1.93a.437.437 0 1 1-.488-.726l2.876-1.93c.62-.417 1.502-.375 2.069.113l.003.003.19.167a.864.864 0 0 0 1.074-.001L9.954 6.96a1.738 1.738 0 0 1 2.215 0l.95.817a.438.438 0 1 1-.57.664l-.95-.817Z"></path></g>',1),En=[jn];function zn(q,V){return c(),h("svg",Zn,[...En])}const Pn={render:zn},An="/assist/assets/bg_modal_1.6e7b1e7f.png",Rn="/assist/assets/bg_modal_2.cc6ad44b.png",Un={class:"qr-code-modal-container"},Fn={class:"qr-code-main"},Jn={class:"qr-code-main-top-title"},Qn={class:"qr-code-main-top-desc"},Gn={class:"qr-code-main-top-bot"},Bn={class:"qr-code-main-mid-body"},Yn={class:"qr-code-main-bot"},Wn={class:"qr-code-main-bot-desc"},Kn={class:"qr-code-main-bot-b-l"},Xn={class:"qr-code-main-bot-b-r"},eo=se({__name:"qr_code",props:{meetingDetail:{}},emits:["handleClose"],setup(q,{emit:V}){const s=I(null),S=V,{t:p}=ne.exports.useI18n(),n=I(!0),L=()=>{S("handleClose")},t=I({...q.meetingDetail}),N=()=>{s.value&&He.toCanvas(t.value.qrCodeStr,{errorCorrectionLevel:"H",width:180,margin:2},(C,$)=>{if(C){console.error(C);return}s.value&&s.value.appendChild($);const v=$.getContext("2d");if(v){const y=($.width-30)/2,M=($.height-30)/2;v.beginPath(),v.moveTo(y+5,M),v.lineTo(y+30-5,M),v.quadraticCurveTo(y+30,M,y+30,M+5),v.lineTo(y+30,M+30-5),v.quadraticCurveTo(y+30,M+30,y+30-5,M+30),v.lineTo(y+5,M+30),v.quadraticCurveTo(y,M+30,y,M+30-5),v.lineTo(y,M+5),v.quadraticCurveTo(y,M,y+5,M),v.closePath(),v.fillStyle="#ffffff",v.fill(),v.strokeStyle="#000000",v.lineWidth=2,v.stroke();const g=new Image;g.src=rt,g.onload=()=>{v.drawImage(g,y+2.5,M+2.5,30-5,30-5)}}})},H=()=>{n.value=!1;const C=document.querySelector(".qr-code-main");C&&ut(C,{backgroundColor:null,useCORS:!0}).then($=>{const v=document.createElement("a");v.href=$.toDataURL("image/png"),v.download=`${t.value.meetingNo}.png`,v.click(),n.value=!0}).catch(()=>{n.value=!0})};return de(()=>{N()}),fe(()=>{t.value=null}),(C,$)=>(c(),h("div",Un,[e("div",{class:"qr-code-fixed",onClick:L},[d(l(Dn))]),e("div",Fn,[e("div",{class:"qr-code-main-top",style:Me({backgroundImage:`url(${l(An)})`})},[e("div",Jn,[e("span",null,o(t.value.subject),1)]),e("div",Qn,[e("span",null,o(l(p)("meeting.qr.code.modal.desc")),1)]),e("div",Gn,[e("span",null,o(l(xe)(t.value.meetingNo)),1)])],4),e("div",{class:"qr-code-main-mid",style:Me({backgroundImage:`url(${l(Rn)})`})},[e("div",Bn,[e("div",{ref_key:"qrCodeContainer",ref:s,class:"qr-code-container"},null,512)])],4)]),e("div",Yn,[e("div",Wn,[e("span",null,o(l(p)("meeting.qr.code.modal.desc1")),1)]),e("div",{class:"qr-code-main-bot-b",onClick:H},[e("div",Kn,[d(l(Pn))]),e("div",Xn,[e("span",null,o(l(p)("meeting.qr.code.modal.desc2")),1)])])])]))}});const to=oe(eo,[["__scopeId","data-v-16b5d05d"]]),no={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},oo=e("path",{d:"M25.556 4.686 11.26 9.436c-9.61 3.215-9.61 8.456 0 11.654l4.243 1.409 1.41 4.243c3.198 9.611 8.454 9.611 11.653 0l4.766-14.281c2.121-6.413-1.362-9.912-7.775-7.775Zm.507 8.519-6.017 6.048a1.174 1.174 0 0 1-.839.349c-.3 0-.601-.111-.839-.349-.46-.459-.46-1.219 0-1.678l6.017-6.048c.459-.46 1.219-.46 1.678 0 .46.459.46 1.219 0 1.678Z",fill:"#0267FF"},null,-1),so=[oo];function ao(q,V){return c(),h("svg",no,[...so])}const lo={render:ao},io={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},co=e("g",{fill:"#0267FF"},[e("path",{d:"M26.522 5.637v-2.47c0-.65-.538-1.188-1.188-1.188-.649 0-1.187.539-1.187 1.188v2.375H13.855V3.167c0-.65-.538-1.188-1.187-1.188-.65 0-1.188.539-1.188 1.188v2.47c-4.275.396-6.349 2.945-6.666 6.73-.031.458.349.838.792.838h26.79c.46 0 .84-.396.792-.839-.317-3.784-2.391-6.333-6.666-6.729ZM31.667 15.58H6.333c-.87 0-1.583.713-1.583 1.583v9.754c0 4.75 2.375 7.916 7.917 7.916h7.806a1.58 1.58 0 0 0 1.504-2.09c-.317-.918-.586-1.931-.586-2.66 0-4.797 3.91-8.708 8.708-8.708.46 0 .918.032 1.362.11a1.576 1.576 0 0 0 1.805-1.55v-2.756c-.016-.886-.728-1.599-1.6-1.599ZM14.582 28.04a1.829 1.829 0 0 1-.522.333c-.19.08-.396.127-.602.127-.206 0-.411-.047-.601-.127-.19-.079-.364-.19-.523-.332-.285-.3-.459-.713-.459-1.124 0-.095.016-.206.032-.301a.954.954 0 0 1 .095-.3c.031-.096.079-.19.142-.286.048-.08.127-.158.19-.237.159-.143.333-.254.523-.333.38-.158.823-.158 1.203 0 .19.08.364.19.522.333.064.079.143.158.19.237.064.095.111.19.143.285.048.095.08.19.095.3.016.096.032.207.032.302 0 .411-.175.823-.46 1.124Zm0-5.54a1.826 1.826 0 0 1-.522.332c-.19.079-.396.126-.602.126-.206 0-.411-.047-.601-.126a1.632 1.632 0 0 1-.523-.333c-.285-.3-.459-.712-.459-1.124 0-.412.174-.823.46-1.124.157-.143.332-.253.522-.333.38-.158.823-.158 1.203 0 .19.08.364.19.522.333.064.08.143.158.19.237.064.095.111.19.143.285.048.095.08.19.095.285.016.111.032.222.032.317 0 .412-.175.823-.46 1.124Zm5.542 0c-.3.284-.697.458-1.124.458-.206 0-.412-.047-.602-.126a1.634 1.634 0 0 1-.522-.333c-.285-.3-.46-.712-.46-1.124 0-.095.017-.206.032-.317.016-.095.048-.19.095-.285.032-.095.08-.19.143-.285l.19-.237c.586-.586 1.646-.586 2.248 0l.19.237c.064.095.111.19.143.285.047.095.079.19.095.285.015.111.031.222.031.317 0 .412-.174.823-.459 1.124Z"}),e("path",{d:"M34.564 25.602a6.345 6.345 0 0 0-8.962 0 6.345 6.345 0 0 0 0 8.962 6.345 6.345 0 0 0 8.962 0 6.345 6.345 0 0 0 0-8.962Zm-1.203 5.368a1.133 1.133 0 0 1-.84.348H31.35v1.235c0 .333-.127.618-.348.84a1.16 1.16 0 0 1-.84.348c-.649 0-1.187-.538-1.187-1.188v-1.235h-1.188c-.649 0-1.187-.522-1.187-1.187 0-.65.538-1.188 1.188-1.188h1.187V27.82c0-.649.522-1.187 1.188-1.187.649 0 1.187.538 1.187 1.187v1.124h1.172c.665 0 1.187.539 1.187 1.188 0 .332-.127.633-.348.839Z"})],-1),ro=[co];function uo(q,V){return c(),h("svg",io,[...ro])}const mo={render:uo},vo={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},po=e("path",{d:"M32.648 13.775C31 6.445 24.604 3.167 18.999 3.167h-.015c-5.59 0-11.97 3.277-13.633 10.592-1.868 8.17 3.135 15.09 7.663 19.46A8.606 8.606 0 0 0 19 35.64a8.542 8.542 0 0 0 5.97-2.422c4.528-4.37 9.531-11.274 7.679-19.444Zm-8.455 1.314-6.334 6.334a1.175 1.175 0 0 1-.839.348c-.3 0-.601-.11-.839-.348l-2.375-2.375c-.46-.46-.46-1.22 0-1.678.46-.46 1.22-.46 1.678 0l1.536 1.535 5.494-5.494c.46-.459 1.22-.459 1.679 0 .459.46.459 1.22 0 1.678Z",fill:"#FF6C02"},null,-1),_o=[po];function ho(q,V){return c(),h("svg",vo,[..._o])}const go={render:ho},fo={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},bo=e("path",{d:"M25.636 3.167H12.367c-5.763 0-9.199 3.436-9.199 9.2v13.252c0 5.779 3.436 9.215 9.2 9.215H25.62c5.763 0 9.199-3.436 9.199-9.2V12.366c.016-5.763-3.42-9.199-9.184-9.199Zm-.301 17.02h-5.146v5.147c0 .649-.538 1.187-1.188 1.187-.649 0-1.187-.538-1.187-1.187v-5.146h-5.146c-.65 0-1.188-.538-1.188-1.188 0-.649.539-1.187 1.188-1.187h5.146v-5.146c0-.65.538-1.188 1.187-1.188.65 0 1.188.539 1.188 1.188v5.146h5.146c.649 0 1.187.538 1.187 1.187 0 .65-.538 1.188-1.187 1.188Z",fill:"#0267FF"},null,-1),$o=[bo];function yo(q,V){return c(),h("svg",fo,[...$o])}const Mo={render:yo},ko={class:"menu-panel-top"},Co={class:"menu-panel-content"},Io={class:"grid-meeting-type-item-b"},So={class:"grid-meeting-type-item-b-top icon1"},wo={class:"grid-meeting-type-item-b-bot"},To={class:"grid-meeting-type-item-b"},xo={class:"grid-meeting-type-item-b-top icon2"},Oo={class:"grid-meeting-type-item-b-bot"},Vo={class:"grid-meeting-type-item-b"},Lo={class:"grid-meeting-type-item-b-top icon3"},No={class:"grid-meeting-type-item-b-bot"},Ho={class:"grid-meeting-type-item-b"},qo={class:"grid-meeting-type-item-b-top icon4"},Do={class:"grid-meeting-type-item-b-bot"},Zo=se({__name:"menu",emits:["handleQuickMeetingOpen","handleScheduleOpen","handleLongtimeOpen","handleJoinMeetingOpen"],setup(q,{emit:V}){const s=le(),{t:S}=ne.exports.useI18n(),p=V,L=Te(()=>{if(s.answerInfo&&s.answerInfo.meetingNo){T.error(S("meeting.call.message.tips"));return}p("handleQuickMeetingOpen")},1e3),w=()=>{p("handleScheduleOpen")},t=()=>{p("handleLongtimeOpen")},N=()=>{if(s.answerInfo&&s.answerInfo.meetingNo){T.error(S("meeting.call.message.tips"));return}p("handleJoinMeetingOpen")};return(H,C)=>{const $=we,v=Be,D=Ye;return c(),Z($,{class:"general-card menu-panel",bordered:!1,"body-style":{height:"100%",display:"flex",padding:0,flexFlow:"column"}},{default:u(()=>[e("div",ko,[e("span",null,o(H.$t("meeting.menu.title")),1)]),e("div",Co,[d(D,{class:"grid-meeting-type",gutter:[16,16]},{default:u(()=>[d(v,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d($,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:l(L)},{default:u(()=>[e("div",Io,[e("div",So,[d(l(lo))]),e("div",wo,[e("span",null,o(H.$t("meeting.menu.kshy")),1)])])]),_:1},8,["onClick"])]),_:1}),d(v,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d($,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:w},{default:u(()=>[e("div",To,[e("div",xo,[d(l(mo))]),e("div",Oo,[e("span",null,o(H.$t("meeting.menu.yyhy")),1)])])]),_:1})]),_:1}),d(v,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d($,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:t},{default:u(()=>[e("div",Vo,[e("div",Lo,[d(l(go))]),e("div",No,[e("span",null,o(H.$t("meeting.menu.cqhy")),1)])])]),_:1})]),_:1}),d(v,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d($,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:N},{default:u(()=>[e("div",Ho,[e("div",qo,[d(l(Mo))]),e("div",Do,[e("span",null,o(H.$t("meeting.menu.jrhy")),1)])])]),_:1})]),_:1})]),_:1})])]),_:1})}}});const jo=oe(Zo,[["__scopeId","data-v-25711f67"]]),Eo={width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},zo=e("g",{fill:"#FF6C02"},[e("path",{d:"M24.464 12.098v3.722a4.9 4.9 0 0 1-4.9 4.9H15.41c-.641 0-1.166.513-1.166 1.167v.956a1.17 1.17 0 0 0 1.166 1.167h2.637c.455 0 .828.362.828.828a.832.832 0 0 1-.828.829H8.784a.832.832 0 0 1-.829-.829c0-.466.374-.828.829-.828h2.636a1.17 1.17 0 0 0 1.167-1.167v-.956c0-.654-.525-1.167-1.167-1.167h-4.2a4.897 4.897 0 0 1-4.888-4.9V8.388A4.894 4.894 0 0 1 7.22 3.5h5.029a1.17 1.17 0 0 1 1.166 1.167v2.508c0 2.252 1.505 3.757 3.745 3.757h6.137a1.17 1.17 0 0 1 1.167 1.166Z"}),e("path",{d:"m25.656 2.753-1.318.922v-.49a1.994 1.994 0 0 0-1.995-1.995H17.35a2.168 2.168 0 0 0-2.182 2.17v3.826c0 1.004.502 1.995 1.995 1.995h5.168a1.994 1.994 0 0 0 1.995-1.995v-.501l1.319.921c.665.455 1.19.175 1.19-.618V3.37c0-.793-.525-1.061-1.179-.618Z"})],-1),Po=[zo];function Ao(q,V){return c(),h("svg",Eo,[...Po])}const Ro={render:Ao},Uo="/assist/assets/no_record.568a47cc.png",Fo={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Jo=e("g",{"clip-rule":"evenodd"},[e("path",{class:"svg-fill",d:"M14.488 1.513a.5.5 0 0 1 0 .707L9.022 7.686a.5.5 0 1 1-.708-.707l5.467-5.466a.5.5 0 0 1 .707 0Z"}),e("path",{class:"svg-fill",d:"M10.965 1.333a.5.5 0 0 1 .5-.5h3.2a.5.5 0 0 1 .5.5v3.2a.5.5 0 1 1-1 0v-2.7h-2.7a.5.5 0 0 1-.5-.5ZM2.062 2.063c.89-.89 2.22-1.23 3.937-1.23h1.333a.5.5 0 0 1 0 1H5.999c-1.618 0-2.62.327-3.23.937-.61.61-.937 1.612-.937 3.23v4c0 1.617.327 2.62.937 3.23.61.61 1.612.936 3.23.936h4c1.617 0 2.62-.326 3.23-.937.61-.61.936-1.612.936-3.23V8.667a.5.5 0 1 1 1 0V10c0 1.716-.34 3.047-1.23 3.937-.89.89-2.22 1.23-3.936 1.23h-4c-1.716 0-3.048-.34-3.937-1.23-.89-.89-1.23-2.221-1.23-3.937V6c0-1.716.34-3.048 1.23-3.937Z"})],-1),Qo=[Jo];function Go(q,V){return c(),h("svg",Fo,[...Qo])}const Bo={render:Go},Yo={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Wo=e("g",{fill:"#32466A"},[e("path",{d:"M5.57 2.167a.68.68 0 0 1 .68.68V5.57a.68.68 0 0 1-.68.681H2.847a.68.68 0 0 1-.68-.68V2.847a.68.68 0 0 1 .68-.68H5.57ZM5.57 1H2.847A1.85 1.85 0 0 0 1 2.847V5.57a1.85 1.85 0 0 0 1.847 1.848H5.57A1.85 1.85 0 0 0 7.417 5.57V2.847A1.85 1.85 0 0 0 5.57 1Zm7.583 1.167a.68.68 0 0 1 .68.68V5.57a.68.68 0 0 1-.68.681H10.43a.68.68 0 0 1-.681-.68V2.847a.68.68 0 0 1 .68-.68h2.723Zm0-1.167H10.43a1.85 1.85 0 0 0-1.848 1.847V5.57a1.85 1.85 0 0 0 1.848 1.848h2.722A1.85 1.85 0 0 0 15 5.57V2.847A1.85 1.85 0 0 0 13.153 1ZM5.57 9.75a.68.68 0 0 1 .68.68v2.723a.68.68 0 0 1-.68.68H2.847a.68.68 0 0 1-.68-.68V10.43a.68.68 0 0 1 .68-.681H5.57Zm0-1.167H2.847A1.85 1.85 0 0 0 1 10.431v2.722A1.85 1.85 0 0 0 2.847 15H5.57a1.85 1.85 0 0 0 1.848-1.847V10.43A1.85 1.85 0 0 0 5.57 8.583Z"}),e("path",{d:"M3.625 4.208a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM3.625 11.791a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM11.207 4.208a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM13.832 14.416a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM11.5 14.416a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0Z"}),e("path",{d:"M14.415 8.583a.583.583 0 0 0-.583.583V11.5h-1.167V9.166a.583.583 0 0 0-.583-.583H9.165a.583.583 0 0 0-.583.583v5.25a.583.583 0 1 0 1.167 0V9.75h1.75v2.333a.583.583 0 0 0 .583.583h2.333a.583.583 0 0 0 .584-.583V9.166a.583.583 0 0 0-.584-.583Z"})],-1),Ko=[Wo];function Xo(q,V){return c(),h("svg",Yo,[...Ko])}const es={render:Xo},ts={key:0,class:"list-panel"},ns={class:"list-panel-top"},os={class:"list-panel-main wsl-scroll"},ss={class:"list-panel-main-item-top"},as={class:"list-panel-main-item-content"},ls=["onMouseenter"],is={class:"list-panel-main-item-content-item-left"},cs={class:"list-panel-main-item-content-item-right-left"},ds={class:"list-panel-main-item-content-item-right-left-top textEllipsis"},rs={class:"list-panel-main-item-content-item-right-left-bot"},us={class:"list-panel-main-item-content-item-right-left-bot-i"},ms=["src"],vs={class:"list-panel-main-item-content-item-right-left-bot-i"},ps={class:"list-panel-main-item-content-item-right-left-bot-i"},_s={key:0,class:"list-panel-main-item-content-item-right-right"},hs={class:"btn-del"},gs={key:1,class:"no-data"},fs={class:"no-data-body"},bs=["src"],$s={class:"no-data-body-text"},ys=se({__name:"list",emits:["openLinkShare","openQrCode","handleJoinMeetingOpen","handleScheduleOpen"],setup(q,{expose:V,emit:s}){const S=s,{t:p}=ne.exports.useI18n(),n=le(),L=I([]),w=ge(),t=I(!0),N=I({planId:""}),H=a=>{const f=_e(),R=_e(a),j=R.format("YYYY-MM-DD");return R.isSame(f,"day")?`${p("today")}`:j},C=a=>_e(a).format("YYYY-MM-DD HH:mm"),$=a=>p(a===1?"meeting.list.long.status.jxz":"meeting.list.long.status.dks"),v=a=>a===1?"jxz":a===0?"dks":"",D=async()=>{const a=await n.getMeetingGroupList();if(a.code!==200&&a.code!==401){T.error(a.msg);return}L.value=a.data},y=async a=>{const f=await n.delMeetingPlan({planId:a.planId});f.code!==200&&f.code!==401?T.error(f.msg):T.success(p("meeting.list.long.delete")),D()},M=async a=>{const f=await n.delMeetingPlan({planId:a.planId});f.code!==200&&f.code!==401?T.error(f.msg):T.success(p("meeting.list.long.cancel")),D()},g=async a=>{const f=await n.overMeetingPlan({planId:a.planId});if(f.code!==200&&f.code!==401){T.error(f.msg),D();return}T.success(p("meeting.list.long.cancel")),D()},i=async a=>{const f=await n.getMeetingDetail(a);if(f.code!==200&&f.code!==401){T.error(f.msg);return}S("handleScheduleOpen",f.data)},r=a=>{a.command===1?M(a.data):a.command===2?g(a.data):a.command===3?i(a.data):a.command===4&&y(a.data)},E=a=>{t.value&&(N.value=a)},z=()=>{t.value&&(N.value="")},F=a=>{t.value=!a,a||z()},Q=a=>{if(n.answerInfo&&n.answerInfo.meetingNo){T.error(p("meeting.call.message.tips"));return}S("handleJoinMeetingOpen",a)},Y=a=>{S("openLinkShare",a)},A=a=>{S("openQrCode",a)};return de(()=>{D()}),V({handleGetMeetingList:D}),(a,f)=>{const R=Ce,j=Se,k=qe,G=Ke,B=Xe,W=Ie,pe=we;return L.value.length>0?(c(),h("div",ts,[e("div",ns,[e("span",null,o(a.$t("meeting.list.title")),1)]),e("div",os,[(c(!0),h(me,null,ve(L.value,(U,K)=>(c(),h("div",{key:`meeting_${K}`,class:ae(["list-panel-main-item",U.timestamp===0?"long":""])},[e("div",ss,[e("span",null,o(U.timestamp===0?a.$t("meeting.list.long.title"):H(U.timestamp)),1)]),e("div",as,[d(pe,{class:ae(U.timestamp===0?"long-card":""),bordered:!1,"body-style":{padding:"5px"}},{default:u(()=>[(c(!0),h(me,null,ve(U.meetings,(b,re)=>(c(),h("div",{key:`meeting_item_${re}`,class:ae(["list-panel-main-item-content-item",N.value.planId===b.planId?"active":""]),onMouseenter:ie=>E(b),onMouseleave:z},[e("div",is,[U.timestamp!==0?(c(),Z(l(ht),{key:0})):(c(),Z(l(Ro),{key:1}))]),e("div",{class:ae(["list-panel-main-item-content-item-right",re<U.meetings.length-1?"borderB":""])},[e("div",cs,[d(R,{content:b.subject},{default:u(()=>[e("div",ds,o(b.subject),1)]),_:2},1032,["content"]),e("div",rs,[e("div",us,[e("span",null,o(a.$t("meeting.list.long.zzz"))+":",1),e("img",{src:b.masterAvatarUrl,alt:""},null,8,ms),e("span",null,o(b.masterName),1)]),e("div",vs,[e("span",null,o(a.$t("meeting.list.long.time"))+":",1),e("span",null,o(C(b.startTime))+" "+o(U.timestamp!==0?`- ${C(b.endTime)}`:""),1)]),e("div",ps,[e("span",null,o(a.$t("meeting.list.long.hyh"))+":",1),e("span",null,o(l(xe)(b.meetingNo)),1)]),U.timestamp!==0?(c(),h("div",{key:0,class:ae(["list-panel-main-item-content-item-right-left-bot-s",v(b.planStatus)])},[e("span",null,o($(b.planStatus)),1)],2)):O("",!0)])]),N.value.planId===b.planId?(c(),h("div",_s,[d(W,null,{default:u(()=>[d(j,{type:"primary",onClick:ie=>Q(b)},{default:u(()=>[te(o(a.$t("meeting.list.long.rh")),1)]),_:2},1032,["onClick"]),d(j,{onClick:ie=>Y(b)},{icon:u(()=>[d(l(Bo),{class:"share-icon"})]),_:2},1032,["onClick"]),d(j,{onClick:ie=>A(b)},{icon:u(()=>[d(l(es),{class:"qrCode-icon"},{default:u(()=>[te(">")]),_:1})]),_:2},1032,["onClick"]),b.masterId===l(w).userId?(c(),Z(B,{key:0,trigger:"click",onSelect:r,onPopupVisibleChange:F},We({default:u(()=>[d(j,null,{icon:u(()=>[d(k)]),_:1})]),_:2},[U.timestamp!==0?{name:"content",fn:u(()=>[b.masterId===l(w).userId&&b.planStatus===0?(c(),Z(G,{key:0,value:{command:3,data:b}},{default:u(()=>[te(o(a.$t("meeting.list.long.xg")),1)]),_:2},1032,["value"])):O("",!0),b.masterId===l(w).userId&&b.planStatus===0?(c(),Z(G,{key:1,value:{command:1,data:b}},{default:u(()=>[te(o(a.$t("meeting.list.long.qxhy")),1)]),_:2},1032,["value"])):O("",!0),b.masterId===l(w).userId&&b.planStatus===1?(c(),Z(G,{key:2,value:{command:2,data:b}},{default:u(()=>[te(o(a.$t("meeting.list.long.jshy")),1)]),_:2},1032,["value"])):O("",!0)]),key:"0"}:{name:"content",fn:u(()=>[b.masterId===l(w).userId?(c(),Z(G,{key:0,value:{command:4,data:b}},{default:u(()=>[e("span",hs,o(a.$t("meeting.list.long.del")),1)]),_:2},1032,["value"])):O("",!0)]),key:"1"}]),1024)):O("",!0)]),_:2},1024)])):O("",!0)],2)],42,ls))),128))]),_:2},1032,["class"])])],2))),128))])])):(c(),h("div",gs,[e("div",fs,[e("img",{src:l(Uo),alt:""},null,8,bs),e("div",$s,o(a.$t("meeting.no.data.text")),1)])]))}}});const Ms=oe(ys,[["__scopeId","data-v-04da3b64"]]),ks={class:"container"},Cs={class:"layout"},Is={class:"layout-left-side"},Ss={class:"layout-content"},ws=se({__name:"index",setup(q){const{t:V}=ne.exports.useI18n(),s=le(),S=De(),p=Ze(),n=ge(),L=je(),w=I(!1),t=I(!1),N=I(!1),H=I(),C=I(!1),$=()=>{s.updateRoomOptions(null),s.updateRoomInvitePsn(null),C.value=!1},v=()=>{C.value=!0,console.log("handleOptionCallOpen",C.value),s.updateRoomInvitePsn(null),s.updateRoomOptions({meetingName:`${n.name} ${V("meeting.room.option.meetingName")}`,video:!1,audio:!0,loudspeaker:!0,cloudRecord:!1,escaping:!1,abstract:!1,organizer:n.name})},D=async m=>{var _,P,x,X;try{const J=await s.ThImEvent.joinMeeting({meetingNo:m.meetingNo,forceEntryStatus:0,inviters:s.roomInvitePsn?he(s.roomInvitePsn,"userId"):[]});if(S.updateRoomTranslateInfo({...S.roomTranslateInfo,...J.data,open:!!((_=J.data)!=null&&_.enableTranslation)}),L.updateBtnLoading(!1),J.code!==200&&J.code!==401){T.error(J.msg);return}s.ThImEvent.roomMenuOptions={video:(P=s.roomOptions)==null?void 0:P.video,audio:(x=s.roomOptions)==null?void 0:x.audio,loudspeaker:(X=s.roomOptions)==null?void 0:X.loudspeaker},s.ThImEvent.setRoomOnlineListPsn(p.memberList),s.ThImEvent.setRoomOnlineGroupPsn(p.memberGroupList),$(),s.updateAssistVisible(!0)}catch{L.updateBtnLoading(!1)}},y=async()=>{var m,_,P,x,X,J,ce;try{const ee=await s.createRealtimeMeeting({aiStatus:(m=s.roomOptions)!=null&&m.abstract?"1":"0",recordStatus:(_=s.roomOptions)!=null&&_.cloudRecord?"1":"0",escaping:(P=s.roomOptions)!=null&&P.escaping?"1":"0",subject:(x=s.roomOptions)==null?void 0:x.meetingName,userIds:s.roomInvitePsn?he(s.roomInvitePsn,"userId"):[],enableTranslation:(X=s.roomOptions)!=null&&X.escaping?"1":"0",languageType:(J=S.roomTranslateInfo)==null?void 0:J.languageType,industryType:(ce=S.roomTranslateInfo)==null?void 0:ce.industryType});if(ee.code!==200&&ee.code!==401){T.error(ee.msg),L.updateBtnLoading(!1);return}D(ee.data)}catch{L.updateBtnLoading(!1)}},M=()=>{s.updateRoomOptions({video:!1,audio:!0,loudspeaker:!0}),w.value=!0},g=()=>{w.value=!1},i=m=>{s.updateRoomOptions({meetingName:m==null?void 0:m.subject,meetingNo:m==null?void 0:m.meetingNo,cloudRecord:(m==null?void 0:m.recordStatus)===1,abstract:(m==null?void 0:m.aiStatus)===1,escaping:(m==null?void 0:m.escaping)===1,organizer:m==null?void 0:m.masterName,video:!1,audio:!0,loudspeaker:!0}),t.value=!0},r=()=>{t.value=!1},E=async m=>{var P,x,X,J,ce,ee,be;const _=await s.ThImEvent.joinMeeting({meetingNo:m.meetingNo,forceEntryStatus:0,inviters:[]});if(_.code!==200&&_.code!==401){_.code===$e.OTHER_CLIENT_JOINED_MEETING||_.code===$e.OTHER_CLIENT_IN_MEETING?(s.updateForceEntryMeetingInfo({meetingNo:m.meetingNo,invitor:[]}),S.updateRoomTranslateInfo({...S.roomTranslateInfo,..._.data,open:!!((P=_.data)!=null&&P.enableTranslation)}),ue.emit("Chat-Other-Client-Joined-Meeting"),r()):T.error(_.msg);return}S.updateRoomTranslateInfo({...S.roomTranslateInfo,languageType:(x=_.data)==null?void 0:x.languageType,industryType:(X=_.data)==null?void 0:X.industryType,..._.data,open:!!((J=_.data)!=null&&J.enableTranslation)}),s.ThImEvent.roomMenuOptions={video:(ce=s.roomOptions)==null?void 0:ce.video,audio:(ee=s.roomOptions)==null?void 0:ee.audio,loudspeaker:(be=s.roomOptions)==null?void 0:be.loudspeaker},s.ThImEvent.setRoomOnlineListPsn(p.memberList),s.ThImEvent.setRoomOnlineGroupPsn(p.memberGroupList),t.value&&r(),w.value&&g(),s.updateAssistVisible(!0)},z=async()=>{var m;await ct(1e3*.3),(m=H.value)==null||m.handleGetMeetingList()},F=I(null),Q=m=>{N.value=!0,m?F.value=m:F.value=null},Y=()=>{N.value=!1,H.value&&H.value.handleGetMeetingList()},A=I(!1),a=()=>{A.value=!0},f=()=>{A.value=!1},R=m=>{f(),s.updateSchedulePsn(m)},j=I(!1),k=()=>{j.value=!0},G=()=>{j.value=!1,z()},B=I(),W=I(!1),pe=()=>{B.value=null,W.value=!1},U=m=>{console.log("handleLinkShareModalOpen",m),B.value=m,W.value=!0},K=I(!1),b=()=>{B.value=null,K.value=!1},re=m=>{console.log("handleQrCodeModalOpen",m),B.value=m,K.value=!0},ie=()=>{ue.on("meeting-list-update",z)},Ve=()=>{ue.off("meeting-list-update",z)};return fe(()=>{Ve()}),de(()=>{ie()}),(m,_)=>{const P=et;return c(),h("div",ks,[e("div",Cs,[e("div",Is,[d(jo,{onHandleQuickMeetingOpen:v,onHandleScheduleOpen:Q,onHandleLongtimeOpen:k,onHandleJoinMeetingOpen:M})]),e("div",Ss,[d(Ms,{ref_key:"meetingListRef",ref:H,onOpenLinkShare:U,onOpenQrCode:re,onHandleJoinMeetingOpen:i,onHandleScheduleOpen:Q},null,512)])]),C.value?(c(),Z(P,{key:0,visible:C.value,"onUpdate:visible":_[0]||(_[0]=x=>C.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(dt,{onHandleCall:y,onHandleClose:$})]),_:1},8,["visible"])):O("",!0),N.value?(c(),Z(P,{key:1,visible:N.value,"onUpdate:visible":_[1]||(_[1]=x=>N.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(pt,{"meeting-detail":F.value,onHandleClose:Y,onHandleInviteOpen:a},null,8,["meeting-detail"])]),_:1},8,["visible"])):O("",!0),w.value?(c(),Z(P,{key:2,visible:w.value,"onUpdate:visible":_[2]||(_[2]=x=>w.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[w.value?(c(),Z(jt,{key:0,onHandleClose:g,onHandleJoinMeeting:E})):O("",!0)]),_:1},8,["visible"])):O("",!0),t.value?(c(),Z(P,{key:3,visible:t.value,"onUpdate:visible":_[3]||(_[3]=x=>t.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[t.value?(c(),Z(mt,{key:0,onHandleClose:r,onHandleJoinMeeting:E})):O("",!0)]),_:1},8,["visible"])):O("",!0),j.value?(c(),Z(P,{key:4,visible:j.value,"onUpdate:visible":_[4]||(_[4]=x=>j.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(vn,{onHandleClose:G,onHandleInviteOpen:a})]),_:1},8,["visible"])):O("",!0),A.value?(c(),Z(P,{key:5,visible:A.value,"onUpdate:visible":_[5]||(_[5]=x=>A.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(_t,{"select-psn":l(s).schedulePsn,onHandleClose:f,onHandleInvite:R},null,8,["select-psn"])]),_:1},8,["visible"])):O("",!0),W.value?(c(),Z(P,{key:6,visible:W.value,"onUpdate:visible":_[6]||(_[6]=x=>W.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[W.value?(c(),Z(On,{key:0,"meeting-detail":B.value,onHandleClose:pe},null,8,["meeting-detail"])):O("",!0)]),_:1},8,["visible"])):O("",!0),K.value?(c(),Z(P,{key:7,visible:K.value,"onUpdate:visible":_[7]||(_[7]=x=>K.value=x),footer:!1,closable:!1,class:"customModal qrCodeModal"},{default:u(()=>[K.value?(c(),Z(to,{key:0,"meeting-detail":B.value,onHandleClose:b},null,8,["meeting-detail"])):O("",!0)]),_:1},8,["visible"])):O("",!0)])}}});const zs=oe(ws,[["__scopeId","data-v-ed734529"]]);export{zs as default};
