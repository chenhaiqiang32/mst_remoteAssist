import{d as g,C as p,D as f,E as e,u as v,j as P,aN as _,aI as s,aH as l,aM as A,aW as C,n as M,b4 as j,bb as L,bi as z,aX as D,b7 as R,bj as U,bc as q,o as G,G as W}from"./arco.22dd370d.js";import{_ as b,v as H,u as O,s as X,a as J,b as K,c as Q,E as Y,d as Z,i as ee}from"./index.ae3ddf81.js";import{u as oe,F as se,l as te}from"./loading.b94e99ea.js";import{f as ne,g as ae,h as re}from"./vue.141c3422.js";import"./chart.93614b3d.js";/* empty css              */const le="/assist/assets/banner_bg.3eeb59ed.png",ie={class:"banner"},ue={class:"banner-bot"},ce=["src"],de=g({__name:"banner",setup(h){return(i,t)=>(p(),f("div",ie,[t[0]||(t[0]=e("div",{class:"banner-inner"},[e("div",{class:"banner-inner-t"},[e("span",null,"\u8FDC\u7A0B\u534F\u52A9")]),e("div",{class:"banner-inner-b"},[e("span",null,"\u591A\u4EBAAR\u7B2C\u4E00\u89C6\u89D2\u534F\u52A9")])],-1)),e("div",ue,[e("img",{src:v(le),alt:""},null,8,ce)])]))}});const _e=b(de,[["__scopeId","data-v-2840fe52"]]),me={class:"login-form-wrapper"},ge={class:"login-form-title"},pe={class:"login-form-forget-password"},fe={class:"login-form-protocol-actions"},ve=g({__name:"login-form",setup(h){const{t:i}=H.exports.useI18n(),t=ne(),w=ae(),E=P(""),{loading:y,setLoading:$}=oe(),I=O(),k=re("login-config",{companyNo:"EU0001",username:"",password:"",agreeProtocol:!0}),r=P({...k.value}),T=async({errors:o,values:n})=>{if(!y.value&&!o){if(!n.agreeProtocol){C.warning(i("login.form.agreeProtocol.text1"));return}$(!0);try{const a=await I.login(n);if(a.code!==200&&a.code!==401){C.error(a.msg);return}k.value={...n},X(),J(a.data.tokenType),K(a.data.token),Q(a.data.refreshToken);const u=w.query.meetingToken,c=w.query.meetingNo;c||u?(await t.push("/Meeting-list"),await M(),setTimeout(()=>{const m=c?{meetingNo:c}:{meetingToken:u};console.log("\u767B\u5F55\u6210\u529F\u540E\u53D1\u9001 invitation-join-meeting \u4E8B\u4EF6\uFF0C\u6570\u636E:",m),Y.emit("invitation-join-meeting",m)},1500)):t.push({name:"MessageList"})}catch(a){E.value=a.message}finally{$(!1)}}},B=o=>{r.value.agreeProtocol=o},V=()=>{t.push({path:"/ForgetPassword"})},x=()=>{const o=t.resolve({path:"/Protocol"}).href;window.open(o,"_blank")};return(o,n)=>{const a=j,u=L,c=z,m=D,F=R,S=U,N=q;return p(),f("div",me,[e("div",ge,_(o.$t("login.form.title")),1),s(N,{ref:"loginForm",model:r.value,class:"login-form",layout:"vertical",onSubmit:T},{default:l(()=>[s(u,{field:"username",rules:[{required:!0,message:o.$t("login.form.userName.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:l(()=>[s(a,{modelValue:r.value.username,"onUpdate:modelValue":n[0]||(n[0]=d=>r.value.username=d),size:"large",placeholder:o.$t("login.form.userName.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),s(u,{field:"password",rules:[{required:!0,message:o.$t("login.form.password.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:l(()=>[s(c,{modelValue:r.value.password,"onUpdate:modelValue":n[1]||(n[1]=d=>r.value.password=d),size:"large",placeholder:o.$t("login.form.password.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),e("div",pe,[e("span",{class:"text-no-select",onClick:V},_(o.$t("login.form.forget.password")),1)]),s(F,{size:48,direction:"vertical",class:"btn-main"},{default:l(()=>[s(m,{type:"primary",size:"large","html-type":"submit",long:"",loading:v(y)},{default:l(()=>[A(_(o.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1}),s(F,{size:48},{default:l(()=>[e("div",fe,[s(S,{modelValue:r.value.agreeProtocol,"onUpdate:modelValue":n[2]||(n[2]=d=>r.value.agreeProtocol=d),checked:"agreeProtocol",onChange:B},{default:l(()=>[e("span",null,_(o.$t("login.form.agreeProtocol")),1)]),_:1},8,["modelValue"]),e("span",{class:"protocolBlue",onClick:x},_(o.$t("login.form.agreeProtocol.text")),1)])]),_:1})]),_:1},8,["model"])])}}});const be=b(ve,[["__scopeId","data-v-e6b6fbf4"]]),he={class:"content"},we={class:"content-left"},ye={class:"content-right"},$e={class:"footer"},ke=g({__name:"index",setup(h){return Z(),G(()=>{var i,t;ee()&&((t=(i=window==null?void 0:window.$wujie)==null?void 0:i.bus)==null||t.$emit("REPEAT_LOGIN",{name:"login"}))}),(i,t)=>(p(),f("div",{class:"container wsl-scroll",style:W({backgroundImage:`url(${v(te)})`})},[e("div",he,[e("div",we,[s(_e)]),e("div",ye,[s(be)])]),e("div",$e,[s(se)])],4))}});const Be=b(ke,[["__scopeId","data-v-85155981"]]);export{Be as default};
