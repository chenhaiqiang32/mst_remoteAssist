import{ab as ae,v as te,E as ue,_ as ne,aq as Ne,u as he,ae as He,f as qe,ar as De,ad as Ze,ac as je,d as Ee,ai as ye}from"./index.ae3ddf81.js";import{d as oe,j as S,C as i,D as y,E as e,u as a,aN as s,aI as d,F as se,aW as w,b4 as ke,c as $e,a as ze,w as Pe,o as ce,b as fe,aH as u,aK as me,aJ as ve,aE as D,aF as x,aM as ee,bb as Ae,b8 as Ce,b7 as Ie,aV as Re,b9 as Ue,ba as Fe,bc as Je,aX as Se,H as Qe,G as Me,bK as we,bL as Ge,bM as Be,bO as Ye,aS as ge,bq as We,br as Ke,bd as Xe}from"./arco.22dd370d.js";import{d as Te,e as et,m as tt,j as nt,v as ot,k as st,l as at,n as lt,p as _e,s as Oe,t as it}from"./icon_volume_1.fd08a673.js";import{o as ct}from"./index.81f9d35b.js";import{l as dt,h as rt,j as ut}from"./html2canvas.esm.8907e021.js";import{d as mt,s as vt}from"./schedule.58a7b52f.js";import{I as pt}from"./invite.57dcfc7d.js";import{c as xe}from"./icon_close.f7fee805.js";import{M as gt}from"./icon-default-meeting.2b7c3ed3.js";import"./chart.93614b3d.js";import"./vue.141c3422.js";/* empty css               */const _t={class:"room-join-options-container"},ht={class:"room-options-c"},ft=["src"],bt={class:"room-options-header"},yt={class:"room-options-h-t"},$t={class:"room-options-h-n"},Mt={class:"room-options-h-n-t"},kt={class:"room-options-main"},Ct={class:"room-options-m-it"},It=["src"],St={class:"room-options-m-ib text-ellipsis"},wt={class:"room-options-m-it"},Tt=["src"],Ot={class:"room-options-m-ib text-ellipsis"},xt={class:"room-options-m-it"},Vt=["src"],Lt={class:"room-options-m-ib text-ellipsis"},Nt={class:"room-options-f"},Ht=oe({__name:"join",emits:["handleClose","handleJoinMeeting"],setup(j,{emit:m}){const k=ae(),l=m,{t:v}=te.exports.useI18n();S(!1);const n=S({...k.roomOptions,meetingNo:""}),N=S(null),V=()=>{N.value&&(N.value.getTracks().forEach(C=>C.stop()),N.value=null)},t=()=>{V(),n.value.meetingNo="",l("handleClose")},L=async()=>{n.value.audio=!n.value.audio;try{n.value.audio&&(N.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})),V()}catch{n.value.audio=!1,w.error(v("meeting.modal.option.devices.audio"))}},H=async()=>{n.value.video=!n.value.video;try{n.value.video&&(N.value=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})),V()}catch{n.value.video=!n.value.video,w.error(v("meeting.modal.option.devices.video"))}},T=()=>{n.value.loudspeaker=!n.value.loudspeaker},f=()=>{console.log("handleClearSpace",n.value.meetingNo),n.value.meetingNo=n.value.meetingNo.replace(/\s+/g,"")},q=Te(async()=>{!n.value.meetingNo||(ue.emit("meeting-notification-close"),k.updateRoomOptions(n.value),l("handleJoinMeeting",{meetingNo:n.value.meetingNo}))},1e3);return(C,$)=>{const M=ke;return i(),y("div",_t,[e("div",ht,[e("div",{class:"room-fixed",onClick:t},[e("img",{src:a(et),alt:""},null,8,ft)]),e("div",bt,[e("div",yt,[e("span",null,s(a(v)("meeting.menu.jrhy")),1)]),e("div",$t,[e("div",Mt,[e("span",null,s(a(v)("meeting.qr.code.modal.desc")),1),$[2]||($[2]=e("span",{class:"required"},"*",-1))]),d(M,{modelValue:n.value.meetingNo,"onUpdate:modelValue":$[0]||($[0]=c=>n.value.meetingNo=c),placeholder:a(v)("meeting.room.option.meeting.join.title"),onInput:f},null,8,["modelValue","placeholder"])])]),e("div",kt,[e("div",{class:"room-options-m-i",onClick:L},[e("div",Ct,[e("img",{src:n.value.audio?a(tt):a(nt),alt:""},null,8,It)]),e("div",St,s(a(v)("meeting.menu.mkf")),1)]),e("div",{class:"room-options-m-i",onClick:H},[e("div",wt,[e("img",{src:n.value.video?a(ot):a(st),alt:""},null,8,Tt)]),e("div",Ot,s(a(v)("meeting.menu.sxt")),1)]),e("div",{class:"room-options-m-i",onClick:T},[e("div",xt,[e("img",{src:n.value.loudspeaker?a(at):a(lt),alt:""},null,8,Vt)]),e("div",Lt,s(a(v)("meeting.menu.ysq")),1)])]),e("div",Nt,[e("div",{class:se(["room-options-btn",n.value.meetingNo?"active":""]),onClick:$[1]||($[1]=(...c)=>a(q)&&a(q)(...c))},[e("span",null,s(a(v)("meeting.room.option.meeting.join")),1)],2)])])])}}});const qt=ne(Ht,[["__scopeId","data-v-a6d226e8"]]),Dt={class:"longtime-options-container modal-container"},Zt=["src"],jt={class:"modal-title"},Et={class:"modal-main wsl-scroll"},zt={class:"users-main"},Pt={class:"users-main-header"},At={class:"user-main-header-left"},Rt={class:"user-main-header-right-icon"},Ut={class:"user-main-header-right-label"},Ft={class:"users-main-body"},Jt={key:0,class:"users-main-body-main"},Qt={class:"users-main-body-main-item-top"},Gt=["src"],Bt={class:"users-main-body-main-item-bot textEllipsis"},Yt=["onClick"],Wt=["src"],Kt={key:1,class:"users-main-body-no-data"},Xt={class:"bx"},en={key:0,class:"ax"},tn={class:"label"},nn=["src"],on={key:1,class:"ax"},sn={class:"label"},an={class:"modal-bot"},ln=oe({__name:"longtime",emits:["handleClose","handleInviteOpen"],setup(j,{emit:m}){const k=ae(),{t:l,locale:v}=te.exports.useI18n(),n=$e(()=>{var c;return(c=k.industryList)==null?void 0:c.map(g=>({label:v.value==="zh-CN"?g.value:g.english,value:g.label}))}),N=$e(()=>{var c;return(c=k.languageList)==null?void 0:c.map(g=>({...g,label:v.value==="zh-CN"?g.value:g.english,value:g.label,ctry:g.flagUrl}))}),V=m,t=S({subject:"",userIds:[],recordStatus:"0",aiStatus:"0",escaping:"0",voiceTranslation:!1,languageType:"cn",industryType:"default"});ze(()=>{var g;((g=N.value)==null?void 0:g.some(Z=>Z.type==="aliyun"))&&(t.value.languageType="zh")});const L=S(t.value.recordStatus==="1"),H=S(t.value.aiStatus==="1"),T=S(t.value.escaping==="1"),f=()=>{t.value={subject:"",userIds:[],recordStatus:"0",aiStatus:"0",escaping:"0"},k.updateSchedulePsn([])},p=()=>{t.value.userIds=_e(k.schedulePsn,"userId")},q=()=>{f(),V("handleClose")},C=()=>{V("handleInviteOpen")},$=c=>{k.schedulePsn.splice(c,1)},M=async()=>{var g;const c=await k.createLongtimeMeeting({...t.value,enableTranslation:(g=t.value)!=null&&g.voiceTranslation?"1":"0"});if(c.code!==200&&c.code!==401){w.error(c.msg);return}w.success(l("meeting.schedule.message.success")),q()};return Pe(()=>[L.value,H.value,T.value,k.schedulePsn],c=>{c[0]?t.value.recordStatus="1":t.value.recordStatus="0",c[1]?t.value.aiStatus="1":t.value.aiStatus="0",c[2]?t.value.escaping="1":t.value.escaping="0",c[3]&&p()},{deep:!0}),ce(()=>{p()}),fe(()=>{f()}),(c,g)=>{const Z=ke,z=Ae,U=Ne,J=Ce,Q=Ie,B=Re,o=Ue,b=Fe,A=Je,P=Se;return i(),y("div",Dt,[e("div",{class:"modal-fixed",onClick:q},[e("img",{src:a(xe),alt:""},null,8,Zt)]),e("div",jt,s(c.$t("meeting.longtime.modal.title")),1),e("div",Et,[d(A,{model:t.value,layout:"vertical"},{default:u(()=>[d(z,{field:"subject",label:c.$t("meeting.schedule.form.subject")},{default:u(()=>[d(Z,{modelValue:t.value.subject,"onUpdate:modelValue":g[0]||(g[0]=I=>t.value.subject=I),"max-length":255,placeholder:c.$t("meeting.schedule.form.placeholder.schedule")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e("div",zt,[e("div",Pt,[e("div",At,[e("span",null,s(c.$t("meeting.schedule.form.member")),1)]),e("div",{class:"user-main-header-right",onClick:C},[e("div",Rt,[d(U)]),e("div",Ut,[e("span",null,s(c.$t("meeting.schedule.form.btn.add")),1)])])]),e("div",Ft,[t.value.userIds&&t.value.userIds.length>0?(i(),y("div",Jt,[d(Q,{size:10,wrap:""},{default:u(()=>[(i(!0),y(me,null,ve(a(k).schedulePsn,(I,G)=>(i(),y("div",{key:`user_${I.userId}_${G}`,class:"users-main-body-main-item"},[e("div",Qt,[e("img",{src:I.avatarUrl,alt:"avatar"},null,8,Gt)]),d(J,{content:I.name},{default:u(()=>[e("div",Bt,s(I.name),1)]),_:2},1032,["content"]),e("div",{class:"users-main-body-main-item-fixed",onClick:de=>$(G)},[e("img",{src:a(mt),alt:"del"},null,8,Wt)],8,Yt)]))),128))]),_:1})])):(i(),y("div",Kt,[e("span",null,s(c.$t("meeting.schedule.form.placeholder.member")),1)]))])]),d(z,{style:{"margin-bottom":"0"},"content-class":"longtime-checkbox longtime-checkbox-voice"},{default:u(()=>[e("div",Xt,[e("span",null,s(c.$t("meeting.schedule.form.voiceTranslation")),1),d(B,{modelValue:t.value.voiceTranslation,"onUpdate:modelValue":g[1]||(g[1]=I=>t.value.voiceTranslation=I),size:"small"},null,8,["modelValue"])]),t.value.voiceTranslation?(i(),y("div",en,[e("div",tn,s(c.$t("meeting.schedule.form.myLanguage")),1),e("div",null,[d(b,{modelValue:t.value.languageType,"onUpdate:modelValue":g[2]||(g[2]=I=>t.value.languageType=I)},{default:u(()=>[(i(!0),y(me,null,ve(N.value,I=>(i(),D(o,{class:"st-img",value:I.value},{default:u(()=>[e("img",{src:I.ctry},null,8,nn),e("span",null,s(I.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])])):x("",!0),t.value.voiceTranslation&&n.value.length>0?(i(),y("div",on,[e("div",sn,s(c.$t("meeting.schedule.form.thesaurus")),1),e("div",null,[d(b,{modelValue:t.value.industryType,"onUpdate:modelValue":g[3]||(g[3]=I=>t.value.industryType=I),options:n.value},null,8,["modelValue","options"])])])):x("",!0)]),_:1}),d(z,{"content-class":"longtime-checkbox","hide-label":""})]),_:1},8,["model"])]),e("div",an,[d(P,{class:"modal-btn-item",onClick:q},{default:u(()=>[ee(s(c.$t("meeting.schedule.form.btn.cancel")),1)]),_:1}),d(P,{class:"modal-btn-item",type:"primary",onClick:M},{default:u(()=>[ee(s(c.$t("meeting.longtime.form.btn.longtime")),1)]),_:1})])])}}});const cn=ne(ln,[["__scopeId","data-v-bc57f777"]]),dn={class:"link-modal-container"},rn=["src"],un={class:"link-m-t borderB"},mn={class:"link-m-m"},vn={class:"link-m-m-m"},pn={class:"link-m-m-mt"},gn={class:"name"},_n={class:"link-m-m-md"},hn={class:"link-m-m-mm"},fn={key:0},bn={key:1},yn={class:"link-m-m-mf"},$n={class:"link-m-m-mb"},Mn={class:"link-m-b"},kn={class:"link-m-b-btn"},Cn=oe({__name:"share",props:{meetingDetail:{}},emits:["handleClose"],setup(j,{emit:m}){const k=m,l=ae(),v=he(),{t:n}=te.exports.useI18n(),V=S({...j.meetingDetail}),t=S(null),L=()=>{k("handleClose")},H=async()=>{const M=await l.getMeetingShareInfo({meetingNo:V.value.meetingNo});if(M.code!==200&&M.code!==401){w.error(M.msg);return}t.value=M.data},T=M=>{if(!M)return"";const c=new Date(M),g=c.getHours(),Z=c.getMinutes();return`${g<10?"0":""}${g}:${Z<10?"0":""}${Z}`},f=M=>{if(!M)return"";const c=new Date(M),g=c.getFullYear(),Z=c.getMonth()+1,z=c.getDate();return`${g}-${Z<10?"0":""}${Z}-${z<10?"0":""}${z}`},{isWujie:p,Copy:q}=He(),C=()=>{const M=(t==null?void 0:t.value.planType)===1||(t==null?void 0:t.value.planType)===0?`${f(t==null?void 0:t.value.startTime)} ${T(t==null?void 0:t.value.startTime)} \uFF5E ${f(t==null?void 0:t.value.endTime)} ${T(t==null?void 0:t.value.endTime)}`:n("meeting.invite.link.modal.text6"),c=`${v.name} ${n("meeting.invite.link.modal.text1")} 
${n("meeting.invite.link.modal.text2")}: ${t.value.subject} 
${n("meeting.invite.link.modal.text5")}: ${M} 
${n("meeting.invite.link.modal.text4")}: ${t.value.meetingNo} 
${n("meeting.invite.link.modal.text3")}: ${t.value.inviteUrl} `;if(p.value){q(c),w.success(n("meeting.invite.link.modal.msg.copy.success"));return}navigator.clipboard.writeText(c).then(()=>{w.success(n("meeting.invite.link.modal.msg.copy.success"))}).catch(g=>{console.log(g),w.error(n("meeting.invite.link.modal.msg.copy.fail"))})},$=()=>{const M=`${t.value.inviteUrl}`;if(p.value){q(M),w.success(n("meeting.invite.link.modal.msg.copy.success"));return}navigator.clipboard.writeText(M).then(()=>{w.success(n("meeting.invite.link.modal.msg.copy.success"))}).catch(c=>{console.log(c),w.error(n("meeting.invite.link.modal.msg.copy.fail"))})};return ce(()=>{H()}),(M,c)=>{var g,Z,z,U,J,Q,B,o,b,A,P,I;return i(),y("div",dn,[e("div",{class:"link-fixed",onClick:L},[e("img",{src:a(xe),alt:""},null,8,rn)]),e("div",un,s(a(n)("meeting.invite.link.modal.title")),1),e("div",mn,[e("div",vn,[e("div",pn,[e("span",gn,s((g=t.value)==null?void 0:g.name),1),e("span",null,s(a(n)("meeting.invite.link.modal.text1")),1)]),e("div",_n,[e("span",null,s(a(n)("meeting.invite.link.modal.text2"))+":",1),e("span",null,s((Z=t.value)==null?void 0:Z.subject),1)]),e("div",hn,[e("span",null,s(a(n)("meeting.invite.link.modal.text5"))+":",1),((z=t.value)==null?void 0:z.planType)===1||((U=t.value)==null?void 0:U.planType)===0?(i(),y("span",fn,s(f((J=t.value)==null?void 0:J.startTime))+" "+s(T((Q=t.value)==null?void 0:Q.startTime))+" "+s((B=t.value)!=null&&B.endTime?"~":"")+" "+s(f((o=t.value)==null?void 0:o.endTime))+" "+s(T((b=t.value)==null?void 0:b.endTime)),1)):x("",!0),((A=t.value)==null?void 0:A.planType)===2?(i(),y("span",bn,s(a(n)("meeting.invite.link.modal.text6")),1)):x("",!0)]),e("div",yn,[e("span",null,s(a(n)("meeting.invite.link.modal.text4"))+":",1),e("span",null,s((P=t.value)==null?void 0:P.meetingNo),1)]),e("div",$n,[e("span",null,s(a(n)("meeting.invite.link.modal.text3"))+":",1),e("span",null,s((I=t.value)==null?void 0:I.inviteUrl),1)])])]),e("div",Mn,[e("div",kn,[e("div",{class:"link-m-b-btn-i btn-border",onClick:C},[e("span",null,s(a(n)("meeting.invite.link.modal.btn.copy.all")),1)]),e("div",{class:"link-m-b-btn-i btn-bg",onClick:$},[e("span",null,s(a(n)("meeting.invite.link.modal.btn.copy.link")),1)])])])])}}});const In=ne(Cn,[["__scopeId","data-v-89b65aaa"]]),Sn={width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function wn(j,m){return i(),y("svg",Sn,m[0]||(m[0]=[e("circle",{cx:"16",cy:"16",r:"15.5",stroke:"#fff"},null,-1),e("g",{fill:"#fff"},[e("path",{d:"M10.258 21.742c.345.344.69.344 1.034 0l10.45-10.45c.344-.345.344-.69 0-1.034-.345-.344-.69-.344-1.034 0l-10.45 10.45c-.344.345-.344.69 0 1.034Z"}),e("path",{d:"M21.742 21.742c.344-.345.344-.69 0-1.034l-10.45-10.45c-.345-.344-.69-.344-1.034 0-.344.345-.344.69 0 1.034l10.45 10.45c.345.344.69.344 1.034 0Z"})],-1)]))}const Tn={render:wn},On={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function xn(j,m){return i(),y("svg",On,m[0]||(m[0]=[Qe('<g fill-rule="evenodd" clip-rule="evenodd" fill="#0267FF"><path d="M5.249 3.938a.73.73 0 1 0 0 1.458.73.73 0 0 0 0-1.458Zm-1.604.729a1.604 1.604 0 1 1 3.208 0 1.604 1.604 0 0 1-3.208 0Z"></path><path d="M1.807 1.806C2.585 1.027 3.75.729 5.25.729h2.334a.438.438 0 0 1 0 .875H5.25c-1.415 0-2.292.286-2.826.82-.534.534-.82 1.411-.82 2.826v3.5c0 1.415.286 2.292.82 2.826.534.534 1.411.82 2.826.82h3.5c1.415 0 2.292-.286 2.826-.82.534-.534.82-1.41.82-2.826V5.834a.438.438 0 0 1 .875 0V8.75c0 1.502-.297 2.667-1.076 3.445-.778.778-1.943 1.076-3.445 1.076h-3.5c-1.501 0-2.666-.298-3.444-1.076C1.028 11.417.73 10.252.73 8.75v-3.5c0-1.501.298-2.666 1.077-3.444Z"></path><path d="M10.5.73c.242 0 .438.195.438.437v2.444l.42-.42a.437.437 0 1 1 .618.619l-1.167 1.166a.438.438 0 0 1-.746-.309v-3.5c0-.242.195-.438.437-.438Z"></path><path d="M9.023 3.19c.17-.17.448-.17.618 0l1.167 1.167a.438.438 0 0 1-.619.619L9.023 3.809a.438.438 0 0 1 0-.618ZM11.599 7.624a.864.864 0 0 0-1.075 0L8.097 9.706a1.738 1.738 0 0 1-2.215 0l-.004-.003-.19-.167c-.262-.223-.709-.25-1.01-.049l-2.875 1.93a.437.437 0 1 1-.488-.726l2.876-1.93c.62-.417 1.502-.375 2.069.113l.003.003.19.167a.864.864 0 0 0 1.074-.001L9.954 6.96a1.738 1.738 0 0 1 2.215 0l.95.817a.438.438 0 1 1-.57.664l-.95-.817Z"></path></g>',1)]))}const Vn={render:xn},Ln="/assist/assets/bg_modal_1.6e7b1e7f.png",Nn="/assist/assets/bg_modal_2.cc6ad44b.png",Hn={class:"qr-code-modal-container"},qn={class:"qr-code-main"},Dn={class:"qr-code-main-top-title"},Zn={class:"qr-code-main-top-desc"},jn={class:"qr-code-main-top-bot"},En={class:"qr-code-main-mid-body"},zn={class:"qr-code-main-bot"},Pn={class:"qr-code-main-bot-desc"},An={class:"qr-code-main-bot-b-l"},Rn={class:"qr-code-main-bot-b-r"},Un=oe({__name:"qr_code",props:{meetingDetail:{}},emits:["handleClose"],setup(j,{emit:m}){const k=S(null),l=m,{t:v}=te.exports.useI18n(),n=S(!0),N=()=>{l("handleClose")},t=S({...j.meetingDetail}),L=()=>{k.value&&qe.toCanvas(t.value.qrCodeStr,{errorCorrectionLevel:"H",width:180,margin:2},(T,f)=>{if(T){console.error(T);return}k.value&&k.value.appendChild(f);const p=f.getContext("2d");if(p){const C=(f.width-30)/2,$=(f.height-30)/2;p.beginPath(),p.moveTo(C+5,$),p.lineTo(C+30-5,$),p.quadraticCurveTo(C+30,$,C+30,$+5),p.lineTo(C+30,$+30-5),p.quadraticCurveTo(C+30,$+30,C+30-5,$+30),p.lineTo(C+5,$+30),p.quadraticCurveTo(C,$+30,C,$+30-5),p.lineTo(C,$+5),p.quadraticCurveTo(C,$,C+5,$),p.closePath(),p.fillStyle="#ffffff",p.fill(),p.strokeStyle="#000000",p.lineWidth=2,p.stroke();const M=new Image;M.src=dt,M.onload=()=>{p.drawImage(M,C+2.5,$+2.5,30-5,30-5)}}})},H=()=>{n.value=!1;const T=document.querySelector(".qr-code-main");T&&rt(T,{backgroundColor:null,useCORS:!0}).then(f=>{const p=document.createElement("a");p.href=f.toDataURL("image/png"),p.download=`${t.value.meetingNo}.png`,p.click(),n.value=!0}).catch(()=>{n.value=!0})};return ce(()=>{L()}),fe(()=>{t.value=null}),(T,f)=>(i(),y("div",Hn,[e("div",{class:"qr-code-fixed",onClick:N},[d(a(Tn))]),e("div",qn,[e("div",{class:"qr-code-main-top",style:Me({backgroundImage:`url(${a(Ln)})`})},[e("div",Dn,[e("span",null,s(t.value.subject),1)]),e("div",Zn,[e("span",null,s(a(v)("meeting.qr.code.modal.desc")),1)]),e("div",jn,[e("span",null,s(a(Oe)(t.value.meetingNo)),1)])],4),e("div",{class:"qr-code-main-mid",style:Me({backgroundImage:`url(${a(Nn)})`})},[e("div",En,[e("div",{ref_key:"qrCodeContainer",ref:k,class:"qr-code-container"},null,512)])],4)]),e("div",zn,[e("div",Pn,[e("span",null,s(a(v)("meeting.qr.code.modal.desc1")),1)]),e("div",{class:"qr-code-main-bot-b",onClick:H},[e("div",An,[d(a(Vn))]),e("div",Rn,[e("span",null,s(a(v)("meeting.qr.code.modal.desc2")),1)])])])]))}});const Fn=ne(Un,[["__scopeId","data-v-16b5d05d"]]),Jn={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Qn(j,m){return i(),y("svg",Jn,m[0]||(m[0]=[e("path",{d:"M25.556 4.686 11.26 9.436c-9.61 3.215-9.61 8.456 0 11.654l4.243 1.409 1.41 4.243c3.198 9.611 8.454 9.611 11.653 0l4.766-14.281c2.121-6.413-1.362-9.912-7.775-7.775Zm.507 8.519-6.017 6.048a1.174 1.174 0 0 1-.839.349c-.3 0-.601-.111-.839-.349-.46-.459-.46-1.219 0-1.678l6.017-6.048c.459-.46 1.219-.46 1.678 0 .46.459.46 1.219 0 1.678Z",fill:"#0267FF"},null,-1)]))}const Gn={render:Qn},Bn={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Yn(j,m){return i(),y("svg",Bn,m[0]||(m[0]=[e("g",{fill:"#0267FF"},[e("path",{d:"M26.522 5.637v-2.47c0-.65-.538-1.188-1.188-1.188-.649 0-1.187.539-1.187 1.188v2.375H13.855V3.167c0-.65-.538-1.188-1.187-1.188-.65 0-1.188.539-1.188 1.188v2.47c-4.275.396-6.349 2.945-6.666 6.73-.031.458.349.838.792.838h26.79c.46 0 .84-.396.792-.839-.317-3.784-2.391-6.333-6.666-6.729ZM31.667 15.58H6.333c-.87 0-1.583.713-1.583 1.583v9.754c0 4.75 2.375 7.916 7.917 7.916h7.806a1.58 1.58 0 0 0 1.504-2.09c-.317-.918-.586-1.931-.586-2.66 0-4.797 3.91-8.708 8.708-8.708.46 0 .918.032 1.362.11a1.576 1.576 0 0 0 1.805-1.55v-2.756c-.016-.886-.728-1.599-1.6-1.599ZM14.582 28.04a1.829 1.829 0 0 1-.522.333c-.19.08-.396.127-.602.127-.206 0-.411-.047-.601-.127-.19-.079-.364-.19-.523-.332-.285-.3-.459-.713-.459-1.124 0-.095.016-.206.032-.301a.954.954 0 0 1 .095-.3c.031-.096.079-.19.142-.286.048-.08.127-.158.19-.237.159-.143.333-.254.523-.333.38-.158.823-.158 1.203 0 .19.08.364.19.522.333.064.079.143.158.19.237.064.095.111.19.143.285.048.095.08.19.095.3.016.096.032.207.032.302 0 .411-.175.823-.46 1.124Zm0-5.54a1.826 1.826 0 0 1-.522.332c-.19.079-.396.126-.602.126-.206 0-.411-.047-.601-.126a1.632 1.632 0 0 1-.523-.333c-.285-.3-.459-.712-.459-1.124 0-.412.174-.823.46-1.124.157-.143.332-.253.522-.333.38-.158.823-.158 1.203 0 .19.08.364.19.522.333.064.08.143.158.19.237.064.095.111.19.143.285.048.095.08.19.095.285.016.111.032.222.032.317 0 .412-.175.823-.46 1.124Zm5.542 0c-.3.284-.697.458-1.124.458-.206 0-.412-.047-.602-.126a1.634 1.634 0 0 1-.522-.333c-.285-.3-.46-.712-.46-1.124 0-.095.017-.206.032-.317.016-.095.048-.19.095-.285.032-.095.08-.19.143-.285l.19-.237c.586-.586 1.646-.586 2.248 0l.19.237c.064.095.111.19.143.285.047.095.079.19.095.285.015.111.031.222.031.317 0 .412-.174.823-.459 1.124Z"}),e("path",{d:"M34.564 25.602a6.345 6.345 0 0 0-8.962 0 6.345 6.345 0 0 0 0 8.962 6.345 6.345 0 0 0 8.962 0 6.345 6.345 0 0 0 0-8.962Zm-1.203 5.368a1.133 1.133 0 0 1-.84.348H31.35v1.235c0 .333-.127.618-.348.84a1.16 1.16 0 0 1-.84.348c-.649 0-1.187-.538-1.187-1.188v-1.235h-1.188c-.649 0-1.187-.522-1.187-1.187 0-.65.538-1.188 1.188-1.188h1.187V27.82c0-.649.522-1.187 1.188-1.187.649 0 1.187.538 1.187 1.187v1.124h1.172c.665 0 1.187.539 1.187 1.188 0 .332-.127.633-.348.839Z"})],-1)]))}const Wn={render:Yn},Kn={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Xn(j,m){return i(),y("svg",Kn,m[0]||(m[0]=[e("path",{d:"M32.648 13.775C31 6.445 24.604 3.167 18.999 3.167h-.015c-5.59 0-11.97 3.277-13.633 10.592-1.868 8.17 3.135 15.09 7.663 19.46A8.606 8.606 0 0 0 19 35.64a8.542 8.542 0 0 0 5.97-2.422c4.528-4.37 9.531-11.274 7.679-19.444Zm-8.455 1.314-6.334 6.334a1.175 1.175 0 0 1-.839.348c-.3 0-.601-.11-.839-.348l-2.375-2.375c-.46-.46-.46-1.22 0-1.678.46-.46 1.22-.46 1.678 0l1.536 1.535 5.494-5.494c.46-.459 1.22-.459 1.679 0 .459.46.459 1.22 0 1.678Z",fill:"#FF6C02"},null,-1)]))}const eo={render:Xn},to={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function no(j,m){return i(),y("svg",to,m[0]||(m[0]=[e("path",{d:"M25.636 3.167H12.367c-5.763 0-9.199 3.436-9.199 9.2v13.252c0 5.779 3.436 9.215 9.2 9.215H25.62c5.763 0 9.199-3.436 9.199-9.2V12.366c.016-5.763-3.42-9.199-9.184-9.199Zm-.301 17.02h-5.146v5.147c0 .649-.538 1.187-1.188 1.187-.649 0-1.187-.538-1.187-1.187v-5.146h-5.146c-.65 0-1.188-.538-1.188-1.188 0-.649.539-1.187 1.188-1.187h5.146v-5.146c0-.65.538-1.188 1.187-1.188.65 0 1.188.539 1.188 1.188v5.146h5.146c.649 0 1.187.538 1.187 1.187 0 .65-.538 1.188-1.187 1.188Z",fill:"#0267FF"},null,-1)]))}const oo={render:no},so={class:"menu-panel-top"},ao={class:"menu-panel-content"},lo={class:"grid-meeting-type-item-b"},io={class:"grid-meeting-type-item-b-top icon1"},co={class:"grid-meeting-type-item-b-bot"},ro={class:"grid-meeting-type-item-b"},uo={class:"grid-meeting-type-item-b-top icon2"},mo={class:"grid-meeting-type-item-b-bot"},vo={class:"grid-meeting-type-item-b"},po={class:"grid-meeting-type-item-b-top icon3"},go={class:"grid-meeting-type-item-b-bot"},_o={class:"grid-meeting-type-item-b"},ho={class:"grid-meeting-type-item-b-top icon4"},fo={class:"grid-meeting-type-item-b-bot"},bo=oe({__name:"menu",emits:["handleQuickMeetingOpen","handleScheduleOpen","handleLongtimeOpen","handleJoinMeetingOpen"],setup(j,{emit:m}){const k=ae(),{t:l}=te.exports.useI18n(),v=m,N=Te(()=>{if(k.answerInfo&&k.answerInfo.meetingNo){w.error(l("meeting.call.message.tips"));return}v("handleQuickMeetingOpen")},1e3),V=()=>{v("handleScheduleOpen")},t=()=>{v("handleLongtimeOpen")},L=()=>{if(k.answerInfo&&k.answerInfo.meetingNo){w.error(l("meeting.call.message.tips"));return}v("handleJoinMeetingOpen")};return(H,T)=>{const f=we,p=Ge,q=Be;return i(),D(f,{class:"general-card menu-panel",bordered:!1,"body-style":{height:"100%",display:"flex",padding:0,flexFlow:"column"}},{default:u(()=>[e("div",so,[e("span",null,s(H.$t("meeting.menu.title")),1)]),e("div",ao,[d(q,{class:"grid-meeting-type",gutter:[16,16]},{default:u(()=>[d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(f,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:a(N)},{default:u(()=>[e("div",lo,[e("div",io,[d(a(Gn))]),e("div",co,[e("span",null,s(H.$t("meeting.menu.kshy")),1)])])]),_:1},8,["onClick"])]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(f,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:V},{default:u(()=>[e("div",ro,[e("div",uo,[d(a(Wn))]),e("div",mo,[e("span",null,s(H.$t("meeting.menu.yyhy")),1)])])]),_:1})]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(f,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:t},{default:u(()=>[e("div",vo,[e("div",po,[d(a(eo))]),e("div",go,[e("span",null,s(H.$t("meeting.menu.cqhy")),1)])])]),_:1})]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(f,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:L},{default:u(()=>[e("div",_o,[e("div",ho,[d(a(oo))]),e("div",fo,[e("span",null,s(H.$t("meeting.menu.jrhy")),1)])])]),_:1})]),_:1})]),_:1})])]),_:1})}}});const yo=ne(bo,[["__scopeId","data-v-25711f67"]]),$o={width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Mo(j,m){return i(),y("svg",$o,m[0]||(m[0]=[e("g",{fill:"#FF6C02"},[e("path",{d:"M24.464 12.098v3.722a4.9 4.9 0 0 1-4.9 4.9H15.41c-.641 0-1.166.513-1.166 1.167v.956a1.17 1.17 0 0 0 1.166 1.167h2.637c.455 0 .828.362.828.828a.832.832 0 0 1-.828.829H8.784a.832.832 0 0 1-.829-.829c0-.466.374-.828.829-.828h2.636a1.17 1.17 0 0 0 1.167-1.167v-.956c0-.654-.525-1.167-1.167-1.167h-4.2a4.897 4.897 0 0 1-4.888-4.9V8.388A4.894 4.894 0 0 1 7.22 3.5h5.029a1.17 1.17 0 0 1 1.166 1.167v2.508c0 2.252 1.505 3.757 3.745 3.757h6.137a1.17 1.17 0 0 1 1.167 1.166Z"}),e("path",{d:"m25.656 2.753-1.318.922v-.49a1.994 1.994 0 0 0-1.995-1.995H17.35a2.168 2.168 0 0 0-2.182 2.17v3.826c0 1.004.502 1.995 1.995 1.995h5.168a1.994 1.994 0 0 0 1.995-1.995v-.501l1.319.921c.665.455 1.19.175 1.19-.618V3.37c0-.793-.525-1.061-1.179-.618Z"})],-1)]))}const ko={render:Mo},Co="/assist/assets/no_meeting.568a47cc.png",Io={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function So(j,m){return i(),y("svg",Io,m[0]||(m[0]=[e("g",{"clip-rule":"evenodd"},[e("path",{class:"svg-fill",d:"M14.488 1.513a.5.5 0 0 1 0 .707L9.022 7.686a.5.5 0 1 1-.708-.707l5.467-5.466a.5.5 0 0 1 .707 0Z"}),e("path",{class:"svg-fill",d:"M10.965 1.333a.5.5 0 0 1 .5-.5h3.2a.5.5 0 0 1 .5.5v3.2a.5.5 0 1 1-1 0v-2.7h-2.7a.5.5 0 0 1-.5-.5ZM2.062 2.063c.89-.89 2.22-1.23 3.937-1.23h1.333a.5.5 0 0 1 0 1H5.999c-1.618 0-2.62.327-3.23.937-.61.61-.937 1.612-.937 3.23v4c0 1.617.327 2.62.937 3.23.61.61 1.612.936 3.23.936h4c1.617 0 2.62-.326 3.23-.937.61-.61.936-1.612.936-3.23V8.667a.5.5 0 1 1 1 0V10c0 1.716-.34 3.047-1.23 3.937-.89.89-2.22 1.23-3.936 1.23h-4c-1.716 0-3.048-.34-3.937-1.23-.89-.89-1.23-2.221-1.23-3.937V6c0-1.716.34-3.048 1.23-3.937Z"})],-1)]))}const wo={render:So},To={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Oo(j,m){return i(),y("svg",To,m[0]||(m[0]=[e("g",{fill:"#32466A"},[e("path",{d:"M5.57 2.167a.68.68 0 0 1 .68.68V5.57a.68.68 0 0 1-.68.681H2.847a.68.68 0 0 1-.68-.68V2.847a.68.68 0 0 1 .68-.68H5.57ZM5.57 1H2.847A1.85 1.85 0 0 0 1 2.847V5.57a1.85 1.85 0 0 0 1.847 1.848H5.57A1.85 1.85 0 0 0 7.417 5.57V2.847A1.85 1.85 0 0 0 5.57 1Zm7.583 1.167a.68.68 0 0 1 .68.68V5.57a.68.68 0 0 1-.68.681H10.43a.68.68 0 0 1-.681-.68V2.847a.68.68 0 0 1 .68-.68h2.723Zm0-1.167H10.43a1.85 1.85 0 0 0-1.848 1.847V5.57a1.85 1.85 0 0 0 1.848 1.848h2.722A1.85 1.85 0 0 0 15 5.57V2.847A1.85 1.85 0 0 0 13.153 1ZM5.57 9.75a.68.68 0 0 1 .68.68v2.723a.68.68 0 0 1-.68.68H2.847a.68.68 0 0 1-.68-.68V10.43a.68.68 0 0 1 .68-.681H5.57Zm0-1.167H2.847A1.85 1.85 0 0 0 1 10.431v2.722A1.85 1.85 0 0 0 2.847 15H5.57a1.85 1.85 0 0 0 1.848-1.847V10.43A1.85 1.85 0 0 0 5.57 8.583Z"}),e("path",{d:"M3.625 4.208a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM3.625 11.791a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM11.207 4.208a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM13.832 14.416a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM11.5 14.416a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0Z"}),e("path",{d:"M14.415 8.583a.583.583 0 0 0-.583.583V11.5h-1.167V9.166a.583.583 0 0 0-.583-.583H9.165a.583.583 0 0 0-.583.583v5.25a.583.583 0 1 0 1.167 0V9.75h1.75v2.333a.583.583 0 0 0 .583.583h2.333a.583.583 0 0 0 .584-.583V9.166a.583.583 0 0 0-.584-.583Z"})],-1)]))}const xo={render:Oo},Vo={key:0,class:"list-panel"},Lo={class:"list-panel-top"},No={class:"list-panel-main wsl-scroll"},Ho={class:"list-panel-main-item-top"},qo={class:"list-panel-main-item-content"},Do=["onMouseenter"],Zo={class:"list-panel-main-item-content-item-left"},jo={class:"list-panel-main-item-content-item-right-left"},Eo={class:"list-panel-main-item-content-item-right-left-top textEllipsis"},zo={class:"list-panel-main-item-content-item-right-left-bot"},Po={class:"list-panel-main-item-content-item-right-left-bot-i"},Ao=["src"],Ro={class:"list-panel-main-item-content-item-right-left-bot-i"},Uo={class:"list-panel-main-item-content-item-right-left-bot-i"},Fo={key:0,class:"list-panel-main-item-content-item-right-right"},Jo={class:"btn-del"},Qo={key:1,class:"no-data"},Go={class:"no-data-body"},Bo=["src"],Yo={class:"no-data-body-text"},Wo=oe({__name:"list",emits:["openLinkShare","openQrCode","handleJoinMeetingOpen","handleScheduleOpen"],setup(j,{expose:m,emit:k}){const l=k,{t:v}=te.exports.useI18n(),n=ae(),N=S([]),V=he(),t=S(!0),L=S({planId:""}),H=o=>{const b=ge(),A=ge(o),P=A.format("YYYY-MM-DD");return A.isSame(b,"day")?`${v("today")}`:P},T=o=>ge(o).format("YYYY-MM-DD HH:mm"),f=o=>v(o===1?"meeting.list.long.status.jxz":"meeting.list.long.status.dks"),p=o=>o===1?"jxz":o===0?"dks":"",q=async()=>{const o=await n.getMeetingGroupList();if(o.code!==200&&o.code!==401){w.error(o.msg);return}N.value=o.data},C=async o=>{const b=await n.delMeetingPlan({planId:o.planId});b.code!==200&&b.code!==401?w.error(b.msg):w.success(v("meeting.list.long.delete")),q()},$=async o=>{const b=await n.delMeetingPlan({planId:o.planId});b.code!==200&&b.code!==401?w.error(b.msg):w.success(v("meeting.list.long.cancel")),q()},M=async o=>{const b=await n.overMeetingPlan({planId:o.planId});if(b.code!==200&&b.code!==401){w.error(b.msg),q();return}w.success(v("meeting.list.long.cancel")),q()},c=async o=>{const b=await n.getMeetingDetail(o);if(b.code!==200&&b.code!==401){w.error(b.msg);return}l("handleScheduleOpen",b.data)},g=o=>{o.command===1?$(o.data):o.command===2?M(o.data):o.command===3?c(o.data):o.command===4&&C(o.data)},Z=o=>{t.value&&(L.value=o)},z=()=>{t.value&&(L.value="")},U=o=>{t.value=!o,o||z()},J=o=>{if(n.answerInfo&&n.answerInfo.meetingNo){w.error(v("meeting.call.message.tips"));return}l("handleJoinMeetingOpen",o)},Q=o=>{l("openLinkShare",o)},B=o=>{l("openQrCode",o)};return ce(()=>{q()}),m({handleGetMeetingList:q}),(o,b)=>{const A=Ce,P=Se,I=De,G=We,de=Ke,Y=Ie,W=we;return N.value.length>0?(i(),y("div",Vo,[e("div",Lo,[e("span",null,s(o.$t("meeting.list.title")),1)]),e("div",No,[(i(!0),y(me,null,ve(N.value,(R,pe)=>(i(),y("div",{key:`meeting_${pe}`,class:se(["list-panel-main-item",R.timestamp===0?"long":""])},[e("div",Ho,[e("span",null,s(R.timestamp===0?o.$t("meeting.list.long.title"):H(R.timestamp)),1)]),e("div",qo,[d(W,{class:se(R.timestamp===0?"long-card":""),bordered:!1,"body-style":{padding:"5px"}},{default:u(()=>[(i(!0),y(me,null,ve(R.meetings,(_,re)=>(i(),y("div",{key:`meeting_item_${re}`,class:se(["list-panel-main-item-content-item",L.value.planId===_.planId?"active":""]),onMouseenter:le=>Z(_),onMouseleave:z},[e("div",Zo,[R.timestamp!==0?(i(),D(a(gt),{key:0})):(i(),D(a(ko),{key:1}))]),e("div",{class:se(["list-panel-main-item-content-item-right",re<R.meetings.length-1?"borderB":""])},[e("div",jo,[d(A,{content:_.subject},{default:u(()=>[e("div",Eo,s(_.subject),1)]),_:2},1032,["content"]),e("div",zo,[e("div",Po,[e("span",null,s(o.$t("meeting.list.long.zzz"))+":",1),e("img",{src:_.masterAvatarUrl,alt:""},null,8,Ao),e("span",null,s(_.masterName),1)]),e("div",Ro,[e("span",null,s(o.$t("meeting.list.long.time"))+":",1),e("span",null,s(T(_.startTime))+" "+s(R.timestamp!==0?`- ${T(_.endTime)}`:""),1)]),e("div",Uo,[e("span",null,s(o.$t("meeting.list.long.hyh"))+":",1),e("span",null,s(a(Oe)(_.meetingNo)),1)]),R.timestamp!==0?(i(),y("div",{key:0,class:se(["list-panel-main-item-content-item-right-left-bot-s",p(_.planStatus)])},[e("span",null,s(f(_.planStatus)),1)],2)):x("",!0)])]),L.value.planId===_.planId?(i(),y("div",Fo,[d(Y,null,{default:u(()=>[d(P,{type:"primary",onClick:le=>J(_)},{default:u(()=>[ee(s(o.$t("meeting.list.long.rh")),1)]),_:2},1032,["onClick"]),d(P,{onClick:le=>Q(_)},{icon:u(()=>[d(a(wo),{class:"share-icon"})]),_:2},1032,["onClick"]),d(P,{onClick:le=>B(_)},{icon:u(()=>[d(a(xo),{class:"qrCode-icon"},{default:u(()=>b[0]||(b[0]=[ee(">")])),_:1,__:[0]})]),_:2},1032,["onClick"]),_.masterId===a(V).userId?(i(),D(de,{key:0,trigger:"click",onSelect:g,onPopupVisibleChange:U},Ye({default:u(()=>[d(P,null,{icon:u(()=>[d(I)]),_:1})]),_:2},[R.timestamp!==0?{name:"content",fn:u(()=>[_.masterId===a(V).userId&&_.planStatus===0?(i(),D(G,{key:0,value:{command:3,data:_}},{default:u(()=>[ee(s(o.$t("meeting.list.long.xg")),1)]),_:2},1032,["value"])):x("",!0),_.masterId===a(V).userId&&_.planStatus===0?(i(),D(G,{key:1,value:{command:1,data:_}},{default:u(()=>[ee(s(o.$t("meeting.list.long.qxhy")),1)]),_:2},1032,["value"])):x("",!0),_.masterId===a(V).userId&&_.planStatus===1?(i(),D(G,{key:2,value:{command:2,data:_}},{default:u(()=>[ee(s(o.$t("meeting.list.long.jshy")),1)]),_:2},1032,["value"])):x("",!0)]),key:"0"}:{name:"content",fn:u(()=>[_.masterId===a(V).userId?(i(),D(G,{key:0,value:{command:4,data:_}},{default:u(()=>[e("span",Jo,s(o.$t("meeting.list.long.del")),1)]),_:2},1032,["value"])):x("",!0)]),key:"1"}]),1024)):x("",!0)]),_:2},1024)])):x("",!0)],2)],42,Do))),128))]),_:2},1032,["class"])])],2))),128))])])):(i(),y("div",Qo,[e("div",Go,[e("img",{src:a(Co),alt:""},null,8,Bo),e("div",Yo,s(o.$t("meeting.no.data.text")),1)])]))}}});const Ko=ne(Wo,[["__scopeId","data-v-04da3b64"]]),Xo={class:"container"},es={class:"layout"},ts={class:"layout-left-side"},ns={class:"layout-content"},os=oe({__name:"index",setup(j){const{t:m,locale:k}=te.exports.useI18n(),l=ae(),v=Ze(),n=je(),N=he(),V=Ee(),t=S(!1),L=S(!1),H=S(!1),T=S(),f=S(!1),p=()=>{l.updateRoomOptions(null),l.updateRoomInvitePsn(null),f.value=!1},q=()=>{f.value=!0,console.log("handleOptionCallOpen",f.value),l.updateRoomInvitePsn(null);const r=k.value==="en-US"?`${m("meeting.room.option.meetingName")} Of ${N.name}`:`${N.name} ${m("meeting.room.option.meetingName")}`;l.updateRoomOptions({meetingName:r,video:!1,audio:!0,loudspeaker:!0,cloudRecord:!1,escaping:!1,abstract:!1,organizer:N.name})},C=async r=>{var h,E,O,K;try{const F=await l.ThImEvent.joinMeeting({meetingNo:r.meetingNo,forceEntryStatus:0,inviters:l.roomInvitePsn?_e(l.roomInvitePsn,"userId"):[]});if(v.updateRoomTranslateInfo({...v.roomTranslateInfo,...F.data,open:!!((h=F.data)!=null&&h.enableTranslation)}),V.updateBtnLoading(!1),F.code!==200&&F.code!==401){w.error(F.msg);return}l.ThImEvent.roomMenuOptions={video:(E=l.roomOptions)==null?void 0:E.video,audio:(O=l.roomOptions)==null?void 0:O.audio,loudspeaker:(K=l.roomOptions)==null?void 0:K.loudspeaker},l.ThImEvent.setRoomOnlineListPsn(n.memberList),l.ThImEvent.setRoomOnlineGroupPsn(n.memberGroupList),p(),l.updateAssistVisible(!0)}catch{V.updateBtnLoading(!1)}},$=async()=>{var r,h,E,O,K,F,ie;try{const X=await l.createRealtimeMeeting({aiStatus:(r=l.roomOptions)!=null&&r.abstract?"1":"0",recordStatus:(h=l.roomOptions)!=null&&h.cloudRecord?"1":"0",escaping:(E=l.roomOptions)!=null&&E.escaping?"1":"0",subject:(O=l.roomOptions)==null?void 0:O.meetingName,userIds:l.roomInvitePsn?_e(l.roomInvitePsn,"userId"):[],enableTranslation:(K=l.roomOptions)!=null&&K.escaping?"1":"0",languageType:(F=v.roomTranslateInfo)==null?void 0:F.languageType,industryType:(ie=v.roomTranslateInfo)==null?void 0:ie.industryType});if(X.code!==200&&X.code!==401){w.error(X.msg),V.updateBtnLoading(!1);return}C(X.data)}catch{V.updateBtnLoading(!1)}},M=()=>{l.updateRoomOptions({video:!1,audio:!0,loudspeaker:!0}),t.value=!0},c=()=>{t.value=!1},g=r=>{l.updateRoomOptions({meetingName:r==null?void 0:r.subject,meetingNo:r==null?void 0:r.meetingNo,cloudRecord:(r==null?void 0:r.recordStatus)===1,abstract:(r==null?void 0:r.aiStatus)===1,escaping:(r==null?void 0:r.escaping)===1,organizer:r==null?void 0:r.masterName,video:!1,audio:!0,loudspeaker:!0}),L.value=!0},Z=()=>{L.value=!1},z=async r=>{var E,O,K,F,ie,X,be;const h=await l.ThImEvent.joinMeeting({meetingNo:r.meetingNo,forceEntryStatus:0,inviters:[]});if(h.code!==200&&h.code!==401){h.code===ye.OTHER_CLIENT_JOINED_MEETING||h.code===ye.OTHER_CLIENT_IN_MEETING?(l.updateForceEntryMeetingInfo({meetingNo:r.meetingNo,invitor:[]}),v.updateRoomTranslateInfo({...v.roomTranslateInfo,...h.data,open:!!((E=h.data)!=null&&E.enableTranslation)}),ue.emit("Chat-Other-Client-Joined-Meeting"),Z()):w.error(h.msg);return}v.updateRoomTranslateInfo({...v.roomTranslateInfo,languageType:(O=h.data)==null?void 0:O.languageType,industryType:(K=h.data)==null?void 0:K.industryType,...h.data,open:!!((F=h.data)!=null&&F.enableTranslation)}),l.ThImEvent.roomMenuOptions={video:(ie=l.roomOptions)==null?void 0:ie.video,audio:(X=l.roomOptions)==null?void 0:X.audio,loudspeaker:(be=l.roomOptions)==null?void 0:be.loudspeaker},l.ThImEvent.setRoomOnlineListPsn(n.memberList),l.ThImEvent.setRoomOnlineGroupPsn(n.memberGroupList),L.value&&Z(),t.value&&c(),l.updateAssistVisible(!0)},U=async()=>{var r;await it(1e3*.3),(r=T.value)==null||r.handleGetMeetingList()},J=S(null),Q=r=>{H.value=!0,r?J.value=r:J.value=null},B=()=>{H.value=!1,T.value&&T.value.handleGetMeetingList()},o=S(!1),b=()=>{o.value=!0},A=()=>{o.value=!1},P=r=>{A(),l.updateSchedulePsn(r)},I=S(!1),G=()=>{I.value=!0},de=()=>{I.value=!1,U()},Y=S(),W=S(!1),R=()=>{Y.value=null,W.value=!1},pe=r=>{console.log("handleLinkShareModalOpen",r),Y.value=r,W.value=!0},_=S(!1),re=()=>{Y.value=null,_.value=!1},le=r=>{console.log("handleQrCodeModalOpen",r),Y.value=r,_.value=!0},Ve=()=>{ue.on("meeting-list-update",U)},Le=()=>{ue.off("meeting-list-update",U)};return fe(()=>{Le()}),ce(()=>{Ve()}),(r,h)=>{const E=Xe;return i(),y("div",Xo,[e("div",es,[e("div",ts,[d(yo,{onHandleQuickMeetingOpen:q,onHandleScheduleOpen:Q,onHandleLongtimeOpen:G,onHandleJoinMeetingOpen:M})]),e("div",ns,[d(Ko,{ref_key:"meetingListRef",ref:T,onOpenLinkShare:pe,onOpenQrCode:le,onHandleJoinMeetingOpen:g,onHandleScheduleOpen:Q},null,512)])]),f.value?(i(),D(E,{key:0,visible:f.value,"onUpdate:visible":h[0]||(h[0]=O=>f.value=O),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(ct,{onHandleCall:$,onHandleClose:p})]),_:1},8,["visible"])):x("",!0),H.value?(i(),D(E,{key:1,visible:H.value,"onUpdate:visible":h[1]||(h[1]=O=>H.value=O),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(vt,{"meeting-detail":J.value,onHandleClose:B,onHandleInviteOpen:b},null,8,["meeting-detail"])]),_:1},8,["visible"])):x("",!0),t.value?(i(),D(E,{key:2,visible:t.value,"onUpdate:visible":h[2]||(h[2]=O=>t.value=O),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[t.value?(i(),D(qt,{key:0,onHandleClose:c,onHandleJoinMeeting:z})):x("",!0)]),_:1},8,["visible"])):x("",!0),L.value?(i(),D(E,{key:3,visible:L.value,"onUpdate:visible":h[3]||(h[3]=O=>L.value=O),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[L.value?(i(),D(ut,{key:0,onHandleClose:Z,onHandleJoinMeeting:z})):x("",!0)]),_:1},8,["visible"])):x("",!0),I.value?(i(),D(E,{key:4,visible:I.value,"onUpdate:visible":h[4]||(h[4]=O=>I.value=O),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(cn,{onHandleClose:de,onHandleInviteOpen:b})]),_:1},8,["visible"])):x("",!0),o.value?(i(),D(E,{key:5,visible:o.value,"onUpdate:visible":h[5]||(h[5]=O=>o.value=O),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(pt,{"select-psn":a(l).schedulePsn,onHandleClose:A,onHandleInvite:P},null,8,["select-psn"])]),_:1},8,["visible"])):x("",!0),W.value?(i(),D(E,{key:6,visible:W.value,"onUpdate:visible":h[6]||(h[6]=O=>W.value=O),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[W.value?(i(),D(In,{key:0,"meeting-detail":Y.value,onHandleClose:R},null,8,["meeting-detail"])):x("",!0)]),_:1},8,["visible"])):x("",!0),_.value?(i(),D(E,{key:7,visible:_.value,"onUpdate:visible":h[7]||(h[7]=O=>_.value=O),footer:!1,closable:!1,class:"customModal qrCodeModal"},{default:u(()=>[_.value?(i(),D(Fn,{key:0,"meeting-detail":Y.value,onHandleClose:re},null,8,["meeting-detail"])):x("",!0)]),_:1},8,["visible"])):x("",!0)])}}});const _s=ne(os,[["__scopeId","data-v-dc7e7e67"]]);export{_s as default};
