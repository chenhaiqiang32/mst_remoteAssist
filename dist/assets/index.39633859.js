import{ad as D,ab as F,d as O,v as j,E as $,_ as H}from"./index.fad97de8.js";import{d as R,c as S,j as y,a as q,C as u,D as v,E as e,u as a,aN as n,aI as p,aH as _,aK as J,aJ as K,aE as W,aF as T,aW as L,b9 as X,ba as G,bb as P,aX as Q,a$ as Y,b0 as Z}from"./arco.638965b6.js";import{d as ee,e as oe,m as se,j as ae,v as te,k as ne,l as ie,n as le}from"./icon_volume_1.148c46df.js";const ce=r=>(Y("data-v-8285d906"),r=r(),Z(),r),de={class:"room-options-container"},ue=["src"],re={class:"room-options-header"},me={class:"room-options-h-t"},ve={class:"room-options-h-n textEllipsis"},pe={class:"room-options-h-b"},_e={class:"label"},ge={class:"value"},he={class:"room-options-main"},fe={class:"room-options-m-it"},ye=["src"],be={class:"room-options-m-ib text-ellipsis"},Ce={class:"room-options-m-it"},ke=["src"],Ie={class:"room-options-m-ib text-ellipsis"},xe={class:"room-options-m-it"},Se=["src"],Te={class:"room-options-m-ib text-ellipsis"},Le=ce(()=>e("div",{class:"room-options-b"},[e("div",{class:"room-options-bm"}),e("div",{class:"room-options-bm"})],-1)),Me={class:"schedule-checkbox schedule-checkbox-voice"},Ve={key:0,class:"ax"},we={class:"label"},Ee=["src"],Ne={key:1,class:"ax"},Ae={class:"label"},ze={class:"room-options-f"},Be=R({__name:"send",emits:["handleClose","handleCall"],setup(r,{emit:M}){const V=D(),m=F(),g=O(),b=M,{t:i,locale:C}=j.exports.useI18n(),k=S(()=>{var t;return(t=m.industryList)==null?void 0:t.map(s=>({label:C.value==="zh-CN"?s.value:s.english,value:s.label}))}),I=S(()=>{var t;return(t=m.languageList)==null?void 0:t.map(s=>({...s,label:C.value==="zh-CN"?s.value:s.english,value:s.label,ctry:s.flagUrl}))}),l=y({languageType:"cn",industryType:"default"});q(()=>{var s;((s=I.value)==null?void 0:s.some(f=>f.type==="aliyun"))&&(l.value.languageType="zh")});const o=y({...m.roomOptions,...l.value}),d=y(null),h=()=>{d.value&&(d.value.getTracks().forEach(t=>t.stop()),d.value=null)},w=async()=>{o.value.audio=!o.value.audio;try{o.value.audio&&(d.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})),h()}catch{o.value.audio=!1,L.error(i("meeting.modal.option.devices.audio"))}},E=async()=>{o.value.video=!o.value.video;try{o.value.video&&(d.value=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})),h()}catch{o.value.video=!1,L.error(i("meeting.modal.option.devices.video"))}},N=()=>{o.value.loudspeaker=!o.value.loudspeaker},A=()=>{h(),b("handleClose")},z=ee(async()=>{$.emit("meeting-notification-close"),!g.btnLoading&&(g.updateBtnLoading(!0),m.updateRoomOptions(o.value),V.updateRoomTranslateInfo({...o.value,...l.value,open:o.value.escaping}),b("handleCall"))},1e3);return(t,s)=>{const f=X,B=G,x=P,U=Q;return u(),v("div",de,[e("div",{class:"room-fixed",onClick:A},[e("img",{src:a(oe),alt:""},null,8,ue)]),e("div",re,[e("div",me,[e("span",null,n(a(i)("meeting.room.option.meeting.name")),1)]),p(f,{content:o.value.meetingName},{default:_(()=>[e("div",ve,n(o.value.meetingName),1)]),_:1},8,["content"]),e("div",pe,[e("span",_e,n(a(i)("meeting.room.option.meeting.organizer"))+"\uFF1A",1),e("span",ge,n(o.value.organizer),1)])]),e("div",he,[e("div",{class:"room-options-m-i",onClick:w},[e("div",fe,[e("img",{src:o.value.audio?a(se):a(ae),alt:""},null,8,ye)]),e("div",be,n(a(i)("meeting.menu.mkf")),1)]),e("div",{class:"room-options-m-i",onClick:E},[e("div",Ce,[e("img",{src:o.value.video?a(te):a(ne),alt:""},null,8,ke)]),e("div",Ie,n(a(i)("meeting.menu.sxt")),1)]),e("div",{class:"room-options-m-i",onClick:N},[e("div",xe,[e("img",{src:o.value.loudspeaker?a(ie):a(le),alt:""},null,8,Se)]),e("div",Te,n(a(i)("meeting.menu.ysq")),1)])]),Le,e("div",Me,[o.value.escaping?(u(),v("div",Ve,[e("div",we,n(t.$t("meeting.schedule.form.myLanguage")),1),e("div",null,[p(x,{modelValue:l.value.languageType,"onUpdate:modelValue":s[0]||(s[0]=c=>l.value.languageType=c),"allow-search":""},{default:_(()=>[(u(!0),v(J,null,K(I.value,c=>(u(),W(B,{class:"st-img",value:c.value},{default:_(()=>[e("img",{src:c.ctry},null,8,Ee),e("span",null,n(c.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])])):T("",!0),o.value.escaping&&k.value.length>0?(u(),v("div",Ne,[e("div",Ae,n(t.$t("meeting.schedule.form.thesaurus")),1),e("div",null,[p(x,{modelValue:l.value.industryType,"onUpdate:modelValue":s[1]||(s[1]=c=>l.value.industryType=c),options:k.value,"allow-search":""},null,8,["modelValue","options"])])])):T("",!0)]),e("div",ze,[p(U,{class:"room-options-btn",type:"primary",size:"large","html-type":"submit",long:"",loading:a(g).btnLoading,onClick:a(z)},{default:_(()=>[e("span",null,n(a(i)("meeting.room.option.meeting.initiate")),1)]),_:1},8,["loading","onClick"])])])}}});const je=H(Be,[["__scopeId","data-v-8285d906"]]);export{je as o};
