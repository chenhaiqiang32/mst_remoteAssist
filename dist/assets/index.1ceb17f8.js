import{ab as le,v as ne,E as ue,_ as oe,aq as Le,u as ge,ae as Ne,f as He,ar as qe,ad as De,ac as Ze,d as je,ai as $e}from"./index.fad97de8.js";import{d as se,j as C,C as i,D as h,E as e,u as l,aN as o,aI as d,F as ae,aW as w,b5 as ke,a$ as Ee,b0 as ze,c as ye,a as Pe,w as Ae,o as de,b as fe,aH as r,aK as me,aJ as pe,aE as q,aF as O,aM as te,bc as Re,b9 as Ce,b8 as Ie,aV as Fe,ba as Ue,bb as Je,bd as Qe,aX as Se,H as Ge,G as Me,bL as we,bM as Be,bN as Ye,bP as We,aS as _e,br as Ke,bs as Xe,be as et}from"./arco.638965b6.js";import{d as Te,e as tt,m as nt,j as ot,v as st,k as at,l as lt,n as it,p as he,s as xe,t as ct}from"./icon_volume_1.148c46df.js";import{o as dt}from"./index.39633859.js";import{l as rt,h as ut,j as mt}from"./html2canvas.esm.6406af35.js";import{d as pt,s as vt}from"./schedule.966e323d.js";import{I as _t}from"./invite.c0807abc.js";import{c as Oe}from"./icon_close.f7fee805.js";import{M as ht}from"./icon-default-meeting.7fc0c2d8.js";import"./chart.ffc0c533.js";import"./vue.125da600.js";/* empty css               */const gt=N=>(Ee("data-v-a6d226e8"),N=N(),ze(),N),ft={class:"room-join-options-container"},bt={class:"room-options-c"},$t=["src"],yt={class:"room-options-header"},Mt={class:"room-options-h-t"},kt={class:"room-options-h-n"},Ct={class:"room-options-h-n-t"},It=gt(()=>e("span",{class:"required"},"*",-1)),St={class:"room-options-main"},wt={class:"room-options-m-it"},Tt=["src"],xt={class:"room-options-m-ib text-ellipsis"},Ot={class:"room-options-m-it"},Vt=["src"],Lt={class:"room-options-m-ib text-ellipsis"},Nt={class:"room-options-m-it"},Ht=["src"],qt={class:"room-options-m-ib text-ellipsis"},Dt={class:"room-options-f"},Zt=se({__name:"join",emits:["handleClose","handleJoinMeeting"],setup(N,{emit:V}){const s=le(),I=V,{t:v}=ne.exports.useI18n();C(!1);const n=C({...s.roomOptions,meetingNo:""}),L=C(null),S=()=>{L.value&&(L.value.getTracks().forEach(y=>y.stop()),L.value=null)},t=()=>{S(),n.value.meetingNo="",I("handleClose")},D=async()=>{n.value.audio=!n.value.audio;try{n.value.audio&&(L.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})),S()}catch{n.value.audio=!1,w.error(v("meeting.modal.option.devices.audio"))}},Z=async()=>{n.value.video=!n.value.video;try{n.value.video&&(L.value=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})),S()}catch{n.value.video=!n.value.video,w.error(v("meeting.modal.option.devices.video"))}},k=()=>{n.value.loudspeaker=!n.value.loudspeaker},$=()=>{console.log("handleClearSpace",n.value.meetingNo),n.value.meetingNo=n.value.meetingNo.replace(/\s+/g,"")},H=Te(async()=>{!n.value.meetingNo||(ue.emit("meeting-notification-close"),s.updateRoomOptions(n.value),I("handleJoinMeeting",{meetingNo:n.value.meetingNo}))},1e3);return(y,M)=>{const g=ke;return i(),h("div",ft,[e("div",bt,[e("div",{class:"room-fixed",onClick:t},[e("img",{src:l(tt),alt:""},null,8,$t)]),e("div",yt,[e("div",Mt,[e("span",null,o(l(v)("meeting.menu.jrhy")),1)]),e("div",kt,[e("div",Ct,[e("span",null,o(l(v)("meeting.qr.code.modal.desc")),1),It]),d(g,{modelValue:n.value.meetingNo,"onUpdate:modelValue":M[0]||(M[0]=c=>n.value.meetingNo=c),placeholder:l(v)("meeting.room.option.meeting.join.title"),onInput:$},null,8,["modelValue","placeholder"])])]),e("div",St,[e("div",{class:"room-options-m-i",onClick:D},[e("div",wt,[e("img",{src:n.value.audio?l(nt):l(ot),alt:""},null,8,Tt)]),e("div",xt,o(l(v)("meeting.menu.mkf")),1)]),e("div",{class:"room-options-m-i",onClick:Z},[e("div",Ot,[e("img",{src:n.value.video?l(st):l(at),alt:""},null,8,Vt)]),e("div",Lt,o(l(v)("meeting.menu.sxt")),1)]),e("div",{class:"room-options-m-i",onClick:k},[e("div",Nt,[e("img",{src:n.value.loudspeaker?l(lt):l(it),alt:""},null,8,Ht)]),e("div",qt,o(l(v)("meeting.menu.ysq")),1)])]),e("div",Dt,[e("div",{class:ae(["room-options-btn",n.value.meetingNo?"active":""]),onClick:M[1]||(M[1]=(...c)=>l(H)&&l(H)(...c))},[e("span",null,o(l(v)("meeting.room.option.meeting.join")),1)],2)])])])}}});const jt=oe(Zt,[["__scopeId","data-v-a6d226e8"]]),Et={class:"longtime-options-container modal-container"},zt=["src"],Pt={class:"modal-title"},At={class:"modal-main wsl-scroll"},Rt={class:"users-main"},Ft={class:"users-main-header"},Ut={class:"user-main-header-left"},Jt={class:"user-main-header-right-icon"},Qt={class:"user-main-header-right-label"},Gt={class:"users-main-body"},Bt={key:0,class:"users-main-body-main"},Yt={class:"users-main-body-main-item-top"},Wt=["src"],Kt={class:"users-main-body-main-item-bot textEllipsis"},Xt=["onClick"],en=["src"],tn={key:1,class:"users-main-body-no-data"},nn={class:"bx"},on={key:0,class:"ax"},sn={class:"label"},an=["src"],ln={key:1,class:"ax"},cn={class:"label"},dn={class:"modal-bot"},rn=se({__name:"longtime",emits:["handleClose","handleInviteOpen"],setup(N,{emit:V}){const s=le(),{t:I,locale:v}=ne.exports.useI18n(),n=ye(()=>{var c;return(c=s.industryList)==null?void 0:c.map(m=>({label:v.value==="zh-CN"?m.value:m.english,value:m.label}))}),L=ye(()=>{var c;return(c=s.languageList)==null?void 0:c.map(m=>({...m,label:v.value==="zh-CN"?m.value:m.english,value:m.label,ctry:m.flagUrl}))}),S=V,t=C({subject:"",userIds:[],recordStatus:"0",aiStatus:"0",escaping:"0",voiceTranslation:!1,languageType:"cn",industryType:"default"});Pe(()=>{var m;((m=L.value)==null?void 0:m.some(E=>E.type==="aliyun"))&&(t.value.languageType="zh")});const D=C(t.value.recordStatus==="1"),Z=C(t.value.aiStatus==="1"),k=C(t.value.escaping==="1"),$=()=>{t.value={subject:"",userIds:[],recordStatus:"0",aiStatus:"0",escaping:"0"},s.updateSchedulePsn([])},p=()=>{t.value.userIds=he(s.schedulePsn,"userId")},H=()=>{$(),S("handleClose")},y=()=>{S("handleInviteOpen")},M=c=>{s.schedulePsn.splice(c,1)},g=async()=>{var m;const c=await s.createLongtimeMeeting({...t.value,enableTranslation:(m=t.value)!=null&&m.escaping?"1":"0"});if(c.code!==200&&c.code!==401){w.error(c.msg);return}w.success(I("meeting.schedule.message.success")),H()};return Ae(()=>[D.value,Z.value,k.value,s.schedulePsn],c=>{c[0]?t.value.recordStatus="1":t.value.recordStatus="0",c[1]?t.value.aiStatus="1":t.value.aiStatus="0",c[2]?t.value.escaping="1":t.value.escaping="0",c[3]&&p()},{deep:!0}),de(()=>{p()}),fe(()=>{$()}),(c,m)=>{const E=ke,z=Re,U=Le,Q=Ce,Y=Ie,A=Fe,a=Ue,f=Je,R=Qe,j=Se;return i(),h("div",Et,[e("div",{class:"modal-fixed",onClick:H},[e("img",{src:l(Oe),alt:""},null,8,zt)]),e("div",Pt,o(c.$t("meeting.longtime.modal.title")),1),e("div",At,[d(R,{model:t.value,layout:"vertical"},{default:r(()=>[d(z,{field:"subject",label:c.$t("meeting.schedule.form.subject")},{default:r(()=>[d(E,{modelValue:t.value.subject,"onUpdate:modelValue":m[0]||(m[0]=x=>t.value.subject=x),"max-length":255,placeholder:c.$t("meeting.schedule.form.placeholder.schedule")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e("div",Rt,[e("div",Ft,[e("div",Ut,[e("span",null,o(c.$t("meeting.schedule.form.member")),1)]),e("div",{class:"user-main-header-right",onClick:y},[e("div",Jt,[d(U)]),e("div",Qt,[e("span",null,o(c.$t("meeting.schedule.form.btn.add")),1)])])]),e("div",Gt,[t.value.userIds&&t.value.userIds.length>0?(i(),h("div",Bt,[d(Y,{size:10,wrap:""},{default:r(()=>[(i(!0),h(me,null,pe(l(s).schedulePsn,(x,G)=>(i(),h("div",{key:`user_${x.userId}_${G}`,class:"users-main-body-main-item"},[e("div",Yt,[e("img",{src:x.avatarUrl,alt:"avatar"},null,8,Wt)]),d(Q,{content:x.name},{default:r(()=>[e("div",Kt,o(x.name),1)]),_:2},1032,["content"]),e("div",{class:"users-main-body-main-item-fixed",onClick:B=>M(G)},[e("img",{src:l(pt),alt:"del"},null,8,en)],8,Xt)]))),128))]),_:1})])):(i(),h("div",tn,[e("span",null,o(c.$t("meeting.schedule.form.placeholder.member")),1)]))])]),d(z,{style:{"margin-bottom":"0"},"content-class":"longtime-checkbox longtime-checkbox-voice"},{default:r(()=>[e("div",nn,[e("span",null,o(c.$t("meeting.schedule.form.voiceTranslation")),1),d(A,{modelValue:t.value.voiceTranslation,"onUpdate:modelValue":m[1]||(m[1]=x=>t.value.voiceTranslation=x),size:"small"},null,8,["modelValue"])]),t.value.voiceTranslation?(i(),h("div",on,[e("div",sn,o(c.$t("meeting.schedule.form.myLanguage")),1),e("div",null,[d(f,{modelValue:t.value.languageType,"onUpdate:modelValue":m[2]||(m[2]=x=>t.value.languageType=x)},{default:r(()=>[(i(!0),h(me,null,pe(L.value,x=>(i(),q(a,{class:"st-img",value:x.value},{default:r(()=>[e("img",{src:x.ctry},null,8,an),e("span",null,o(x.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])])):O("",!0),t.value.voiceTranslation&&n.value.length>0?(i(),h("div",ln,[e("div",cn,o(c.$t("meeting.schedule.form.thesaurus")),1),e("div",null,[d(f,{modelValue:t.value.industryType,"onUpdate:modelValue":m[3]||(m[3]=x=>t.value.industryType=x),options:n.value},null,8,["modelValue","options"])])])):O("",!0)]),_:1}),d(z,{"content-class":"longtime-checkbox","hide-label":""})]),_:1},8,["model"])]),e("div",dn,[d(j,{class:"modal-btn-item",onClick:H},{default:r(()=>[te(o(c.$t("meeting.schedule.form.btn.cancel")),1)]),_:1}),d(j,{class:"modal-btn-item",type:"primary",onClick:g},{default:r(()=>[te(o(c.$t("meeting.longtime.form.btn.longtime")),1)]),_:1})])])}}});const un=oe(rn,[["__scopeId","data-v-7cd3a6f5"]]),mn={class:"link-modal-container"},pn=["src"],vn={class:"link-m-t borderB"},_n={class:"link-m-m"},hn={class:"link-m-m-m"},gn={class:"link-m-m-mt"},fn={class:"name"},bn={class:"link-m-m-md"},$n={class:"link-m-m-mm"},yn={key:0},Mn={key:1},kn={class:"link-m-m-mf"},Cn={class:"link-m-m-mb"},In={class:"link-m-b"},Sn={class:"link-m-b-btn"},wn=se({__name:"share",props:{meetingDetail:{}},emits:["handleClose"],setup(N,{emit:V}){const s=V,I=le(),v=ge(),{t:n}=ne.exports.useI18n(),S=C({...N.meetingDetail}),t=C(null),D=()=>{s("handleClose")},Z=async()=>{const g=await I.getMeetingShareInfo({meetingNo:S.value.meetingNo});if(g.code!==200&&g.code!==401){w.error(g.msg);return}t.value=g.data},k=g=>{if(!g)return"";const c=new Date(g),m=c.getHours(),E=c.getMinutes();return`${m<10?"0":""}${m}:${E<10?"0":""}${E}`},$=g=>{if(!g)return"";const c=new Date(g),m=c.getFullYear(),E=c.getMonth()+1,z=c.getDate();return`${m}-${E<10?"0":""}${E}-${z<10?"0":""}${z}`},{isWujie:p,Copy:H}=Ne(),y=()=>{const g=(t==null?void 0:t.value.planType)===1||(t==null?void 0:t.value.planType)===0?`${$(t==null?void 0:t.value.startTime)} ${k(t==null?void 0:t.value.startTime)} \uFF5E ${$(t==null?void 0:t.value.endTime)} ${k(t==null?void 0:t.value.endTime)}`:n("meeting.invite.link.modal.text6"),c=`${v.name} ${n("meeting.invite.link.modal.text1")} 
${n("meeting.invite.link.modal.text2")}: ${t.value.subject} 
${n("meeting.invite.link.modal.text5")}: ${g} 
${n("meeting.invite.link.modal.text4")}: ${t.value.meetingNo} 
${n("meeting.invite.link.modal.text3")}: ${t.value.inviteUrl} `;if(p.value){H(c),w.success(n("meeting.invite.link.modal.msg.copy.success"));return}navigator.clipboard.writeText(c).then(()=>{w.success(n("meeting.invite.link.modal.msg.copy.success"))}).catch(m=>{console.log(m),w.error(n("meeting.invite.link.modal.msg.copy.fail"))})},M=()=>{const g=`${t.value.inviteUrl}`;if(p.value){H(g),w.success(n("meeting.invite.link.modal.msg.copy.success"));return}navigator.clipboard.writeText(g).then(()=>{w.success(n("meeting.invite.link.modal.msg.copy.success"))}).catch(c=>{console.log(c),w.error(n("meeting.invite.link.modal.msg.copy.fail"))})};return de(()=>{Z()}),(g,c)=>{var m,E,z,U,Q,Y,A,a,f,R,j,x;return i(),h("div",mn,[e("div",{class:"link-fixed",onClick:D},[e("img",{src:l(Oe),alt:""},null,8,pn)]),e("div",vn,o(l(n)("meeting.invite.link.modal.title")),1),e("div",_n,[e("div",hn,[e("div",gn,[e("span",fn,o((m=t.value)==null?void 0:m.name),1),e("span",null,o(l(n)("meeting.invite.link.modal.text1")),1)]),e("div",bn,[e("span",null,o(l(n)("meeting.invite.link.modal.text2"))+":",1),e("span",null,o((E=t.value)==null?void 0:E.subject),1)]),e("div",$n,[e("span",null,o(l(n)("meeting.invite.link.modal.text5"))+":",1),((z=t.value)==null?void 0:z.planType)===1||((U=t.value)==null?void 0:U.planType)===0?(i(),h("span",yn,o($((Q=t.value)==null?void 0:Q.startTime))+" "+o(k((Y=t.value)==null?void 0:Y.startTime))+" "+o((A=t.value)!=null&&A.endTime?"~":"")+" "+o($((a=t.value)==null?void 0:a.endTime))+" "+o(k((f=t.value)==null?void 0:f.endTime)),1)):O("",!0),((R=t.value)==null?void 0:R.planType)===2?(i(),h("span",Mn,o(l(n)("meeting.invite.link.modal.text6")),1)):O("",!0)]),e("div",kn,[e("span",null,o(l(n)("meeting.invite.link.modal.text4"))+":",1),e("span",null,o((j=t.value)==null?void 0:j.meetingNo),1)]),e("div",Cn,[e("span",null,o(l(n)("meeting.invite.link.modal.text3"))+":",1),e("span",null,o((x=t.value)==null?void 0:x.inviteUrl),1)])])]),e("div",In,[e("div",Sn,[e("div",{class:"link-m-b-btn-i btn-border",onClick:y},[e("span",null,o(l(n)("meeting.invite.link.modal.btn.copy.all")),1)]),e("div",{class:"link-m-b-btn-i btn-bg",onClick:M},[e("span",null,o(l(n)("meeting.invite.link.modal.btn.copy.link")),1)])])])])}}});const Tn=oe(wn,[["__scopeId","data-v-89b65aaa"]]),xn={width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},On=e("circle",{cx:"16",cy:"16",r:"15.5",stroke:"#fff"},null,-1),Vn=e("g",{fill:"#fff"},[e("path",{d:"M10.258 21.742c.345.344.69.344 1.034 0l10.45-10.45c.344-.345.344-.69 0-1.034-.345-.344-.69-.344-1.034 0l-10.45 10.45c-.344.345-.344.69 0 1.034Z"}),e("path",{d:"M21.742 21.742c.344-.345.344-.69 0-1.034l-10.45-10.45c-.345-.344-.69-.344-1.034 0-.344.345-.344.69 0 1.034l10.45 10.45c.345.344.69.344 1.034 0Z"})],-1),Ln=[On,Vn];function Nn(N,V){return i(),h("svg",xn,[...Ln])}const Hn={render:Nn},qn={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Dn=Ge('<g fill-rule="evenodd" clip-rule="evenodd" fill="#0267FF"><path d="M5.249 3.938a.73.73 0 1 0 0 1.458.73.73 0 0 0 0-1.458Zm-1.604.729a1.604 1.604 0 1 1 3.208 0 1.604 1.604 0 0 1-3.208 0Z"></path><path d="M1.807 1.806C2.585 1.027 3.75.729 5.25.729h2.334a.438.438 0 0 1 0 .875H5.25c-1.415 0-2.292.286-2.826.82-.534.534-.82 1.411-.82 2.826v3.5c0 1.415.286 2.292.82 2.826.534.534 1.411.82 2.826.82h3.5c1.415 0 2.292-.286 2.826-.82.534-.534.82-1.41.82-2.826V5.834a.438.438 0 0 1 .875 0V8.75c0 1.502-.297 2.667-1.076 3.445-.778.778-1.943 1.076-3.445 1.076h-3.5c-1.501 0-2.666-.298-3.444-1.076C1.028 11.417.73 10.252.73 8.75v-3.5c0-1.501.298-2.666 1.077-3.444Z"></path><path d="M10.5.73c.242 0 .438.195.438.437v2.444l.42-.42a.437.437 0 1 1 .618.619l-1.167 1.166a.438.438 0 0 1-.746-.309v-3.5c0-.242.195-.438.437-.438Z"></path><path d="M9.023 3.19c.17-.17.448-.17.618 0l1.167 1.167a.438.438 0 0 1-.619.619L9.023 3.809a.438.438 0 0 1 0-.618ZM11.599 7.624a.864.864 0 0 0-1.075 0L8.097 9.706a1.738 1.738 0 0 1-2.215 0l-.004-.003-.19-.167c-.262-.223-.709-.25-1.01-.049l-2.875 1.93a.437.437 0 1 1-.488-.726l2.876-1.93c.62-.417 1.502-.375 2.069.113l.003.003.19.167a.864.864 0 0 0 1.074-.001L9.954 6.96a1.738 1.738 0 0 1 2.215 0l.95.817a.438.438 0 1 1-.57.664l-.95-.817Z"></path></g>',1),Zn=[Dn];function jn(N,V){return i(),h("svg",qn,[...Zn])}const En={render:jn},zn="/assist/assets/bg_modal_1.6e7b1e7f.png",Pn="/assist/assets/bg_modal_2.cc6ad44b.png",An={class:"qr-code-modal-container"},Rn={class:"qr-code-main"},Fn={class:"qr-code-main-top-title"},Un={class:"qr-code-main-top-desc"},Jn={class:"qr-code-main-top-bot"},Qn={class:"qr-code-main-mid-body"},Gn={class:"qr-code-main-bot"},Bn={class:"qr-code-main-bot-desc"},Yn={class:"qr-code-main-bot-b-l"},Wn={class:"qr-code-main-bot-b-r"},Kn=se({__name:"qr_code",props:{meetingDetail:{}},emits:["handleClose"],setup(N,{emit:V}){const s=C(null),I=V,{t:v}=ne.exports.useI18n(),n=C(!0),L=()=>{I("handleClose")},t=C({...N.meetingDetail}),D=()=>{s.value&&He.toCanvas(t.value.qrCodeStr,{errorCorrectionLevel:"H",width:180,margin:2},(k,$)=>{if(k){console.error(k);return}s.value&&s.value.appendChild($);const p=$.getContext("2d");if(p){const y=($.width-30)/2,M=($.height-30)/2;p.beginPath(),p.moveTo(y+5,M),p.lineTo(y+30-5,M),p.quadraticCurveTo(y+30,M,y+30,M+5),p.lineTo(y+30,M+30-5),p.quadraticCurveTo(y+30,M+30,y+30-5,M+30),p.lineTo(y+5,M+30),p.quadraticCurveTo(y,M+30,y,M+30-5),p.lineTo(y,M+5),p.quadraticCurveTo(y,M,y+5,M),p.closePath(),p.fillStyle="#ffffff",p.fill(),p.strokeStyle="#000000",p.lineWidth=2,p.stroke();const g=new Image;g.src=rt,g.onload=()=>{p.drawImage(g,y+2.5,M+2.5,30-5,30-5)}}})},Z=()=>{n.value=!1;const k=document.querySelector(".qr-code-main");k&&ut(k,{backgroundColor:null,useCORS:!0}).then($=>{const p=document.createElement("a");p.href=$.toDataURL("image/png"),p.download=`${t.value.meetingNo}.png`,p.click(),n.value=!0}).catch(()=>{n.value=!0})};return de(()=>{D()}),fe(()=>{t.value=null}),(k,$)=>(i(),h("div",An,[e("div",{class:"qr-code-fixed",onClick:L},[d(l(Hn))]),e("div",Rn,[e("div",{class:"qr-code-main-top",style:Me({backgroundImage:`url(${l(zn)})`})},[e("div",Fn,[e("span",null,o(t.value.subject),1)]),e("div",Un,[e("span",null,o(l(v)("meeting.qr.code.modal.desc")),1)]),e("div",Jn,[e("span",null,o(l(xe)(t.value.meetingNo)),1)])],4),e("div",{class:"qr-code-main-mid",style:Me({backgroundImage:`url(${l(Pn)})`})},[e("div",Qn,[e("div",{ref_key:"qrCodeContainer",ref:s,class:"qr-code-container"},null,512)])],4)]),e("div",Gn,[e("div",Bn,[e("span",null,o(l(v)("meeting.qr.code.modal.desc1")),1)]),e("div",{class:"qr-code-main-bot-b",onClick:Z},[e("div",Yn,[d(l(En))]),e("div",Wn,[e("span",null,o(l(v)("meeting.qr.code.modal.desc2")),1)])])])]))}});const Xn=oe(Kn,[["__scopeId","data-v-16b5d05d"]]),eo={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},to=e("path",{d:"M25.556 4.686 11.26 9.436c-9.61 3.215-9.61 8.456 0 11.654l4.243 1.409 1.41 4.243c3.198 9.611 8.454 9.611 11.653 0l4.766-14.281c2.121-6.413-1.362-9.912-7.775-7.775Zm.507 8.519-6.017 6.048a1.174 1.174 0 0 1-.839.349c-.3 0-.601-.111-.839-.349-.46-.459-.46-1.219 0-1.678l6.017-6.048c.459-.46 1.219-.46 1.678 0 .46.459.46 1.219 0 1.678Z",fill:"#0267FF"},null,-1),no=[to];function oo(N,V){return i(),h("svg",eo,[...no])}const so={render:oo},ao={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},lo=e("g",{fill:"#0267FF"},[e("path",{d:"M26.522 5.637v-2.47c0-.65-.538-1.188-1.188-1.188-.649 0-1.187.539-1.187 1.188v2.375H13.855V3.167c0-.65-.538-1.188-1.187-1.188-.65 0-1.188.539-1.188 1.188v2.47c-4.275.396-6.349 2.945-6.666 6.73-.031.458.349.838.792.838h26.79c.46 0 .84-.396.792-.839-.317-3.784-2.391-6.333-6.666-6.729ZM31.667 15.58H6.333c-.87 0-1.583.713-1.583 1.583v9.754c0 4.75 2.375 7.916 7.917 7.916h7.806a1.58 1.58 0 0 0 1.504-2.09c-.317-.918-.586-1.931-.586-2.66 0-4.797 3.91-8.708 8.708-8.708.46 0 .918.032 1.362.11a1.576 1.576 0 0 0 1.805-1.55v-2.756c-.016-.886-.728-1.599-1.6-1.599ZM14.582 28.04a1.829 1.829 0 0 1-.522.333c-.19.08-.396.127-.602.127-.206 0-.411-.047-.601-.127-.19-.079-.364-.19-.523-.332-.285-.3-.459-.713-.459-1.124 0-.095.016-.206.032-.301a.954.954 0 0 1 .095-.3c.031-.096.079-.19.142-.286.048-.08.127-.158.19-.237.159-.143.333-.254.523-.333.38-.158.823-.158 1.203 0 .19.08.364.19.522.333.064.079.143.158.19.237.064.095.111.19.143.285.048.095.08.19.095.3.016.096.032.207.032.302 0 .411-.175.823-.46 1.124Zm0-5.54a1.826 1.826 0 0 1-.522.332c-.19.079-.396.126-.602.126-.206 0-.411-.047-.601-.126a1.632 1.632 0 0 1-.523-.333c-.285-.3-.459-.712-.459-1.124 0-.412.174-.823.46-1.124.157-.143.332-.253.522-.333.38-.158.823-.158 1.203 0 .19.08.364.19.522.333.064.08.143.158.19.237.064.095.111.19.143.285.048.095.08.19.095.285.016.111.032.222.032.317 0 .412-.175.823-.46 1.124Zm5.542 0c-.3.284-.697.458-1.124.458-.206 0-.412-.047-.602-.126a1.634 1.634 0 0 1-.522-.333c-.285-.3-.46-.712-.46-1.124 0-.095.017-.206.032-.317.016-.095.048-.19.095-.285.032-.095.08-.19.143-.285l.19-.237c.586-.586 1.646-.586 2.248 0l.19.237c.064.095.111.19.143.285.047.095.079.19.095.285.015.111.031.222.031.317 0 .412-.174.823-.459 1.124Z"}),e("path",{d:"M34.564 25.602a6.345 6.345 0 0 0-8.962 0 6.345 6.345 0 0 0 0 8.962 6.345 6.345 0 0 0 8.962 0 6.345 6.345 0 0 0 0-8.962Zm-1.203 5.368a1.133 1.133 0 0 1-.84.348H31.35v1.235c0 .333-.127.618-.348.84a1.16 1.16 0 0 1-.84.348c-.649 0-1.187-.538-1.187-1.188v-1.235h-1.188c-.649 0-1.187-.522-1.187-1.187 0-.65.538-1.188 1.188-1.188h1.187V27.82c0-.649.522-1.187 1.188-1.187.649 0 1.187.538 1.187 1.187v1.124h1.172c.665 0 1.187.539 1.187 1.188 0 .332-.127.633-.348.839Z"})],-1),io=[lo];function co(N,V){return i(),h("svg",ao,[...io])}const ro={render:co},uo={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mo=e("path",{d:"M32.648 13.775C31 6.445 24.604 3.167 18.999 3.167h-.015c-5.59 0-11.97 3.277-13.633 10.592-1.868 8.17 3.135 15.09 7.663 19.46A8.606 8.606 0 0 0 19 35.64a8.542 8.542 0 0 0 5.97-2.422c4.528-4.37 9.531-11.274 7.679-19.444Zm-8.455 1.314-6.334 6.334a1.175 1.175 0 0 1-.839.348c-.3 0-.601-.11-.839-.348l-2.375-2.375c-.46-.46-.46-1.22 0-1.678.46-.46 1.22-.46 1.678 0l1.536 1.535 5.494-5.494c.46-.459 1.22-.459 1.679 0 .459.46.459 1.22 0 1.678Z",fill:"#FF6C02"},null,-1),po=[mo];function vo(N,V){return i(),h("svg",uo,[...po])}const _o={render:vo},ho={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"},go=e("path",{d:"M25.636 3.167H12.367c-5.763 0-9.199 3.436-9.199 9.2v13.252c0 5.779 3.436 9.215 9.2 9.215H25.62c5.763 0 9.199-3.436 9.199-9.2V12.366c.016-5.763-3.42-9.199-9.184-9.199Zm-.301 17.02h-5.146v5.147c0 .649-.538 1.187-1.188 1.187-.649 0-1.187-.538-1.187-1.187v-5.146h-5.146c-.65 0-1.188-.538-1.188-1.188 0-.649.539-1.187 1.188-1.187h5.146v-5.146c0-.65.538-1.188 1.187-1.188.65 0 1.188.539 1.188 1.188v5.146h5.146c.649 0 1.187.538 1.187 1.187 0 .65-.538 1.188-1.187 1.188Z",fill:"#0267FF"},null,-1),fo=[go];function bo(N,V){return i(),h("svg",ho,[...fo])}const $o={render:bo},yo={class:"menu-panel-top"},Mo={class:"menu-panel-content"},ko={class:"grid-meeting-type-item-b"},Co={class:"grid-meeting-type-item-b-top icon1"},Io={class:"grid-meeting-type-item-b-bot"},So={class:"grid-meeting-type-item-b"},wo={class:"grid-meeting-type-item-b-top icon2"},To={class:"grid-meeting-type-item-b-bot"},xo={class:"grid-meeting-type-item-b"},Oo={class:"grid-meeting-type-item-b-top icon3"},Vo={class:"grid-meeting-type-item-b-bot"},Lo={class:"grid-meeting-type-item-b"},No={class:"grid-meeting-type-item-b-top icon4"},Ho={class:"grid-meeting-type-item-b-bot"},qo=se({__name:"menu",emits:["handleQuickMeetingOpen","handleScheduleOpen","handleLongtimeOpen","handleJoinMeetingOpen"],setup(N,{emit:V}){const s=le(),{t:I}=ne.exports.useI18n(),v=V,L=Te(()=>{if(s.answerInfo&&s.answerInfo.meetingNo){w.error(I("meeting.call.message.tips"));return}v("handleQuickMeetingOpen")},1e3),S=()=>{v("handleScheduleOpen")},t=()=>{v("handleLongtimeOpen")},D=()=>{if(s.answerInfo&&s.answerInfo.meetingNo){w.error(I("meeting.call.message.tips"));return}v("handleJoinMeetingOpen")};return(Z,k)=>{const $=we,p=Be,H=Ye;return i(),q($,{class:"general-card menu-panel",bordered:!1,"body-style":{height:"100%",display:"flex",padding:0,flexFlow:"column"}},{default:r(()=>[e("div",yo,[e("span",null,o(Z.$t("meeting.menu.title")),1)]),e("div",Mo,[d(H,{class:"grid-meeting-type",gutter:[16,16]},{default:r(()=>[d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:r(()=>[d($,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:l(L)},{default:r(()=>[e("div",ko,[e("div",Co,[d(l(so))]),e("div",Io,[e("span",null,o(Z.$t("meeting.menu.kshy")),1)])])]),_:1},8,["onClick"])]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:r(()=>[d($,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:S},{default:r(()=>[e("div",So,[e("div",wo,[d(l(ro))]),e("div",To,[e("span",null,o(Z.$t("meeting.menu.yyhy")),1)])])]),_:1})]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:r(()=>[d($,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:t},{default:r(()=>[e("div",xo,[e("div",Oo,[d(l(_o))]),e("div",Vo,[e("span",null,o(Z.$t("meeting.menu.cqhy")),1)])])]),_:1})]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:r(()=>[d($,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:D},{default:r(()=>[e("div",Lo,[e("div",No,[d(l($o))]),e("div",Ho,[e("span",null,o(Z.$t("meeting.menu.jrhy")),1)])])]),_:1})]),_:1})]),_:1})])]),_:1})}}});const Do=oe(qo,[["__scopeId","data-v-25711f67"]]),Zo={width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},jo=e("g",{fill:"#FF6C02"},[e("path",{d:"M24.464 12.098v3.722a4.9 4.9 0 0 1-4.9 4.9H15.41c-.641 0-1.166.513-1.166 1.167v.956a1.17 1.17 0 0 0 1.166 1.167h2.637c.455 0 .828.362.828.828a.832.832 0 0 1-.828.829H8.784a.832.832 0 0 1-.829-.829c0-.466.374-.828.829-.828h2.636a1.17 1.17 0 0 0 1.167-1.167v-.956c0-.654-.525-1.167-1.167-1.167h-4.2a4.897 4.897 0 0 1-4.888-4.9V8.388A4.894 4.894 0 0 1 7.22 3.5h5.029a1.17 1.17 0 0 1 1.166 1.167v2.508c0 2.252 1.505 3.757 3.745 3.757h6.137a1.17 1.17 0 0 1 1.167 1.166Z"}),e("path",{d:"m25.656 2.753-1.318.922v-.49a1.994 1.994 0 0 0-1.995-1.995H17.35a2.168 2.168 0 0 0-2.182 2.17v3.826c0 1.004.502 1.995 1.995 1.995h5.168a1.994 1.994 0 0 0 1.995-1.995v-.501l1.319.921c.665.455 1.19.175 1.19-.618V3.37c0-.793-.525-1.061-1.179-.618Z"})],-1),Eo=[jo];function zo(N,V){return i(),h("svg",Zo,[...Eo])}const Po={render:zo},Ao="/assist/assets/no_record.568a47cc.png",Ro={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Fo=e("g",{"clip-rule":"evenodd"},[e("path",{class:"svg-fill",d:"M14.488 1.513a.5.5 0 0 1 0 .707L9.022 7.686a.5.5 0 1 1-.708-.707l5.467-5.466a.5.5 0 0 1 .707 0Z"}),e("path",{class:"svg-fill",d:"M10.965 1.333a.5.5 0 0 1 .5-.5h3.2a.5.5 0 0 1 .5.5v3.2a.5.5 0 1 1-1 0v-2.7h-2.7a.5.5 0 0 1-.5-.5ZM2.062 2.063c.89-.89 2.22-1.23 3.937-1.23h1.333a.5.5 0 0 1 0 1H5.999c-1.618 0-2.62.327-3.23.937-.61.61-.937 1.612-.937 3.23v4c0 1.617.327 2.62.937 3.23.61.61 1.612.936 3.23.936h4c1.617 0 2.62-.326 3.23-.937.61-.61.936-1.612.936-3.23V8.667a.5.5 0 1 1 1 0V10c0 1.716-.34 3.047-1.23 3.937-.89.89-2.22 1.23-3.936 1.23h-4c-1.716 0-3.048-.34-3.937-1.23-.89-.89-1.23-2.221-1.23-3.937V6c0-1.716.34-3.048 1.23-3.937Z"})],-1),Uo=[Fo];function Jo(N,V){return i(),h("svg",Ro,[...Uo])}const Qo={render:Jo},Go={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Bo=e("g",{fill:"#32466A"},[e("path",{d:"M5.57 2.167a.68.68 0 0 1 .68.68V5.57a.68.68 0 0 1-.68.681H2.847a.68.68 0 0 1-.68-.68V2.847a.68.68 0 0 1 .68-.68H5.57ZM5.57 1H2.847A1.85 1.85 0 0 0 1 2.847V5.57a1.85 1.85 0 0 0 1.847 1.848H5.57A1.85 1.85 0 0 0 7.417 5.57V2.847A1.85 1.85 0 0 0 5.57 1Zm7.583 1.167a.68.68 0 0 1 .68.68V5.57a.68.68 0 0 1-.68.681H10.43a.68.68 0 0 1-.681-.68V2.847a.68.68 0 0 1 .68-.68h2.723Zm0-1.167H10.43a1.85 1.85 0 0 0-1.848 1.847V5.57a1.85 1.85 0 0 0 1.848 1.848h2.722A1.85 1.85 0 0 0 15 5.57V2.847A1.85 1.85 0 0 0 13.153 1ZM5.57 9.75a.68.68 0 0 1 .68.68v2.723a.68.68 0 0 1-.68.68H2.847a.68.68 0 0 1-.68-.68V10.43a.68.68 0 0 1 .68-.681H5.57Zm0-1.167H2.847A1.85 1.85 0 0 0 1 10.431v2.722A1.85 1.85 0 0 0 2.847 15H5.57a1.85 1.85 0 0 0 1.848-1.847V10.43A1.85 1.85 0 0 0 5.57 8.583Z"}),e("path",{d:"M3.625 4.208a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM3.625 11.791a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM11.207 4.208a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM13.832 14.416a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM11.5 14.416a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0Z"}),e("path",{d:"M14.415 8.583a.583.583 0 0 0-.583.583V11.5h-1.167V9.166a.583.583 0 0 0-.583-.583H9.165a.583.583 0 0 0-.583.583v5.25a.583.583 0 1 0 1.167 0V9.75h1.75v2.333a.583.583 0 0 0 .583.583h2.333a.583.583 0 0 0 .584-.583V9.166a.583.583 0 0 0-.584-.583Z"})],-1),Yo=[Bo];function Wo(N,V){return i(),h("svg",Go,[...Yo])}const Ko={render:Wo},Xo={key:0,class:"list-panel"},es={class:"list-panel-top"},ts={class:"list-panel-main wsl-scroll"},ns={class:"list-panel-main-item-top"},os={class:"list-panel-main-item-content"},ss=["onMouseenter"],as={class:"list-panel-main-item-content-item-left"},ls={class:"list-panel-main-item-content-item-right-left"},is={class:"list-panel-main-item-content-item-right-left-top textEllipsis"},cs={class:"list-panel-main-item-content-item-right-left-bot"},ds={class:"list-panel-main-item-content-item-right-left-bot-i"},rs=["src"],us={class:"list-panel-main-item-content-item-right-left-bot-i"},ms={class:"list-panel-main-item-content-item-right-left-bot-i"},ps={key:0,class:"list-panel-main-item-content-item-right-right"},vs={class:"btn-del"},_s={key:1,class:"no-data"},hs={class:"no-data-body"},gs=["src"],fs={class:"no-data-body-text"},bs=se({__name:"list",emits:["openLinkShare","openQrCode","handleJoinMeetingOpen","handleScheduleOpen"],setup(N,{expose:V,emit:s}){const I=s,{t:v}=ne.exports.useI18n(),n=le(),L=C([]),S=ge(),t=C(!0),D=C({planId:""}),Z=a=>{const f=_e(),R=_e(a),j=R.format("YYYY-MM-DD");return R.isSame(f,"day")?`${v("today")}`:j},k=a=>_e(a).format("YYYY-MM-DD HH:mm"),$=a=>v(a===1?"meeting.list.long.status.jxz":"meeting.list.long.status.dks"),p=a=>a===1?"jxz":a===0?"dks":"",H=async()=>{const a=await n.getMeetingGroupList();if(a.code!==200&&a.code!==401){w.error(a.msg);return}L.value=a.data},y=async a=>{const f=await n.delMeetingPlan({planId:a.planId});f.code!==200&&f.code!==401?w.error(f.msg):w.success(v("meeting.list.long.delete")),H()},M=async a=>{const f=await n.delMeetingPlan({planId:a.planId});f.code!==200&&f.code!==401?w.error(f.msg):w.success(v("meeting.list.long.cancel")),H()},g=async a=>{const f=await n.overMeetingPlan({planId:a.planId});if(f.code!==200&&f.code!==401){w.error(f.msg),H();return}w.success(v("meeting.list.long.cancel")),H()},c=async a=>{const f=await n.getMeetingDetail(a);if(f.code!==200&&f.code!==401){w.error(f.msg);return}I("handleScheduleOpen",f.data)},m=a=>{a.command===1?M(a.data):a.command===2?g(a.data):a.command===3?c(a.data):a.command===4&&y(a.data)},E=a=>{t.value&&(D.value=a)},z=()=>{t.value&&(D.value="")},U=a=>{t.value=!a,a||z()},Q=a=>{if(n.answerInfo&&n.answerInfo.meetingNo){w.error(v("meeting.call.message.tips"));return}I("handleJoinMeetingOpen",a)},Y=a=>{I("openLinkShare",a)},A=a=>{I("openQrCode",a)};return de(()=>{H()}),V({handleGetMeetingList:H}),(a,f)=>{const R=Ce,j=Se,x=qe,G=Ke,B=Xe,W=Ie,ve=we;return L.value.length>0?(i(),h("div",Xo,[e("div",es,[e("span",null,o(a.$t("meeting.list.title")),1)]),e("div",ts,[(i(!0),h(me,null,pe(L.value,(F,K)=>(i(),h("div",{key:`meeting_${K}`,class:ae(["list-panel-main-item",F.timestamp===0?"long":""])},[e("div",ns,[e("span",null,o(F.timestamp===0?a.$t("meeting.list.long.title"):Z(F.timestamp)),1)]),e("div",os,[d(ve,{class:ae(F.timestamp===0?"long-card":""),bordered:!1,"body-style":{padding:"5px"}},{default:r(()=>[(i(!0),h(me,null,pe(F.meetings,(b,re)=>(i(),h("div",{key:`meeting_item_${re}`,class:ae(["list-panel-main-item-content-item",D.value.planId===b.planId?"active":""]),onMouseenter:ie=>E(b),onMouseleave:z},[e("div",as,[F.timestamp!==0?(i(),q(l(ht),{key:0})):(i(),q(l(Po),{key:1}))]),e("div",{class:ae(["list-panel-main-item-content-item-right",re<F.meetings.length-1?"borderB":""])},[e("div",ls,[d(R,{content:b.subject},{default:r(()=>[e("div",is,o(b.subject),1)]),_:2},1032,["content"]),e("div",cs,[e("div",ds,[e("span",null,o(a.$t("meeting.list.long.zzz"))+":",1),e("img",{src:b.masterAvatarUrl,alt:""},null,8,rs),e("span",null,o(b.masterName),1)]),e("div",us,[e("span",null,o(a.$t("meeting.list.long.time"))+":",1),e("span",null,o(k(b.startTime))+" "+o(F.timestamp!==0?`- ${k(b.endTime)}`:""),1)]),e("div",ms,[e("span",null,o(a.$t("meeting.list.long.hyh"))+":",1),e("span",null,o(l(xe)(b.meetingNo)),1)]),F.timestamp!==0?(i(),h("div",{key:0,class:ae(["list-panel-main-item-content-item-right-left-bot-s",p(b.planStatus)])},[e("span",null,o($(b.planStatus)),1)],2)):O("",!0)])]),D.value.planId===b.planId?(i(),h("div",ps,[d(W,null,{default:r(()=>[d(j,{type:"primary",onClick:ie=>Q(b)},{default:r(()=>[te(o(a.$t("meeting.list.long.rh")),1)]),_:2},1032,["onClick"]),d(j,{onClick:ie=>Y(b)},{icon:r(()=>[d(l(Qo),{class:"share-icon"})]),_:2},1032,["onClick"]),d(j,{onClick:ie=>A(b)},{icon:r(()=>[d(l(Ko),{class:"qrCode-icon"},{default:r(()=>[te(">")]),_:1})]),_:2},1032,["onClick"]),b.masterId===l(S).userId?(i(),q(B,{key:0,trigger:"click",onSelect:m,onPopupVisibleChange:U},We({default:r(()=>[d(j,null,{icon:r(()=>[d(x)]),_:1})]),_:2},[F.timestamp!==0?{name:"content",fn:r(()=>[b.masterId===l(S).userId&&b.planStatus===0?(i(),q(G,{key:0,value:{command:3,data:b}},{default:r(()=>[te(o(a.$t("meeting.list.long.xg")),1)]),_:2},1032,["value"])):O("",!0),b.masterId===l(S).userId&&b.planStatus===0?(i(),q(G,{key:1,value:{command:1,data:b}},{default:r(()=>[te(o(a.$t("meeting.list.long.qxhy")),1)]),_:2},1032,["value"])):O("",!0),b.masterId===l(S).userId&&b.planStatus===1?(i(),q(G,{key:2,value:{command:2,data:b}},{default:r(()=>[te(o(a.$t("meeting.list.long.jshy")),1)]),_:2},1032,["value"])):O("",!0)]),key:"0"}:{name:"content",fn:r(()=>[b.masterId===l(S).userId?(i(),q(G,{key:0,value:{command:4,data:b}},{default:r(()=>[e("span",vs,o(a.$t("meeting.list.long.del")),1)]),_:2},1032,["value"])):O("",!0)]),key:"1"}]),1024)):O("",!0)]),_:2},1024)])):O("",!0)],2)],42,ss))),128))]),_:2},1032,["class"])])],2))),128))])])):(i(),h("div",_s,[e("div",hs,[e("img",{src:l(Ao),alt:""},null,8,gs),e("div",fs,o(a.$t("meeting.no.data.text")),1)])]))}}});const $s=oe(bs,[["__scopeId","data-v-04da3b64"]]),ys={class:"container"},Ms={class:"layout"},ks={class:"layout-left-side"},Cs={class:"layout-content"},Is=se({__name:"index",setup(N){const{t:V}=ne.exports.useI18n(),s=le(),I=De(),v=Ze(),n=ge(),L=je(),S=C(!1),t=C(!1),D=C(!1),Z=C(),k=C(!1),$=()=>{s.updateRoomOptions(null),s.updateRoomInvitePsn(null),k.value=!1},p=()=>{k.value=!0,console.log("handleOptionCallOpen",k.value),s.updateRoomInvitePsn(null),s.updateRoomOptions({meetingName:`${n.name} ${V("meeting.room.option.meetingName")}`,video:!1,audio:!0,loudspeaker:!0,cloudRecord:!1,escaping:!1,abstract:!1,organizer:n.name})},H=async u=>{var _,P,T,X;try{const J=await s.ThImEvent.joinMeeting({meetingNo:u.meetingNo,forceEntryStatus:0,inviters:s.roomInvitePsn?he(s.roomInvitePsn,"userId"):[]});if(I.updateRoomTranslateInfo({...I.roomTranslateInfo,...J.data,open:!!((_=J.data)!=null&&_.enableTranslation)}),L.updateBtnLoading(!1),J.code!==200&&J.code!==401){w.error(J.msg);return}s.ThImEvent.roomMenuOptions={video:(P=s.roomOptions)==null?void 0:P.video,audio:(T=s.roomOptions)==null?void 0:T.audio,loudspeaker:(X=s.roomOptions)==null?void 0:X.loudspeaker},s.ThImEvent.setRoomOnlineListPsn(v.memberList),s.ThImEvent.setRoomOnlineGroupPsn(v.memberGroupList),$(),s.updateAssistVisible(!0)}catch{L.updateBtnLoading(!1)}},y=async()=>{var u,_,P,T,X,J,ce;try{const ee=await s.createRealtimeMeeting({aiStatus:(u=s.roomOptions)!=null&&u.abstract?"1":"0",recordStatus:(_=s.roomOptions)!=null&&_.cloudRecord?"1":"0",escaping:(P=s.roomOptions)!=null&&P.escaping?"1":"0",subject:(T=s.roomOptions)==null?void 0:T.meetingName,userIds:s.roomInvitePsn?he(s.roomInvitePsn,"userId"):[],enableTranslation:(X=s.roomOptions)!=null&&X.escaping?"1":"0",languageType:(J=I.roomTranslateInfo)==null?void 0:J.languageType,industryType:(ce=I.roomTranslateInfo)==null?void 0:ce.industryType});if(ee.code!==200&&ee.code!==401){w.error(ee.msg),L.updateBtnLoading(!1);return}H(ee.data)}catch{L.updateBtnLoading(!1)}},M=()=>{s.updateRoomOptions({video:!1,audio:!0,loudspeaker:!0}),S.value=!0},g=()=>{S.value=!1},c=u=>{s.updateRoomOptions({meetingName:u==null?void 0:u.subject,meetingNo:u==null?void 0:u.meetingNo,cloudRecord:(u==null?void 0:u.recordStatus)===1,abstract:(u==null?void 0:u.aiStatus)===1,escaping:(u==null?void 0:u.escaping)===1,organizer:u==null?void 0:u.masterName,video:!1,audio:!0,loudspeaker:!0}),t.value=!0},m=()=>{t.value=!1},E=async u=>{var P,T,X,J,ce,ee,be;const _=await s.ThImEvent.joinMeeting({meetingNo:u.meetingNo,forceEntryStatus:0,inviters:[]});if(_.code!==200&&_.code!==401){_.code===$e.OTHER_CLIENT_JOINED_MEETING||_.code===$e.OTHER_CLIENT_IN_MEETING?(s.updateForceEntryMeetingInfo({meetingNo:u.meetingNo,invitor:[]}),I.updateRoomTranslateInfo({...I.roomTranslateInfo,..._.data,open:!!((P=_.data)!=null&&P.enableTranslation)}),ue.emit("Chat-Other-Client-Joined-Meeting"),m()):w.error(_.msg);return}I.updateRoomTranslateInfo({...I.roomTranslateInfo,languageType:(T=_.data)==null?void 0:T.languageType,industryType:(X=_.data)==null?void 0:X.industryType,..._.data,open:!!((J=_.data)!=null&&J.enableTranslation)}),s.ThImEvent.roomMenuOptions={video:(ce=s.roomOptions)==null?void 0:ce.video,audio:(ee=s.roomOptions)==null?void 0:ee.audio,loudspeaker:(be=s.roomOptions)==null?void 0:be.loudspeaker},s.ThImEvent.setRoomOnlineListPsn(v.memberList),s.ThImEvent.setRoomOnlineGroupPsn(v.memberGroupList),t.value&&m(),S.value&&g(),s.updateAssistVisible(!0)},z=async()=>{var u;await ct(1e3*.3),(u=Z.value)==null||u.handleGetMeetingList()},U=C(null),Q=u=>{D.value=!0,u?U.value=u:U.value=null},Y=()=>{D.value=!1,Z.value&&Z.value.handleGetMeetingList()},A=C(!1),a=()=>{A.value=!0},f=()=>{A.value=!1},R=u=>{f(),s.updateSchedulePsn(u)},j=C(!1),x=()=>{j.value=!0},G=()=>{j.value=!1,z()},B=C(),W=C(!1),ve=()=>{B.value=null,W.value=!1},F=u=>{console.log("handleLinkShareModalOpen",u),B.value=u,W.value=!0},K=C(!1),b=()=>{B.value=null,K.value=!1},re=u=>{console.log("handleQrCodeModalOpen",u),B.value=u,K.value=!0},ie=()=>{ue.on("meeting-list-update",z)},Ve=()=>{ue.off("meeting-list-update",z)};return fe(()=>{Ve()}),de(()=>{ie()}),(u,_)=>{const P=et;return i(),h("div",ys,[e("div",Ms,[e("div",ks,[d(Do,{onHandleQuickMeetingOpen:p,onHandleScheduleOpen:Q,onHandleLongtimeOpen:x,onHandleJoinMeetingOpen:M})]),e("div",Cs,[d($s,{ref_key:"meetingListRef",ref:Z,onOpenLinkShare:F,onOpenQrCode:re,onHandleJoinMeetingOpen:c,onHandleScheduleOpen:Q},null,512)])]),k.value?(i(),q(P,{key:0,visible:k.value,"onUpdate:visible":_[0]||(_[0]=T=>k.value=T),footer:!1,closable:!1,class:"customModal"},{default:r(()=>[d(dt,{onHandleCall:y,onHandleClose:$})]),_:1},8,["visible"])):O("",!0),D.value?(i(),q(P,{key:1,visible:D.value,"onUpdate:visible":_[1]||(_[1]=T=>D.value=T),footer:!1,closable:!1,class:"customModal"},{default:r(()=>[d(vt,{"meeting-detail":U.value,onHandleClose:Y,onHandleInviteOpen:a},null,8,["meeting-detail"])]),_:1},8,["visible"])):O("",!0),S.value?(i(),q(P,{key:2,visible:S.value,"onUpdate:visible":_[2]||(_[2]=T=>S.value=T),footer:!1,closable:!1,class:"customModal"},{default:r(()=>[S.value?(i(),q(jt,{key:0,onHandleClose:g,onHandleJoinMeeting:E})):O("",!0)]),_:1},8,["visible"])):O("",!0),t.value?(i(),q(P,{key:3,visible:t.value,"onUpdate:visible":_[3]||(_[3]=T=>t.value=T),footer:!1,closable:!1,class:"customModal"},{default:r(()=>[t.value?(i(),q(mt,{key:0,onHandleClose:m,onHandleJoinMeeting:E})):O("",!0)]),_:1},8,["visible"])):O("",!0),j.value?(i(),q(P,{key:4,visible:j.value,"onUpdate:visible":_[4]||(_[4]=T=>j.value=T),footer:!1,closable:!1,class:"customModal"},{default:r(()=>[d(un,{onHandleClose:G,onHandleInviteOpen:a})]),_:1},8,["visible"])):O("",!0),A.value?(i(),q(P,{key:5,visible:A.value,"onUpdate:visible":_[5]||(_[5]=T=>A.value=T),footer:!1,closable:!1,class:"customModal"},{default:r(()=>[d(_t,{"select-psn":l(s).schedulePsn,onHandleClose:f,onHandleInvite:R},null,8,["select-psn"])]),_:1},8,["visible"])):O("",!0),W.value?(i(),q(P,{key:6,visible:W.value,"onUpdate:visible":_[6]||(_[6]=T=>W.value=T),footer:!1,closable:!1,class:"customModal"},{default:r(()=>[W.value?(i(),q(Tn,{key:0,"meeting-detail":B.value,onHandleClose:ve},null,8,["meeting-detail"])):O("",!0)]),_:1},8,["visible"])):O("",!0),K.value?(i(),q(P,{key:7,visible:K.value,"onUpdate:visible":_[7]||(_[7]=T=>K.value=T),footer:!1,closable:!1,class:"customModal qrCodeModal"},{default:r(()=>[K.value?(i(),q(Xn,{key:0,"meeting-detail":B.value,onHandleClose:b},null,8,["meeting-detail"])):O("",!0)]),_:1},8,["visible"])):O("",!0)])}}});const js=oe(Is,[["__scopeId","data-v-ed734529"]]);export{js as default};
