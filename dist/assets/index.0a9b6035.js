import{d as g,C as p,D as f,E as e,u as m,j as k,aN as u,aI as s,aH as l,aM as A,aW as C,b3 as M,ba as z,bh as E,aX as L,b6 as U,bi as j,bb as D,o as R,G as q}from"./arco.7c13ffb5.js";import{_ as v,v as G,u as W,s as H,a as O,b as X,c as J,d as K,i as Q}from"./index.56b53071.js";import{u as Y,F as Z,l as ee}from"./loading.d7114041.js";import{f as oe,g as se}from"./vue.671e172d.js";import"./chart.a30fa8da.js";/* empty css              */const ae="/assist/assets/banner_bg.3eeb59ed.png",ne={class:"banner"},te={class:"banner-bot"},re=["src"],le=g({__name:"banner",setup(h){return(c,t)=>(p(),f("div",ne,[t[0]||(t[0]=e("div",{class:"banner-inner"},[e("div",{class:"banner-inner-t"},[e("span",null,"\u8FDC\u7A0B\u534F\u52A9")]),e("div",{class:"banner-inner-b"},[e("span",null,"\u591A\u4EBAAR\u7B2C\u4E00\u89C6\u89D2\u534F\u52A9")])],-1)),e("div",te,[e("img",{src:m(ae),alt:""},null,8,re)])]))}});const ie=v(le,[["__scopeId","data-v-2840fe52"]]),de={class:"login-form-wrapper"},ue={class:"login-form-title"},ce={class:"login-form-forget-password"},me={class:"login-form-protocol-actions"},_e=g({__name:"login-form",setup(h){const{t:c}=G.exports.useI18n(),t=oe(),d=k(""),{loading:b,setLoading:y}=Y(),P=W(),w=se("login-config",{companyNo:"",username:"",password:"",agreeProtocol:!0}),r=k({...w.value}),V=async({errors:o,values:a})=>{if(!b.value&&!o){if(!a.agreeProtocol){C.warning(c("login.form.agreeProtocol.text1"));return}y(!0);try{const n=await P.login(a);if(n.code!==200&&n.code!==401){C.error(n.msg);return}w.value={...a},H(),O(n.data.tokenType),X(n.data.token),J(n.data.refreshToken),t.push({name:"MessageList"})}catch(n){d.value=n.message}finally{y(!1)}}},I=o=>{r.value.agreeProtocol=o},F=()=>{t.push({path:"/ForgetPassword"})},S=()=>{const o=t.resolve({path:"/Protocol"}).href;window.open(o,"_blank")};return(o,a)=>{const n=M,_=z,N=E,B=L,$=U,T=j,x=D;return p(),f("div",de,[e("div",ue,u(o.$t("login.form.title")),1),s(x,{ref:"loginForm",model:r.value,class:"login-form",layout:"vertical",onSubmit:V},{default:l(()=>[s(_,{field:"companyNo",rules:[{required:!0,message:o.$t("login.form.userCompany.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:l(()=>[s(n,{modelValue:r.value.companyNo,"onUpdate:modelValue":a[0]||(a[0]=i=>r.value.companyNo=i),size:"large",placeholder:o.$t("login.form.userCompany.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),s(_,{field:"username",rules:[{required:!0,message:o.$t("login.form.userName.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:l(()=>[s(n,{modelValue:r.value.username,"onUpdate:modelValue":a[1]||(a[1]=i=>r.value.username=i),size:"large",placeholder:o.$t("login.form.userName.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),s(_,{field:"password",rules:[{required:!0,message:o.$t("login.form.password.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:l(()=>[s(N,{modelValue:r.value.password,"onUpdate:modelValue":a[2]||(a[2]=i=>r.value.password=i),size:"large",placeholder:o.$t("login.form.password.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),e("div",ce,[e("span",{class:"text-no-select",onClick:F},u(o.$t("login.form.forget.password")),1)]),s($,{size:48,direction:"vertical",class:"btn-main"},{default:l(()=>[s(B,{type:"primary",size:"large","html-type":"submit",long:"",loading:m(b)},{default:l(()=>[A(u(o.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1}),s($,{size:48},{default:l(()=>[e("div",me,[s(T,{modelValue:r.value.agreeProtocol,"onUpdate:modelValue":a[3]||(a[3]=i=>r.value.agreeProtocol=i),checked:"agreeProtocol",onChange:I},{default:l(()=>[e("span",null,u(o.$t("login.form.agreeProtocol")),1)]),_:1},8,["modelValue","onChange"]),e("span",{class:"protocolBlue",onClick:S},u(o.$t("login.form.agreeProtocol.text")),1)])]),_:1})]),_:1},8,["model"])])}}});const ge=v(_e,[["__scopeId","data-v-daf5f300"]]),pe={class:"logo"},fe=["src"],ve={class:"content"},he={class:"content-left"},be={class:"content-right"},ye={class:"footer"},we=g({__name:"index",setup(h){const c=K();return R(()=>{var t,d;Q()&&((d=(t=window==null?void 0:window.$wujie)==null?void 0:t.bus)==null||d.$emit("REPEAT_LOGIN",{name:"login"}))}),(t,d)=>(p(),f("div",{class:"container wsl-scroll",style:q({backgroundImage:`url(${m(ee)})`})},[e("div",pe,[e("img",{alt:"logo",src:m(c).platformConfig.logo},null,8,fe)]),e("div",ve,[e("div",he,[s(ie)]),e("div",be,[s(ge)])]),e("div",ye,[s(Z)])],4))}});const Fe=v(we,[["__scopeId","data-v-97d774f6"]]);export{Fe as default};
