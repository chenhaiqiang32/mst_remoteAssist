import{a9 as ae,v as ne,E as ue,_ as oe,am as Le,u as he,ad as Ne,ab as He,an as qe,ac as De,aa as Ze,d as je,ah as ye}from"./index.56b53071.js";import{d as se,j as S,C as c,D as f,E as e,u as a,aN as o,aI as d,F as le,aW as O,b3 as ke,c as $e,a as Ee,w as ze,o as de,b as fe,aH as u,aK as me,aJ as ve,aE as D,aF as V,aM as te,ba as Pe,b7 as Ce,b6 as Ie,aV as Ae,b8 as Re,b9 as Ue,bb as Fe,aX as Se,H as Je,G as Me,bK as we,bL as Qe,bM as Ge,bO as Be,aS as ge,bq as Ye,br as We,bc as Ke}from"./arco.7c13ffb5.js";import{d as Te,e as Xe,m as et,h as tt,v as nt,j as ot,k as st,l as lt,n as _e,q as Oe,s as at}from"./icon_volume_1.11c747fb.js";import{o as it}from"./index.4818ad0f.js";import{l as ct,h as dt,j as rt}from"./html2canvas.esm.7ed028a9.js";import{d as ut,s as mt}from"./schedule.d06c593f.js";import{I as vt}from"./invite.42d13073.js";import{c as xe}from"./icon_close.f7fee805.js";import{M as pt}from"./icon-default-meeting.b97f4f32.js";import"./chart.a30fa8da.js";import"./vue.671e172d.js";/* empty css               */const gt={class:"room-join-options-container"},_t={class:"room-options-c"},ht=["src"],ft={class:"room-options-header"},bt={class:"room-options-h-t"},yt={class:"room-options-h-n"},$t={class:"room-options-h-n-t"},Mt={class:"room-options-main"},kt={class:"room-options-m-it"},Ct=["src"],It={class:"room-options-m-ib text-ellipsis"},St={class:"room-options-m-it"},wt=["src"],Tt={class:"room-options-m-ib text-ellipsis"},Ot={class:"room-options-m-it"},xt=["src"],Vt={class:"room-options-m-ib text-ellipsis"},Lt={class:"room-options-f"},Nt=se({__name:"join",emits:["handleClose","handleJoinMeeting"],setup(j,{emit:v}){const s=ae(),w=v,{t:g}=ne.exports.useI18n();S(!1);const n=S({...s.roomOptions,meetingNo:""}),L=S(null),T=()=>{L.value&&(L.value.getTracks().forEach(k=>k.stop()),L.value=null)},t=()=>{T(),n.value.meetingNo="",w("handleClose")},N=async()=>{n.value.audio=!n.value.audio;try{n.value.audio&&(L.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})),T()}catch{n.value.audio=!1,O.error(g("meeting.modal.option.devices.audio"))}},H=async()=>{n.value.video=!n.value.video;try{n.value.video&&(L.value=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})),T()}catch{n.value.video=!n.value.video,O.error(g("meeting.modal.option.devices.video"))}},I=()=>{n.value.loudspeaker=!n.value.loudspeaker},M=()=>{console.log("handleClearSpace",n.value.meetingNo),n.value.meetingNo=n.value.meetingNo.replace(/\s+/g,"")},q=Te(async()=>{!n.value.meetingNo||(ue.emit("meeting-notification-close"),s.updateRoomOptions(n.value),w("handleJoinMeeting",{meetingNo:n.value.meetingNo}))},1e3);return(k,b)=>{const y=ke;return c(),f("div",gt,[e("div",_t,[e("div",{class:"room-fixed",onClick:t},[e("img",{src:a(Xe),alt:""},null,8,ht)]),e("div",ft,[e("div",bt,[e("span",null,o(a(g)("meeting.menu.jrhy")),1)]),e("div",yt,[e("div",$t,[e("span",null,o(a(g)("meeting.qr.code.modal.desc")),1),b[2]||(b[2]=e("span",{class:"required"},"*",-1))]),d(y,{modelValue:n.value.meetingNo,"onUpdate:modelValue":b[0]||(b[0]=i=>n.value.meetingNo=i),placeholder:a(g)("meeting.room.option.meeting.join.title"),onInput:M},null,8,["modelValue","placeholder"])])]),e("div",Mt,[e("div",{class:"room-options-m-i",onClick:N},[e("div",kt,[e("img",{src:n.value.audio?a(et):a(tt),alt:""},null,8,Ct)]),e("div",It,o(a(g)("meeting.menu.mkf")),1)]),e("div",{class:"room-options-m-i",onClick:H},[e("div",St,[e("img",{src:n.value.video?a(nt):a(ot),alt:""},null,8,wt)]),e("div",Tt,o(a(g)("meeting.menu.sxt")),1)]),e("div",{class:"room-options-m-i",onClick:I},[e("div",Ot,[e("img",{src:n.value.loudspeaker?a(st):a(lt),alt:""},null,8,xt)]),e("div",Vt,o(a(g)("meeting.menu.ysq")),1)])]),e("div",Lt,[e("div",{class:le(["room-options-btn",n.value.meetingNo?"active":""]),onClick:b[1]||(b[1]=(...i)=>a(q)&&a(q)(...i))},[e("span",null,o(a(g)("meeting.room.option.meeting.join")),1)],2)])])])}}});const Ht=oe(Nt,[["__scopeId","data-v-a6d226e8"]]),qt={class:"longtime-options-container modal-container"},Dt=["src"],Zt={class:"modal-title"},jt={class:"modal-main wsl-scroll"},Et={class:"users-main"},zt={class:"users-main-header"},Pt={class:"user-main-header-left"},At={class:"user-main-header-right-icon"},Rt={class:"user-main-header-right-label"},Ut={class:"users-main-body"},Ft={key:0,class:"users-main-body-main"},Jt={class:"users-main-body-main-item-top"},Qt=["src"],Gt={class:"users-main-body-main-item-bot textEllipsis"},Bt=["onClick"],Yt=["src"],Wt={key:1,class:"users-main-body-no-data"},Kt={class:"bx"},Xt={key:0,class:"ax"},en={class:"label"},tn=["src"],nn={key:1,class:"ax"},on={class:"label"},sn={class:"bx"},ln={class:"bx"},an={class:"modal-bot"},cn=se({__name:"longtime",emits:["handleClose","handleInviteOpen"],setup(j,{emit:v}){const s=ae(),{t:w,locale:g}=ne.exports.useI18n(),n=$e(()=>{var i;return(i=s.industryList)==null?void 0:i.map(r=>({label:g.value==="zh-CN"?r.value:r.english,value:r.label}))}),L=$e(()=>{var i;return(i=s.languageList)==null?void 0:i.map(r=>({...r,label:g.value==="zh-CN"?r.value:r.english,value:r.label,ctry:r.flagUrl}))}),T=v,t=S({subject:"",userIds:[],recordStatus:"0",aiStatus:"0",escaping:"0",voiceTranslation:!1,languageType:"cn",industryType:"default"});Ee(()=>{var r;((r=L.value)==null?void 0:r.some(E=>E.type==="aliyun"))&&(t.value.languageType="zh")});const N=S(t.value.recordStatus==="1"),H=S(t.value.aiStatus==="1"),I=S(t.value.escaping==="1"),M=()=>{t.value={subject:"",userIds:[],recordStatus:"0",aiStatus:"0",escaping:"0"},s.updateSchedulePsn([])},p=()=>{t.value.userIds=_e(s.schedulePsn,"userId")},q=()=>{M(),T("handleClose")},k=()=>{T("handleInviteOpen")},b=i=>{s.schedulePsn.splice(i,1)},y=async()=>{var r;const i=await s.createLongtimeMeeting({...t.value,enableTranslation:(r=t.value)!=null&&r.escaping?"1":"0"});if(i.code!==200&&i.code!==401){O.error(i.msg);return}O.success(w("meeting.schedule.message.success")),q()};return ze(()=>[N.value,H.value,I.value,s.schedulePsn],i=>{i[0]?t.value.recordStatus="1":t.value.recordStatus="0",i[1]?t.value.aiStatus="1":t.value.aiStatus="0",i[2]?t.value.escaping="1":t.value.escaping="0",i[3]&&p()},{deep:!0}),de(()=>{p()}),fe(()=>{M()}),(i,r)=>{const E=ke,z=Pe,F=Le,Q=Ce,Y=Ie,A=Ae,l=Re,h=Ue,R=Fe,Z=Se;return c(),f("div",qt,[e("div",{class:"modal-fixed",onClick:q},[e("img",{src:a(xe),alt:""},null,8,Dt)]),e("div",Zt,o(i.$t("meeting.longtime.modal.title")),1),e("div",jt,[d(R,{model:t.value,layout:"vertical"},{default:u(()=>[d(z,{field:"subject",label:i.$t("meeting.schedule.form.subject")},{default:u(()=>[d(E,{modelValue:t.value.subject,"onUpdate:modelValue":r[0]||(r[0]=C=>t.value.subject=C),"max-length":255,placeholder:i.$t("meeting.schedule.form.placeholder.schedule")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e("div",Et,[e("div",zt,[e("div",Pt,[e("span",null,o(i.$t("meeting.schedule.form.member")),1)]),e("div",{class:"user-main-header-right",onClick:k},[e("div",At,[d(F)]),e("div",Rt,[e("span",null,o(i.$t("meeting.schedule.form.btn.add")),1)])])]),e("div",Ut,[t.value.userIds&&t.value.userIds.length>0?(c(),f("div",Ft,[d(Y,{size:10,wrap:""},{default:u(()=>[(c(!0),f(me,null,ve(a(s).schedulePsn,(C,G)=>(c(),f("div",{key:`user_${C.userId}_${G}`,class:"users-main-body-main-item"},[e("div",Jt,[e("img",{src:C.avatarUrl,alt:"avatar"},null,8,Qt)]),d(Q,{content:C.name},{default:u(()=>[e("div",Gt,o(C.name),1)]),_:2},1032,["content"]),e("div",{class:"users-main-body-main-item-fixed",onClick:B=>b(G)},[e("img",{src:a(ut),alt:"del"},null,8,Yt)],8,Bt)]))),128))]),_:1})])):(c(),f("div",Wt,[e("span",null,o(i.$t("meeting.schedule.form.placeholder.member")),1)]))])]),d(z,{style:{"margin-bottom":"0"},"content-class":"longtime-checkbox longtime-checkbox-voice"},{default:u(()=>[e("div",Kt,[e("span",null,o(i.$t("meeting.schedule.form.voiceTranslation")),1),d(A,{modelValue:t.value.voiceTranslation,"onUpdate:modelValue":r[1]||(r[1]=C=>t.value.voiceTranslation=C),size:"small"},null,8,["modelValue"])]),t.value.voiceTranslation?(c(),f("div",Xt,[e("div",en,o(i.$t("meeting.schedule.form.myLanguage")),1),e("div",null,[d(h,{modelValue:t.value.languageType,"onUpdate:modelValue":r[2]||(r[2]=C=>t.value.languageType=C)},{default:u(()=>[(c(!0),f(me,null,ve(L.value,C=>(c(),D(l,{class:"st-img",value:C.value},{default:u(()=>[e("img",{src:C.ctry},null,8,tn),e("span",null,o(C.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])])):V("",!0),t.value.voiceTranslation&&n.value.length>0?(c(),f("div",nn,[e("div",on,o(i.$t("meeting.schedule.form.thesaurus")),1),e("div",null,[d(h,{modelValue:t.value.industryType,"onUpdate:modelValue":r[3]||(r[3]=C=>t.value.industryType=C),options:n.value},null,8,["modelValue","options"])])])):V("",!0)]),_:1}),d(z,{"content-class":"longtime-checkbox","hide-label":""},{default:u(()=>[e("div",sn,[e("span",null,o(i.$t("meeting.schedule.form.cloud.record")),1),d(A,{modelValue:N.value,"onUpdate:modelValue":r[4]||(r[4]=C=>N.value=C),size:"small"},null,8,["modelValue"])]),e("div",ln,[e("span",null,o(i.$t("meeting.schedule.form.ai.summary")),1),d(A,{modelValue:H.value,"onUpdate:modelValue":r[5]||(r[5]=C=>H.value=C),size:"small"},null,8,["modelValue"])])]),_:1})]),_:1},8,["model"])]),e("div",an,[d(Z,{class:"modal-btn-item",onClick:q},{default:u(()=>[te(o(i.$t("meeting.schedule.form.btn.cancel")),1)]),_:1}),d(Z,{class:"modal-btn-item",type:"primary",onClick:y},{default:u(()=>[te(o(i.$t("meeting.longtime.form.btn.longtime")),1)]),_:1})])])}}});const dn=oe(cn,[["__scopeId","data-v-0b159dda"]]),rn={class:"link-modal-container"},un=["src"],mn={class:"link-m-t borderB"},vn={class:"link-m-m"},pn={class:"link-m-m-m"},gn={class:"link-m-m-mt"},_n={class:"name"},hn={class:"link-m-m-md"},fn={class:"link-m-m-mm"},bn={key:0},yn={key:1},$n={class:"link-m-m-mf"},Mn={class:"link-m-m-mb"},kn={class:"link-m-b"},Cn={class:"link-m-b-btn"},In=se({__name:"share",props:{meetingDetail:{}},emits:["handleClose"],setup(j,{emit:v}){const s=v,w=ae(),g=he(),{t:n}=ne.exports.useI18n(),T=S({...j.meetingDetail}),t=S(null),N=()=>{s("handleClose")},H=async()=>{const y=await w.getMeetingShareInfo({meetingNo:T.value.meetingNo});if(y.code!==200&&y.code!==401){O.error(y.msg);return}t.value=y.data},I=y=>{if(!y)return"";const i=new Date(y),r=i.getHours(),E=i.getMinutes();return`${r<10?"0":""}${r}:${E<10?"0":""}${E}`},M=y=>{if(!y)return"";const i=new Date(y),r=i.getFullYear(),E=i.getMonth()+1,z=i.getDate();return`${r}-${E<10?"0":""}${E}-${z<10?"0":""}${z}`},{isWujie:p,Copy:q}=Ne(),k=()=>{const y=(t==null?void 0:t.value.planType)===1||(t==null?void 0:t.value.planType)===0?`${M(t==null?void 0:t.value.startTime)} ${I(t==null?void 0:t.value.startTime)} \uFF5E ${M(t==null?void 0:t.value.endTime)} ${I(t==null?void 0:t.value.endTime)}`:n("meeting.invite.link.modal.text6"),i=`${g.name} ${n("meeting.invite.link.modal.text1")} 
${n("meeting.invite.link.modal.text2")}: ${t.value.subject} 
${n("meeting.invite.link.modal.text5")}: ${y} 
${n("meeting.invite.link.modal.text4")}: ${t.value.meetingNo} 
${n("meeting.invite.link.modal.text3")}: ${t.value.inviteUrl} `;if(p.value){q(i),O.success(n("meeting.invite.link.modal.msg.copy.success"));return}navigator.clipboard.writeText(i).then(()=>{O.success(n("meeting.invite.link.modal.msg.copy.success"))}).catch(r=>{console.log(r),O.error(n("meeting.invite.link.modal.msg.copy.fail"))})},b=()=>{const y=`${t.value.inviteUrl}`;if(p.value){q(y),O.success(n("meeting.invite.link.modal.msg.copy.success"));return}navigator.clipboard.writeText(y).then(()=>{O.success(n("meeting.invite.link.modal.msg.copy.success"))}).catch(i=>{console.log(i),O.error(n("meeting.invite.link.modal.msg.copy.fail"))})};return de(()=>{H()}),(y,i)=>{var r,E,z,F,Q,Y,A,l,h,R,Z,C;return c(),f("div",rn,[e("div",{class:"link-fixed",onClick:N},[e("img",{src:a(xe),alt:""},null,8,un)]),e("div",mn,o(a(n)("meeting.invite.link.modal.title")),1),e("div",vn,[e("div",pn,[e("div",gn,[e("span",_n,o((r=t.value)==null?void 0:r.name),1),e("span",null,o(a(n)("meeting.invite.link.modal.text1")),1)]),e("div",hn,[e("span",null,o(a(n)("meeting.invite.link.modal.text2"))+":",1),e("span",null,o((E=t.value)==null?void 0:E.subject),1)]),e("div",fn,[e("span",null,o(a(n)("meeting.invite.link.modal.text5"))+":",1),((z=t.value)==null?void 0:z.planType)===1||((F=t.value)==null?void 0:F.planType)===0?(c(),f("span",bn,o(M((Q=t.value)==null?void 0:Q.startTime))+" "+o(I((Y=t.value)==null?void 0:Y.startTime))+" "+o((A=t.value)!=null&&A.endTime?"~":"")+" "+o(M((l=t.value)==null?void 0:l.endTime))+" "+o(I((h=t.value)==null?void 0:h.endTime)),1)):V("",!0),((R=t.value)==null?void 0:R.planType)===2?(c(),f("span",yn,o(a(n)("meeting.invite.link.modal.text6")),1)):V("",!0)]),e("div",$n,[e("span",null,o(a(n)("meeting.invite.link.modal.text4"))+":",1),e("span",null,o((Z=t.value)==null?void 0:Z.meetingNo),1)]),e("div",Mn,[e("span",null,o(a(n)("meeting.invite.link.modal.text3"))+":",1),e("span",null,o((C=t.value)==null?void 0:C.inviteUrl),1)])])]),e("div",kn,[e("div",Cn,[e("div",{class:"link-m-b-btn-i btn-border",onClick:k},[e("span",null,o(a(n)("meeting.invite.link.modal.btn.copy.all")),1)]),e("div",{class:"link-m-b-btn-i btn-bg",onClick:b},[e("span",null,o(a(n)("meeting.invite.link.modal.btn.copy.link")),1)])])])])}}});const Sn=oe(In,[["__scopeId","data-v-89b65aaa"]]),wn={width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Tn(j,v){return c(),f("svg",wn,v[0]||(v[0]=[e("circle",{cx:"16",cy:"16",r:"15.5",stroke:"#fff"},null,-1),e("g",{fill:"#fff"},[e("path",{d:"M10.258 21.742c.345.344.69.344 1.034 0l10.45-10.45c.344-.345.344-.69 0-1.034-.345-.344-.69-.344-1.034 0l-10.45 10.45c-.344.345-.344.69 0 1.034Z"}),e("path",{d:"M21.742 21.742c.344-.345.344-.69 0-1.034l-10.45-10.45c-.345-.344-.69-.344-1.034 0-.344.345-.344.69 0 1.034l10.45 10.45c.345.344.69.344 1.034 0Z"})],-1)]))}const On={render:Tn},xn={width:"14",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Vn(j,v){return c(),f("svg",xn,v[0]||(v[0]=[Je('<g fill-rule="evenodd" clip-rule="evenodd" fill="#0267FF"><path d="M5.249 3.938a.73.73 0 1 0 0 1.458.73.73 0 0 0 0-1.458Zm-1.604.729a1.604 1.604 0 1 1 3.208 0 1.604 1.604 0 0 1-3.208 0Z"></path><path d="M1.807 1.806C2.585 1.027 3.75.729 5.25.729h2.334a.438.438 0 0 1 0 .875H5.25c-1.415 0-2.292.286-2.826.82-.534.534-.82 1.411-.82 2.826v3.5c0 1.415.286 2.292.82 2.826.534.534 1.411.82 2.826.82h3.5c1.415 0 2.292-.286 2.826-.82.534-.534.82-1.41.82-2.826V5.834a.438.438 0 0 1 .875 0V8.75c0 1.502-.297 2.667-1.076 3.445-.778.778-1.943 1.076-3.445 1.076h-3.5c-1.501 0-2.666-.298-3.444-1.076C1.028 11.417.73 10.252.73 8.75v-3.5c0-1.501.298-2.666 1.077-3.444Z"></path><path d="M10.5.73c.242 0 .438.195.438.437v2.444l.42-.42a.437.437 0 1 1 .618.619l-1.167 1.166a.438.438 0 0 1-.746-.309v-3.5c0-.242.195-.438.437-.438Z"></path><path d="M9.023 3.19c.17-.17.448-.17.618 0l1.167 1.167a.438.438 0 0 1-.619.619L9.023 3.809a.438.438 0 0 1 0-.618ZM11.599 7.624a.864.864 0 0 0-1.075 0L8.097 9.706a1.738 1.738 0 0 1-2.215 0l-.004-.003-.19-.167c-.262-.223-.709-.25-1.01-.049l-2.875 1.93a.437.437 0 1 1-.488-.726l2.876-1.93c.62-.417 1.502-.375 2.069.113l.003.003.19.167a.864.864 0 0 0 1.074-.001L9.954 6.96a1.738 1.738 0 0 1 2.215 0l.95.817a.438.438 0 1 1-.57.664l-.95-.817Z"></path></g>',1)]))}const Ln={render:Vn},Nn="/assist/assets/bg_modal_1.6e7b1e7f.png",Hn="/assist/assets/bg_modal_2.cc6ad44b.png",qn={class:"qr-code-modal-container"},Dn={class:"qr-code-main"},Zn={class:"qr-code-main-top-title"},jn={class:"qr-code-main-top-desc"},En={class:"qr-code-main-top-bot"},zn={class:"qr-code-main-mid-body"},Pn={class:"qr-code-main-bot"},An={class:"qr-code-main-bot-desc"},Rn={class:"qr-code-main-bot-b-l"},Un={class:"qr-code-main-bot-b-r"},Fn=se({__name:"qr_code",props:{meetingDetail:{}},emits:["handleClose"],setup(j,{emit:v}){const s=S(null),w=v,{t:g}=ne.exports.useI18n(),n=S(!0),L=()=>{w("handleClose")},t=S({...j.meetingDetail}),N=()=>{s.value&&He.toCanvas(t.value.qrCodeStr,{errorCorrectionLevel:"H",width:180,margin:2},(I,M)=>{if(I){console.error(I);return}s.value&&s.value.appendChild(M);const p=M.getContext("2d");if(p){const k=(M.width-30)/2,b=(M.height-30)/2;p.beginPath(),p.moveTo(k+5,b),p.lineTo(k+30-5,b),p.quadraticCurveTo(k+30,b,k+30,b+5),p.lineTo(k+30,b+30-5),p.quadraticCurveTo(k+30,b+30,k+30-5,b+30),p.lineTo(k+5,b+30),p.quadraticCurveTo(k,b+30,k,b+30-5),p.lineTo(k,b+5),p.quadraticCurveTo(k,b,k+5,b),p.closePath(),p.fillStyle="#ffffff",p.fill(),p.strokeStyle="#000000",p.lineWidth=2,p.stroke();const y=new Image;y.src=ct,y.onload=()=>{p.drawImage(y,k+2.5,b+2.5,30-5,30-5)}}})},H=()=>{n.value=!1;const I=document.querySelector(".qr-code-main");I&&dt(I,{backgroundColor:null,useCORS:!0}).then(M=>{const p=document.createElement("a");p.href=M.toDataURL("image/png"),p.download=`${t.value.meetingNo}.png`,p.click(),n.value=!0}).catch(()=>{n.value=!0})};return de(()=>{N()}),fe(()=>{t.value=null}),(I,M)=>(c(),f("div",qn,[e("div",{class:"qr-code-fixed",onClick:L},[d(a(On))]),e("div",Dn,[e("div",{class:"qr-code-main-top",style:Me({backgroundImage:`url(${a(Nn)})`})},[e("div",Zn,[e("span",null,o(t.value.subject),1)]),e("div",jn,[e("span",null,o(a(g)("meeting.qr.code.modal.desc")),1)]),e("div",En,[e("span",null,o(a(Oe)(t.value.meetingNo)),1)])],4),e("div",{class:"qr-code-main-mid",style:Me({backgroundImage:`url(${a(Hn)})`})},[e("div",zn,[e("div",{ref_key:"qrCodeContainer",ref:s,class:"qr-code-container"},null,512)])],4)]),e("div",Pn,[e("div",An,[e("span",null,o(a(g)("meeting.qr.code.modal.desc1")),1)]),e("div",{class:"qr-code-main-bot-b",onClick:H},[e("div",Rn,[d(a(Ln))]),e("div",Un,[e("span",null,o(a(g)("meeting.qr.code.modal.desc2")),1)])])])]))}});const Jn=oe(Fn,[["__scopeId","data-v-16b5d05d"]]),Qn={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Gn(j,v){return c(),f("svg",Qn,v[0]||(v[0]=[e("path",{d:"M25.556 4.686 11.26 9.436c-9.61 3.215-9.61 8.456 0 11.654l4.243 1.409 1.41 4.243c3.198 9.611 8.454 9.611 11.653 0l4.766-14.281c2.121-6.413-1.362-9.912-7.775-7.775Zm.507 8.519-6.017 6.048a1.174 1.174 0 0 1-.839.349c-.3 0-.601-.111-.839-.349-.46-.459-.46-1.219 0-1.678l6.017-6.048c.459-.46 1.219-.46 1.678 0 .46.459.46 1.219 0 1.678Z",fill:"#0267FF"},null,-1)]))}const Bn={render:Gn},Yn={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Wn(j,v){return c(),f("svg",Yn,v[0]||(v[0]=[e("g",{fill:"#0267FF"},[e("path",{d:"M26.522 5.637v-2.47c0-.65-.538-1.188-1.188-1.188-.649 0-1.187.539-1.187 1.188v2.375H13.855V3.167c0-.65-.538-1.188-1.187-1.188-.65 0-1.188.539-1.188 1.188v2.47c-4.275.396-6.349 2.945-6.666 6.73-.031.458.349.838.792.838h26.79c.46 0 .84-.396.792-.839-.317-3.784-2.391-6.333-6.666-6.729ZM31.667 15.58H6.333c-.87 0-1.583.713-1.583 1.583v9.754c0 4.75 2.375 7.916 7.917 7.916h7.806a1.58 1.58 0 0 0 1.504-2.09c-.317-.918-.586-1.931-.586-2.66 0-4.797 3.91-8.708 8.708-8.708.46 0 .918.032 1.362.11a1.576 1.576 0 0 0 1.805-1.55v-2.756c-.016-.886-.728-1.599-1.6-1.599ZM14.582 28.04a1.829 1.829 0 0 1-.522.333c-.19.08-.396.127-.602.127-.206 0-.411-.047-.601-.127-.19-.079-.364-.19-.523-.332-.285-.3-.459-.713-.459-1.124 0-.095.016-.206.032-.301a.954.954 0 0 1 .095-.3c.031-.096.079-.19.142-.286.048-.08.127-.158.19-.237.159-.143.333-.254.523-.333.38-.158.823-.158 1.203 0 .19.08.364.19.522.333.064.079.143.158.19.237.064.095.111.19.143.285.048.095.08.19.095.3.016.096.032.207.032.302 0 .411-.175.823-.46 1.124Zm0-5.54a1.826 1.826 0 0 1-.522.332c-.19.079-.396.126-.602.126-.206 0-.411-.047-.601-.126a1.632 1.632 0 0 1-.523-.333c-.285-.3-.459-.712-.459-1.124 0-.412.174-.823.46-1.124.157-.143.332-.253.522-.333.38-.158.823-.158 1.203 0 .19.08.364.19.522.333.064.08.143.158.19.237.064.095.111.19.143.285.048.095.08.19.095.285.016.111.032.222.032.317 0 .412-.175.823-.46 1.124Zm5.542 0c-.3.284-.697.458-1.124.458-.206 0-.412-.047-.602-.126a1.634 1.634 0 0 1-.522-.333c-.285-.3-.46-.712-.46-1.124 0-.095.017-.206.032-.317.016-.095.048-.19.095-.285.032-.095.08-.19.143-.285l.19-.237c.586-.586 1.646-.586 2.248 0l.19.237c.064.095.111.19.143.285.047.095.079.19.095.285.015.111.031.222.031.317 0 .412-.174.823-.459 1.124Z"}),e("path",{d:"M34.564 25.602a6.345 6.345 0 0 0-8.962 0 6.345 6.345 0 0 0 0 8.962 6.345 6.345 0 0 0 8.962 0 6.345 6.345 0 0 0 0-8.962Zm-1.203 5.368a1.133 1.133 0 0 1-.84.348H31.35v1.235c0 .333-.127.618-.348.84a1.16 1.16 0 0 1-.84.348c-.649 0-1.187-.538-1.187-1.188v-1.235h-1.188c-.649 0-1.187-.522-1.187-1.187 0-.65.538-1.188 1.188-1.188h1.187V27.82c0-.649.522-1.187 1.188-1.187.649 0 1.187.538 1.187 1.187v1.124h1.172c.665 0 1.187.539 1.187 1.188 0 .332-.127.633-.348.839Z"})],-1)]))}const Kn={render:Wn},Xn={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function eo(j,v){return c(),f("svg",Xn,v[0]||(v[0]=[e("path",{d:"M32.648 13.775C31 6.445 24.604 3.167 18.999 3.167h-.015c-5.59 0-11.97 3.277-13.633 10.592-1.868 8.17 3.135 15.09 7.663 19.46A8.606 8.606 0 0 0 19 35.64a8.542 8.542 0 0 0 5.97-2.422c4.528-4.37 9.531-11.274 7.679-19.444Zm-8.455 1.314-6.334 6.334a1.175 1.175 0 0 1-.839.348c-.3 0-.601-.11-.839-.348l-2.375-2.375c-.46-.46-.46-1.22 0-1.678.46-.46 1.22-.46 1.678 0l1.536 1.535 5.494-5.494c.46-.459 1.22-.459 1.679 0 .459.46.459 1.22 0 1.678Z",fill:"#FF6C02"},null,-1)]))}const to={render:eo},no={width:"38",height:"38",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function oo(j,v){return c(),f("svg",no,v[0]||(v[0]=[e("path",{d:"M25.636 3.167H12.367c-5.763 0-9.199 3.436-9.199 9.2v13.252c0 5.779 3.436 9.215 9.2 9.215H25.62c5.763 0 9.199-3.436 9.199-9.2V12.366c.016-5.763-3.42-9.199-9.184-9.199Zm-.301 17.02h-5.146v5.147c0 .649-.538 1.187-1.188 1.187-.649 0-1.187-.538-1.187-1.187v-5.146h-5.146c-.65 0-1.188-.538-1.188-1.188 0-.649.539-1.187 1.188-1.187h5.146v-5.146c0-.65.538-1.188 1.187-1.188.65 0 1.188.539 1.188 1.188v5.146h5.146c.649 0 1.187.538 1.187 1.187 0 .65-.538 1.188-1.187 1.188Z",fill:"#0267FF"},null,-1)]))}const so={render:oo},lo={class:"menu-panel-top"},ao={class:"menu-panel-content"},io={class:"grid-meeting-type-item-b"},co={class:"grid-meeting-type-item-b-top icon1"},ro={class:"grid-meeting-type-item-b-bot"},uo={class:"grid-meeting-type-item-b"},mo={class:"grid-meeting-type-item-b-top icon2"},vo={class:"grid-meeting-type-item-b-bot"},po={class:"grid-meeting-type-item-b"},go={class:"grid-meeting-type-item-b-top icon3"},_o={class:"grid-meeting-type-item-b-bot"},ho={class:"grid-meeting-type-item-b"},fo={class:"grid-meeting-type-item-b-top icon4"},bo={class:"grid-meeting-type-item-b-bot"},yo=se({__name:"menu",emits:["handleQuickMeetingOpen","handleScheduleOpen","handleLongtimeOpen","handleJoinMeetingOpen"],setup(j,{emit:v}){const s=ae(),{t:w}=ne.exports.useI18n(),g=v,L=Te(()=>{if(s.answerInfo&&s.answerInfo.meetingNo){O.error(w("meeting.call.message.tips"));return}g("handleQuickMeetingOpen")},1e3),T=()=>{g("handleScheduleOpen")},t=()=>{g("handleLongtimeOpen")},N=()=>{if(s.answerInfo&&s.answerInfo.meetingNo){O.error(w("meeting.call.message.tips"));return}g("handleJoinMeetingOpen")};return(H,I)=>{const M=we,p=Qe,q=Ge;return c(),D(M,{class:"general-card menu-panel",bordered:!1,"body-style":{height:"100%",display:"flex",padding:0,flexFlow:"column"}},{default:u(()=>[e("div",lo,[e("span",null,o(H.$t("meeting.menu.title")),1)]),e("div",ao,[d(q,{class:"grid-meeting-type",gutter:[16,16]},{default:u(()=>[d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(M,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:a(L)},{default:u(()=>[e("div",io,[e("div",co,[d(a(Bn))]),e("div",ro,[e("span",null,o(H.$t("meeting.menu.kshy")),1)])])]),_:1},8,["onClick"])]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(M,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:T},{default:u(()=>[e("div",uo,[e("div",mo,[d(a(Kn))]),e("div",vo,[e("span",null,o(H.$t("meeting.menu.yyhy")),1)])])]),_:1})]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(M,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:t},{default:u(()=>[e("div",po,[e("div",go,[d(a(to))]),e("div",_o,[e("span",null,o(H.$t("meeting.menu.cqhy")),1)])])]),_:1})]),_:1}),d(p,{xs:12,sm:12,md:6,lg:12,xl:12,xxl:12,span:12},{default:u(()=>[d(M,{class:"grid-meeting-type-item",bordered:!0,hoverable:"",onClick:N},{default:u(()=>[e("div",ho,[e("div",fo,[d(a(so))]),e("div",bo,[e("span",null,o(H.$t("meeting.menu.jrhy")),1)])])]),_:1})]),_:1})]),_:1})])]),_:1})}}});const $o=oe(yo,[["__scopeId","data-v-25711f67"]]),Mo={width:"28",height:"28",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ko(j,v){return c(),f("svg",Mo,v[0]||(v[0]=[e("g",{fill:"#FF6C02"},[e("path",{d:"M24.464 12.098v3.722a4.9 4.9 0 0 1-4.9 4.9H15.41c-.641 0-1.166.513-1.166 1.167v.956a1.17 1.17 0 0 0 1.166 1.167h2.637c.455 0 .828.362.828.828a.832.832 0 0 1-.828.829H8.784a.832.832 0 0 1-.829-.829c0-.466.374-.828.829-.828h2.636a1.17 1.17 0 0 0 1.167-1.167v-.956c0-.654-.525-1.167-1.167-1.167h-4.2a4.897 4.897 0 0 1-4.888-4.9V8.388A4.894 4.894 0 0 1 7.22 3.5h5.029a1.17 1.17 0 0 1 1.166 1.167v2.508c0 2.252 1.505 3.757 3.745 3.757h6.137a1.17 1.17 0 0 1 1.167 1.166Z"}),e("path",{d:"m25.656 2.753-1.318.922v-.49a1.994 1.994 0 0 0-1.995-1.995H17.35a2.168 2.168 0 0 0-2.182 2.17v3.826c0 1.004.502 1.995 1.995 1.995h5.168a1.994 1.994 0 0 0 1.995-1.995v-.501l1.319.921c.665.455 1.19.175 1.19-.618V3.37c0-.793-.525-1.061-1.179-.618Z"})],-1)]))}const Co={render:ko},Io="/assist/assets/no_record.568a47cc.png",So={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function wo(j,v){return c(),f("svg",So,v[0]||(v[0]=[e("g",{"clip-rule":"evenodd"},[e("path",{class:"svg-fill",d:"M14.488 1.513a.5.5 0 0 1 0 .707L9.022 7.686a.5.5 0 1 1-.708-.707l5.467-5.466a.5.5 0 0 1 .707 0Z"}),e("path",{class:"svg-fill",d:"M10.965 1.333a.5.5 0 0 1 .5-.5h3.2a.5.5 0 0 1 .5.5v3.2a.5.5 0 1 1-1 0v-2.7h-2.7a.5.5 0 0 1-.5-.5ZM2.062 2.063c.89-.89 2.22-1.23 3.937-1.23h1.333a.5.5 0 0 1 0 1H5.999c-1.618 0-2.62.327-3.23.937-.61.61-.937 1.612-.937 3.23v4c0 1.617.327 2.62.937 3.23.61.61 1.612.936 3.23.936h4c1.617 0 2.62-.326 3.23-.937.61-.61.936-1.612.936-3.23V8.667a.5.5 0 1 1 1 0V10c0 1.716-.34 3.047-1.23 3.937-.89.89-2.22 1.23-3.936 1.23h-4c-1.716 0-3.048-.34-3.937-1.23-.89-.89-1.23-2.221-1.23-3.937V6c0-1.716.34-3.048 1.23-3.937Z"})],-1)]))}const To={render:wo},Oo={width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function xo(j,v){return c(),f("svg",Oo,v[0]||(v[0]=[e("g",{fill:"#32466A"},[e("path",{d:"M5.57 2.167a.68.68 0 0 1 .68.68V5.57a.68.68 0 0 1-.68.681H2.847a.68.68 0 0 1-.68-.68V2.847a.68.68 0 0 1 .68-.68H5.57ZM5.57 1H2.847A1.85 1.85 0 0 0 1 2.847V5.57a1.85 1.85 0 0 0 1.847 1.848H5.57A1.85 1.85 0 0 0 7.417 5.57V2.847A1.85 1.85 0 0 0 5.57 1Zm7.583 1.167a.68.68 0 0 1 .68.68V5.57a.68.68 0 0 1-.68.681H10.43a.68.68 0 0 1-.681-.68V2.847a.68.68 0 0 1 .68-.68h2.723Zm0-1.167H10.43a1.85 1.85 0 0 0-1.848 1.847V5.57a1.85 1.85 0 0 0 1.848 1.848h2.722A1.85 1.85 0 0 0 15 5.57V2.847A1.85 1.85 0 0 0 13.153 1ZM5.57 9.75a.68.68 0 0 1 .68.68v2.723a.68.68 0 0 1-.68.68H2.847a.68.68 0 0 1-.68-.68V10.43a.68.68 0 0 1 .68-.681H5.57Zm0-1.167H2.847A1.85 1.85 0 0 0 1 10.431v2.722A1.85 1.85 0 0 0 2.847 15H5.57a1.85 1.85 0 0 0 1.848-1.847V10.43A1.85 1.85 0 0 0 5.57 8.583Z"}),e("path",{d:"M3.625 4.208a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM3.625 11.791a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM11.207 4.208a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM13.832 14.416a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0ZM11.5 14.416a.583.583 0 1 0 1.167 0 .583.583 0 0 0-1.167 0Z"}),e("path",{d:"M14.415 8.583a.583.583 0 0 0-.583.583V11.5h-1.167V9.166a.583.583 0 0 0-.583-.583H9.165a.583.583 0 0 0-.583.583v5.25a.583.583 0 1 0 1.167 0V9.75h1.75v2.333a.583.583 0 0 0 .583.583h2.333a.583.583 0 0 0 .584-.583V9.166a.583.583 0 0 0-.584-.583Z"})],-1)]))}const Vo={render:xo},Lo={key:0,class:"list-panel"},No={class:"list-panel-top"},Ho={class:"list-panel-main wsl-scroll"},qo={class:"list-panel-main-item-top"},Do={class:"list-panel-main-item-content"},Zo=["onMouseenter"],jo={class:"list-panel-main-item-content-item-left"},Eo={class:"list-panel-main-item-content-item-right-left"},zo={class:"list-panel-main-item-content-item-right-left-top textEllipsis"},Po={class:"list-panel-main-item-content-item-right-left-bot"},Ao={class:"list-panel-main-item-content-item-right-left-bot-i"},Ro=["src"],Uo={class:"list-panel-main-item-content-item-right-left-bot-i"},Fo={class:"list-panel-main-item-content-item-right-left-bot-i"},Jo={key:0,class:"list-panel-main-item-content-item-right-right"},Qo={class:"btn-del"},Go={key:1,class:"no-data"},Bo={class:"no-data-body"},Yo=["src"],Wo={class:"no-data-body-text"},Ko=se({__name:"list",emits:["openLinkShare","openQrCode","handleJoinMeetingOpen","handleScheduleOpen"],setup(j,{expose:v,emit:s}){const w=s,{t:g}=ne.exports.useI18n(),n=ae(),L=S([]),T=he(),t=S(!0),N=S({planId:""}),H=l=>{const h=ge(),R=ge(l),Z=R.format("YYYY-MM-DD");return R.isSame(h,"day")?`${g("today")}`:Z},I=l=>ge(l).format("YYYY-MM-DD HH:mm"),M=l=>g(l===1?"meeting.list.long.status.jxz":"meeting.list.long.status.dks"),p=l=>l===1?"jxz":l===0?"dks":"",q=async()=>{const l=await n.getMeetingGroupList();if(l.code!==200&&l.code!==401){O.error(l.msg);return}L.value=l.data},k=async l=>{const h=await n.delMeetingPlan({planId:l.planId});h.code!==200&&h.code!==401?O.error(h.msg):O.success(g("meeting.list.long.delete")),q()},b=async l=>{const h=await n.delMeetingPlan({planId:l.planId});h.code!==200&&h.code!==401?O.error(h.msg):O.success(g("meeting.list.long.cancel")),q()},y=async l=>{const h=await n.overMeetingPlan({planId:l.planId});if(h.code!==200&&h.code!==401){O.error(h.msg),q();return}O.success(g("meeting.list.long.cancel")),q()},i=async l=>{const h=await n.getMeetingDetail(l);if(h.code!==200&&h.code!==401){O.error(h.msg);return}w("handleScheduleOpen",h.data)},r=l=>{l.command===1?b(l.data):l.command===2?y(l.data):l.command===3?i(l.data):l.command===4&&k(l.data)},E=l=>{t.value&&(N.value=l)},z=()=>{t.value&&(N.value="")},F=l=>{t.value=!l,l||z()},Q=l=>{if(n.answerInfo&&n.answerInfo.meetingNo){O.error(g("meeting.call.message.tips"));return}w("handleJoinMeetingOpen",l)},Y=l=>{w("openLinkShare",l)},A=l=>{w("openQrCode",l)};return de(()=>{q()}),v({handleGetMeetingList:q}),(l,h)=>{const R=Ce,Z=Se,C=qe,G=Ye,B=We,W=Ie,pe=we;return L.value.length>0?(c(),f("div",Lo,[e("div",No,[e("span",null,o(l.$t("meeting.list.title")),1)]),e("div",Ho,[(c(!0),f(me,null,ve(L.value,(U,K)=>(c(),f("div",{key:`meeting_${K}`,class:le(["list-panel-main-item",U.timestamp===0?"long":""])},[e("div",qo,[e("span",null,o(U.timestamp===0?l.$t("meeting.list.long.title"):H(U.timestamp)),1)]),e("div",Do,[d(pe,{class:le(U.timestamp===0?"long-card":""),bordered:!1,"body-style":{padding:"5px"}},{default:u(()=>[(c(!0),f(me,null,ve(U.meetings,($,re)=>(c(),f("div",{key:`meeting_item_${re}`,class:le(["list-panel-main-item-content-item",N.value.planId===$.planId?"active":""]),onMouseenter:ie=>E($),onMouseleave:z},[e("div",jo,[U.timestamp!==0?(c(),D(a(pt),{key:0})):(c(),D(a(Co),{key:1}))]),e("div",{class:le(["list-panel-main-item-content-item-right",re<U.meetings.length-1?"borderB":""])},[e("div",Eo,[d(R,{content:$.subject},{default:u(()=>[e("div",zo,o($.subject),1)]),_:2},1032,["content"]),e("div",Po,[e("div",Ao,[e("span",null,o(l.$t("meeting.list.long.zzz"))+":",1),e("img",{src:$.masterAvatarUrl,alt:""},null,8,Ro),e("span",null,o($.masterName),1)]),e("div",Uo,[e("span",null,o(l.$t("meeting.list.long.time"))+":",1),e("span",null,o(I($.startTime))+" "+o(U.timestamp!==0?`- ${I($.endTime)}`:""),1)]),e("div",Fo,[e("span",null,o(l.$t("meeting.list.long.hyh"))+":",1),e("span",null,o(a(Oe)($.meetingNo)),1)]),U.timestamp!==0?(c(),f("div",{key:0,class:le(["list-panel-main-item-content-item-right-left-bot-s",p($.planStatus)])},[e("span",null,o(M($.planStatus)),1)],2)):V("",!0)])]),N.value.planId===$.planId?(c(),f("div",Jo,[d(W,null,{default:u(()=>[d(Z,{type:"primary",onClick:ie=>Q($)},{default:u(()=>[te(o(l.$t("meeting.list.long.rh")),1)]),_:2},1032,["onClick"]),d(Z,{onClick:ie=>Y($)},{icon:u(()=>[d(a(To),{class:"share-icon"})]),_:2},1032,["onClick"]),d(Z,{onClick:ie=>A($)},{icon:u(()=>[d(a(Vo),{class:"qrCode-icon"},{default:u(()=>h[0]||(h[0]=[te(">")])),_:1,__:[0]})]),_:2},1032,["onClick"]),$.masterId===a(T).userId?(c(),D(B,{key:0,trigger:"click",onSelect:r,onPopupVisibleChange:F},Be({default:u(()=>[d(Z,null,{icon:u(()=>[d(C)]),_:1})]),_:2},[U.timestamp!==0?{name:"content",fn:u(()=>[$.masterId===a(T).userId&&$.planStatus===0?(c(),D(G,{key:0,value:{command:3,data:$}},{default:u(()=>[te(o(l.$t("meeting.list.long.xg")),1)]),_:2},1032,["value"])):V("",!0),$.masterId===a(T).userId&&$.planStatus===0?(c(),D(G,{key:1,value:{command:1,data:$}},{default:u(()=>[te(o(l.$t("meeting.list.long.qxhy")),1)]),_:2},1032,["value"])):V("",!0),$.masterId===a(T).userId&&$.planStatus===1?(c(),D(G,{key:2,value:{command:2,data:$}},{default:u(()=>[te(o(l.$t("meeting.list.long.jshy")),1)]),_:2},1032,["value"])):V("",!0)]),key:"0"}:{name:"content",fn:u(()=>[$.masterId===a(T).userId?(c(),D(G,{key:0,value:{command:4,data:$}},{default:u(()=>[e("span",Qo,o(l.$t("meeting.list.long.del")),1)]),_:2},1032,["value"])):V("",!0)]),key:"1"}]),1024)):V("",!0)]),_:2},1024)])):V("",!0)],2)],42,Zo))),128))]),_:2},1032,["class"])])],2))),128))])])):(c(),f("div",Go,[e("div",Bo,[e("img",{src:a(Io),alt:""},null,8,Yo),e("div",Wo,o(l.$t("meeting.no.data.text")),1)])]))}}});const Xo=oe(Ko,[["__scopeId","data-v-04da3b64"]]),es={class:"container"},ts={class:"layout"},ns={class:"layout-left-side"},os={class:"layout-content"},ss=se({__name:"index",setup(j){const{t:v}=ne.exports.useI18n(),s=ae(),w=De(),g=Ze(),n=he(),L=je(),T=S(!1),t=S(!1),N=S(!1),H=S(),I=S(!1),M=()=>{s.updateRoomOptions(null),s.updateRoomInvitePsn(null),I.value=!1},p=()=>{I.value=!0,console.log("handleOptionCallOpen",I.value),s.updateRoomInvitePsn(null),s.updateRoomOptions({meetingName:`${n.name} ${v("meeting.room.option.meetingName")}`,video:!1,audio:!0,loudspeaker:!0,cloudRecord:!1,escaping:!1,abstract:!1,organizer:n.name})},q=async m=>{var _,P,x,X;try{const J=await s.ThImEvent.joinMeeting({meetingNo:m.meetingNo,forceEntryStatus:0,inviters:s.roomInvitePsn?_e(s.roomInvitePsn,"userId"):[]});if(w.updateRoomTranslateInfo({...w.roomTranslateInfo,...J.data,open:!!((_=J.data)!=null&&_.enableTranslation)}),L.updateBtnLoading(!1),J.code!==200&&J.code!==401){O.error(J.msg);return}s.ThImEvent.roomMenuOptions={video:(P=s.roomOptions)==null?void 0:P.video,audio:(x=s.roomOptions)==null?void 0:x.audio,loudspeaker:(X=s.roomOptions)==null?void 0:X.loudspeaker},s.ThImEvent.setRoomOnlineListPsn(g.memberList),s.ThImEvent.setRoomOnlineGroupPsn(g.memberGroupList),M(),s.updateAssistVisible(!0)}catch{L.updateBtnLoading(!1)}},k=async()=>{var m,_,P,x,X,J,ce;try{const ee=await s.createRealtimeMeeting({aiStatus:(m=s.roomOptions)!=null&&m.abstract?"1":"0",recordStatus:(_=s.roomOptions)!=null&&_.cloudRecord?"1":"0",escaping:(P=s.roomOptions)!=null&&P.escaping?"1":"0",subject:(x=s.roomOptions)==null?void 0:x.meetingName,userIds:s.roomInvitePsn?_e(s.roomInvitePsn,"userId"):[],enableTranslation:(X=s.roomOptions)!=null&&X.escaping?"1":"0",languageType:(J=w.roomTranslateInfo)==null?void 0:J.languageType,industryType:(ce=w.roomTranslateInfo)==null?void 0:ce.industryType});if(ee.code!==200&&ee.code!==401){O.error(ee.msg),L.updateBtnLoading(!1);return}q(ee.data)}catch{L.updateBtnLoading(!1)}},b=()=>{s.updateRoomOptions({video:!1,audio:!0,loudspeaker:!0}),T.value=!0},y=()=>{T.value=!1},i=m=>{s.updateRoomOptions({meetingName:m==null?void 0:m.subject,meetingNo:m==null?void 0:m.meetingNo,cloudRecord:(m==null?void 0:m.recordStatus)===1,abstract:(m==null?void 0:m.aiStatus)===1,escaping:(m==null?void 0:m.escaping)===1,organizer:m==null?void 0:m.masterName,video:!1,audio:!0,loudspeaker:!0}),t.value=!0},r=()=>{t.value=!1},E=async m=>{var P,x,X,J,ce,ee,be;const _=await s.ThImEvent.joinMeeting({meetingNo:m.meetingNo,forceEntryStatus:0,inviters:[]});if(_.code!==200&&_.code!==401){_.code===ye.OTHER_CLIENT_JOINED_MEETING||_.code===ye.OTHER_CLIENT_IN_MEETING?(s.updateForceEntryMeetingInfo({meetingNo:m.meetingNo,invitor:[]}),w.updateRoomTranslateInfo({...w.roomTranslateInfo,..._.data,open:!!((P=_.data)!=null&&P.enableTranslation)}),ue.emit("Chat-Other-Client-Joined-Meeting"),r()):O.error(_.msg);return}w.updateRoomTranslateInfo({...w.roomTranslateInfo,languageType:(x=_.data)==null?void 0:x.languageType,industryType:(X=_.data)==null?void 0:X.industryType,..._.data,open:!!((J=_.data)!=null&&J.enableTranslation)}),s.ThImEvent.roomMenuOptions={video:(ce=s.roomOptions)==null?void 0:ce.video,audio:(ee=s.roomOptions)==null?void 0:ee.audio,loudspeaker:(be=s.roomOptions)==null?void 0:be.loudspeaker},s.ThImEvent.setRoomOnlineListPsn(g.memberList),s.ThImEvent.setRoomOnlineGroupPsn(g.memberGroupList),t.value&&r(),T.value&&y(),s.updateAssistVisible(!0)},z=async()=>{var m;await at(1e3*.3),(m=H.value)==null||m.handleGetMeetingList()},F=S(null),Q=m=>{N.value=!0,m?F.value=m:F.value=null},Y=()=>{N.value=!1,H.value&&H.value.handleGetMeetingList()},A=S(!1),l=()=>{A.value=!0},h=()=>{A.value=!1},R=m=>{h(),s.updateSchedulePsn(m)},Z=S(!1),C=()=>{Z.value=!0},G=()=>{Z.value=!1,z()},B=S(),W=S(!1),pe=()=>{B.value=null,W.value=!1},U=m=>{console.log("handleLinkShareModalOpen",m),B.value=m,W.value=!0},K=S(!1),$=()=>{B.value=null,K.value=!1},re=m=>{console.log("handleQrCodeModalOpen",m),B.value=m,K.value=!0},ie=()=>{ue.on("meeting-list-update",z)},Ve=()=>{ue.off("meeting-list-update",z)};return fe(()=>{Ve()}),de(()=>{ie()}),(m,_)=>{const P=Ke;return c(),f("div",es,[e("div",ts,[e("div",ns,[d($o,{onHandleQuickMeetingOpen:p,onHandleScheduleOpen:Q,onHandleLongtimeOpen:C,onHandleJoinMeetingOpen:b})]),e("div",os,[d(Xo,{ref_key:"meetingListRef",ref:H,onOpenLinkShare:U,onOpenQrCode:re,onHandleJoinMeetingOpen:i,onHandleScheduleOpen:Q},null,512)])]),I.value?(c(),D(P,{key:0,visible:I.value,"onUpdate:visible":_[0]||(_[0]=x=>I.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(it,{onHandleCall:k,onHandleClose:M})]),_:1},8,["visible"])):V("",!0),N.value?(c(),D(P,{key:1,visible:N.value,"onUpdate:visible":_[1]||(_[1]=x=>N.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(mt,{"meeting-detail":F.value,onHandleClose:Y,onHandleInviteOpen:l},null,8,["meeting-detail"])]),_:1},8,["visible"])):V("",!0),T.value?(c(),D(P,{key:2,visible:T.value,"onUpdate:visible":_[2]||(_[2]=x=>T.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[T.value?(c(),D(Ht,{key:0,onHandleClose:y,onHandleJoinMeeting:E})):V("",!0)]),_:1},8,["visible"])):V("",!0),t.value?(c(),D(P,{key:3,visible:t.value,"onUpdate:visible":_[3]||(_[3]=x=>t.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[t.value?(c(),D(rt,{key:0,onHandleClose:r,onHandleJoinMeeting:E})):V("",!0)]),_:1},8,["visible"])):V("",!0),Z.value?(c(),D(P,{key:4,visible:Z.value,"onUpdate:visible":_[4]||(_[4]=x=>Z.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(dn,{onHandleClose:G,onHandleInviteOpen:l})]),_:1},8,["visible"])):V("",!0),A.value?(c(),D(P,{key:5,visible:A.value,"onUpdate:visible":_[5]||(_[5]=x=>A.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[d(vt,{"select-psn":a(s).schedulePsn,onHandleClose:h,onHandleInvite:R},null,8,["select-psn"])]),_:1},8,["visible"])):V("",!0),W.value?(c(),D(P,{key:6,visible:W.value,"onUpdate:visible":_[6]||(_[6]=x=>W.value=x),footer:!1,closable:!1,class:"customModal"},{default:u(()=>[W.value?(c(),D(Sn,{key:0,"meeting-detail":B.value,onHandleClose:pe},null,8,["meeting-detail"])):V("",!0)]),_:1},8,["visible"])):V("",!0),K.value?(c(),D(P,{key:7,visible:K.value,"onUpdate:visible":_[7]||(_[7]=x=>K.value=x),footer:!1,closable:!1,class:"customModal qrCodeModal"},{default:u(()=>[K.value?(c(),D(Jn,{key:0,"meeting-detail":B.value,onHandleClose:$},null,8,["meeting-detail"])):V("",!0)]),_:1},8,["visible"])):V("",!0)])}}});const hs=oe(ss,[["__scopeId","data-v-ed734529"]]);export{hs as default};
