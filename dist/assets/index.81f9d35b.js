import{ad as D,ab as F,d as O,v as j,E as H,_ as R}from"./index.ae3ddf81.js";import{d as $,c as I,j as f,a as q,C as u,D as v,E as e,u as t,aN as n,aI as r,aH as p,aK as J,aJ as K,aE as W,aF as V,aW as T,b8 as X,aV as G,b9 as P,ba as Q,aX as Y}from"./arco.22dd370d.js";import{d as Z,e as ee,m as oe,j as se,v as te,k as ae,l as ne,n as le}from"./icon_volume_1.fd08a673.js";const ie={class:"room-options-container"},ce=["src"],de={class:"room-options-header"},ue={class:"room-options-h-t"},re={class:"room-options-h-n textEllipsis"},me={class:"room-options-h-b"},ve={class:"label"},pe={class:"value"},_e={class:"room-options-main"},ge={class:"room-options-m-it"},he=["src"],fe={class:"room-options-m-ib text-ellipsis"},ye={class:"room-options-m-it"},be=["src"],Ce={class:"room-options-m-ib text-ellipsis"},ke={class:"room-options-m-it"},xe=["src"],Ie={class:"room-options-m-ib text-ellipsis"},Ve={class:"room-options-b"},Te={class:"room-options-bm"},Le={class:"room-options-br"},Me={class:"schedule-checkbox schedule-checkbox-voice"},Se={key:0,class:"ax"},we={class:"label"},Ee=["src"],Ne={key:1,class:"ax"},ze={class:"label"},Ae={class:"room-options-f"},Be=$({__name:"send",emits:["handleClose","handleCall"],setup(Ue,{emit:L}){const M=D(),m=F(),_=O(),y=L,{t:l,locale:b}=j.exports.useI18n(),C=I(()=>{var a;return(a=m.industryList)==null?void 0:a.map(s=>({label:b.value==="zh-CN"?s.value:s.english,value:s.label}))}),k=I(()=>{var a;return(a=m.languageList)==null?void 0:a.map(s=>({...s,label:b.value==="zh-CN"?s.value:s.english,value:s.label,ctry:s.flagUrl}))}),c=f({languageType:"cn",industryType:"default"});q(()=>{var s;((s=k.value)==null?void 0:s.some(h=>h.type==="aliyun"))&&(c.value.languageType="zh")});const o=f({...m.roomOptions,...c.value}),d=f(null),g=()=>{d.value&&(d.value.getTracks().forEach(a=>a.stop()),d.value=null)},S=async()=>{o.value.audio=!o.value.audio;try{o.value.audio&&(d.value=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})),g()}catch{o.value.audio=!1,T.error(l("meeting.modal.option.devices.audio"))}},w=async()=>{o.value.video=!o.value.video;try{o.value.video&&(d.value=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})),g()}catch{o.value.video=!1,T.error(l("meeting.modal.option.devices.video"))}},E=()=>{o.value.loudspeaker=!o.value.loudspeaker},N=()=>{g(),y("handleClose")},z=Z(async()=>{H.emit("meeting-notification-close"),!_.btnLoading&&(_.updateBtnLoading(!0),m.updateRoomOptions(o.value),M.updateRoomTranslateInfo({...o.value,...c.value,open:o.value.escaping}),y("handleCall"))},1e3);return(a,s)=>{const h=X,A=G,B=P,x=Q,U=Y;return u(),v("div",ie,[e("div",{class:"room-fixed",onClick:N},[e("img",{src:t(ee),alt:""},null,8,ce)]),e("div",de,[e("div",ue,[e("span",null,n(t(l)("meeting.room.option.meeting.name")),1)]),r(h,{content:o.value.meetingName},{default:p(()=>[e("div",re,n(o.value.meetingName),1)]),_:1},8,["content"]),e("div",me,[e("span",ve,n(t(l)("meeting.room.option.meeting.organizer"))+"\uFF1A",1),e("span",pe,n(o.value.organizer),1)])]),e("div",_e,[e("div",{class:"room-options-m-i",onClick:S},[e("div",ge,[e("img",{src:o.value.audio?t(oe):t(se),alt:""},null,8,he)]),e("div",fe,n(t(l)("meeting.menu.mkf")),1)]),e("div",{class:"room-options-m-i",onClick:w},[e("div",ye,[e("img",{src:o.value.video?t(te):t(ae),alt:""},null,8,be)]),e("div",Ce,n(t(l)("meeting.menu.sxt")),1)]),e("div",{class:"room-options-m-i",onClick:E},[e("div",ke,[e("img",{src:o.value.loudspeaker?t(ne):t(le),alt:""},null,8,xe)]),e("div",Ie,n(t(l)("meeting.menu.ysq")),1)])]),e("div",Ve,[s[3]||(s[3]=e("div",{class:"room-options-bm"},null,-1)),e("div",Te,[e("div",Le,[e("span",null,n(t(l)("meeting.room.option.meeting.abstract5")),1),e("div",null,[r(A,{modelValue:o.value.escaping,"onUpdate:modelValue":s[0]||(s[0]=i=>o.value.escaping=i),size:"small"},null,8,["modelValue"])])])])]),e("div",Me,[o.value.escaping?(u(),v("div",Se,[e("div",we,n(a.$t("meeting.schedule.form.myLanguage")),1),e("div",null,[r(x,{modelValue:c.value.languageType,"onUpdate:modelValue":s[1]||(s[1]=i=>c.value.languageType=i),"allow-search":""},{default:p(()=>[(u(!0),v(J,null,K(k.value,i=>(u(),W(B,{class:"st-img",value:i.value},{default:p(()=>[e("img",{src:i.ctry},null,8,Ee),e("span",null,n(i.label),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])])):V("",!0),o.value.escaping&&C.value.length>0?(u(),v("div",Ne,[e("div",ze,n(a.$t("meeting.schedule.form.thesaurus")),1),e("div",null,[r(x,{modelValue:c.value.industryType,"onUpdate:modelValue":s[2]||(s[2]=i=>c.value.industryType=i),options:C.value,"allow-search":""},null,8,["modelValue","options"])])])):V("",!0)]),e("div",Ae,[r(U,{class:"room-options-btn",type:"primary",size:"large","html-type":"submit",long:"",loading:t(_).btnLoading,onClick:t(z)},{default:p(()=>[e("span",null,n(t(l)("meeting.room.option.meeting.initiate")),1)]),_:1},8,["loading","onClick"])])])}}});const He=R(Be,[["__scopeId","data-v-50906683"]]);export{He as o};
