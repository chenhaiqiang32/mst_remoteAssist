import{d as m,C as p,D as g,E as o,u as f,a$ as A,b0 as M,j as y,aN as u,aI as s,aH as l,aM as z,aW as k,b5 as E,bc as L,bj as j,aX as U,b8 as D,bk as R,bd as q,o as G,G as W}from"./arco.638965b6.js";import{_ as v,v as H,u as O,s as X,a as J,b as K,c as Q,d as Y,i as Z}from"./index.351d8474.js";import{u as ee,F as oe,l as se}from"./loading.aed8f9fc.js";import{f as ae,g as ne}from"./vue.6265044a.js";import"./chart.ffc0c533.js";/* empty css              */const te="/assist/assets/banner_bg.3eeb59ed.png",re=d=>(A("data-v-2840fe52"),d=d(),M(),d),le={class:"banner"},ie=re(()=>o("div",{class:"banner-inner"},[o("div",{class:"banner-inner-t"},[o("span",null,"\u8FDC\u7A0B\u534F\u52A9")]),o("div",{class:"banner-inner-b"},[o("span",null,"\u591A\u4EBAAR\u7B2C\u4E00\u89C6\u89D2\u534F\u52A9")])],-1)),de={class:"banner-bot"},ce=["src"],ue=m({__name:"banner",setup(d){return(c,r)=>(p(),g("div",le,[ie,o("div",de,[o("img",{src:f(te),alt:""},null,8,ce)])]))}});const _e=v(ue,[["__scopeId","data-v-2840fe52"]]),me={class:"login-form-wrapper"},pe={class:"login-form-title"},ge={class:"login-form-forget-password"},fe={class:"login-form-protocol-actions"},ve=m({__name:"login-form",setup(d){const{t:c}=H.exports.useI18n(),r=ae(),I=y(""),{loading:h,setLoading:b}=ee(),P=O(),$=ne("login-config",{companyNo:"",username:"",password:"",agreeProtocol:!0}),t=y({...$.value}),C=async({errors:e,values:a})=>{if(!h.value&&!e){if(!a.agreeProtocol){k.warning(c("login.form.agreeProtocol.text1"));return}b(!0);try{const n=await P.login(a);if(n.code!==200&&n.code!==401){k.error(n.msg);return}$.value={...a},X(),J(n.data.tokenType),K(n.data.token),Q(n.data.refreshToken),r.push({name:"MessageList"})}catch(n){I.value=n.message}finally{b(!1)}}},V=e=>{t.value.agreeProtocol=e},S=()=>{r.push({path:"/ForgetPassword"})},F=()=>{const e=r.resolve({path:"/Protocol"}).href;window.open(e,"_blank")};return(e,a)=>{const n=E,_=L,N=j,B=U,w=D,T=R,x=q;return p(),g("div",me,[o("div",pe,u(e.$t("login.form.title")),1),s(x,{ref:"loginForm",model:t.value,class:"login-form",layout:"vertical",onSubmit:C},{default:l(()=>[s(_,{field:"companyNo",rules:[{required:!0,message:e.$t("login.form.userCompany.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:l(()=>[s(n,{modelValue:t.value.companyNo,"onUpdate:modelValue":a[0]||(a[0]=i=>t.value.companyNo=i),size:"large",placeholder:e.$t("login.form.userCompany.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),s(_,{field:"username",rules:[{required:!0,message:e.$t("login.form.userName.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:l(()=>[s(n,{modelValue:t.value.username,"onUpdate:modelValue":a[1]||(a[1]=i=>t.value.username=i),size:"large",placeholder:e.$t("login.form.userName.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),s(_,{field:"password",rules:[{required:!0,message:e.$t("login.form.password.errMsg")}],"validate-trigger":["change","blur"],"hide-label":""},{default:l(()=>[s(N,{modelValue:t.value.password,"onUpdate:modelValue":a[2]||(a[2]=i=>t.value.password=i),size:"large",placeholder:e.$t("login.form.password.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["rules"]),o("div",ge,[o("span",{class:"text-no-select",onClick:S},u(e.$t("login.form.forget.password")),1)]),s(w,{size:48,direction:"vertical",class:"btn-main"},{default:l(()=>[s(B,{type:"primary",size:"large","html-type":"submit",long:"",loading:f(h)},{default:l(()=>[z(u(e.$t("login.form.login")),1)]),_:1},8,["loading"])]),_:1}),s(w,{size:48},{default:l(()=>[o("div",fe,[s(T,{modelValue:t.value.agreeProtocol,"onUpdate:modelValue":a[3]||(a[3]=i=>t.value.agreeProtocol=i),checked:"agreeProtocol",onChange:V},{default:l(()=>[o("span",null,u(e.$t("login.form.agreeProtocol")),1)]),_:1},8,["modelValue","onChange"]),o("span",{class:"protocolBlue",onClick:F},u(e.$t("login.form.agreeProtocol.text")),1)])]),_:1})]),_:1},8,["model"])])}}});const he=v(ve,[["__scopeId","data-v-daf5f300"]]),be={class:"content"},$e={class:"content-left"},we={class:"content-right"},ye={class:"footer"},ke=m({__name:"index",setup(d){return Y(),G(()=>{var c,r;Z()&&((r=(c=window==null?void 0:window.$wujie)==null?void 0:c.bus)==null||r.$emit("REPEAT_LOGIN",{name:"login"}))}),(c,r)=>(p(),g("div",{class:"container wsl-scroll",style:W({backgroundImage:`url(${f(se)})`})},[o("div",be,[o("div",$e,[s(_e)]),o("div",we,[s(he)])]),o("div",ye,[s(oe)])],4))}});const Ne=v(ke,[["__scopeId","data-v-85155981"]]);export{Ne as default};
