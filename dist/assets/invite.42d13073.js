import{v as W,aa as j,_ as z}from"./index.56b53071.js";import{C as n,D as o,E as e,d as H,j as _,u as a,aN as l,F as p,aI as C,aH as K,aK as g,aJ as b,aE as k,aF as I,b0 as T,b1 as Z,G as X,aW as Y,ac as q,b3 as ee}from"./arco.7c13ffb5.js";import{c as se}from"./icon_close.f7fee805.js";const te="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAOFJREFUKFONkDFOQkEURc8dGgqWwQ4srQkLcAFCAWJCL4mxx1oTwzfGuAgLY2NjaWJL7xIoP3PNDMHAfCNO82bevWfmvhHlOveR1sxT2y1m3Olj16LSr7FfHRhQIwUeXal3GIgMk+lfAClS5DZHCkwPRkrG1tin67Sp9NSInBsDt0ObG5tuPptOrmK1KXzFJUPeVG+GHvmEQJeFrhu/BoSJL2Pkk0rPGfgrQqlnIJz5AujEha5+fWFHFxP3ZaY5es2cB73vQYWegGOZWQbSd97rpQD29O3QfSKrxu1bcuQf/RvkVWVV61AybAAAAABJRU5ErkJggg==",ne={width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ie(f,r){return n(),o("svg",ne,r[0]||(r[0]=[e("rect",{x:".5",y:".5",width:"17",height:"17",rx:"5.5",stroke:"#D1D8E3"},null,-1)]))}const O={render:ie},oe={width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ae(f,r){return n(),o("svg",oe,r[0]||(r[0]=[e("rect",{width:"18",height:"18",rx:"6",fill:"#0267FF"},null,-1),e("path",{d:"M12.144 6.083a.794.794 0 1 1 1.123 1.123l-4.764 4.765a.794.794 0 0 1-1.123 0L4.733 9.324A.794.794 0 0 1 5.856 8.2l2.085 2.085 4.203-4.203Z",fill:"#fff"},null,-1)]))}const E={render:ae},le={viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:"arco-icon arco-icon-caret-left arco-collapse-item-expand-icon","stroke-width":"4"};function re(f,r){return n(),o("svg",le,r[0]||(r[0]=[e("path",{d:"M13.171 24.937a1.2 1.2 0 0 1 0-1.874L30.051 9.56c.785-.629 1.949-.07 1.949.937v27.006c0 1.006-1.164 1.566-1.95.937L13.171 24.937Z",fill:"currentColor",stroke:"none"},null,-1)]))}const ce={render:re},de={class:"invite-join-group-modal-container modal-container"},ve=["src"],ue={class:"invite-m-t"},me={class:"invite-m-tabs"},_e={class:"invite-m-tabs-main"},he={class:"invite-m-s"},pe={class:"invite-m-main wsl-scroll"},ge=["onClick"],fe={class:"invite-m-main-i-l"},Ae={class:"invite-m-main-i-r"},be={class:"invite-m-main-i-rl"},ke=["src"],we={class:"invite-m-main-i-rr"},Ce={class:"invite-m-main-i-rr-t"},Ie={class:"invite-m-main-i-rr-b"},ye=["onClick"],Se={class:"header-main-left"},$e={class:"header-main-left-i"},xe=["src"],Ge={class:"header-main-title"},Fe={class:"invite-main-group-body"},Le=["onClick"],Oe={class:"invite-m-main-i-l"},Ee={class:"invite-m-main-i-r"},Be={class:"invite-m-main-i-rl"},Me=["src"],Ne={class:"invite-m-main-i-rr"},De={class:"invite-m-main-i-rr-t"},Qe={class:"invite-m-main-i-rr-b"},Ue={class:"invite-m-bot"},Ve={class:"invite-m-bot-l"},Je=["src"],Pe={class:"invite-m-bot-r"},Re=H({__name:"invite",props:{selectPsn:{}},emits:["handleClose","handleInvite"],setup(f,{emit:r}){const y=r,{t:S}=W.exports.useI18n(),B=f,M=()=>{y("handleClose")},h=_({condition:""}),m=_(1),c=j(),A=_({}),N=s=>{A.value[s]=!A.value[s]},$=s=>{const i=_("");return s.pcOnline||s.androidOnline||s.glassOnline?i.value="online":i.value="outline",i.value},D=_(20),Q=s=>({zIndex:s,left:`${s*D.value}px`}),U=async()=>{const s=await c.getContactsData(h.value);s.code!==200&&s.code!==401||c.updateMemberList(s.data)},V=async()=>{const s=await c.getContactsGroupData(h.value);s.code!==200&&s.code!==401||c.updateMemberGroupList(s.data)},x=()=>{console.log("\u67E5\u8BE2\u4EBA\u5458\u4E8B\u4EF6"),m.value===1?U():m.value===2&&V()},G=s=>{m.value=s,h.value.condition="",x()},d=_(B.selectPsn),F=s=>d==null?void 0:d.value.some(i=>i.userId===s),L=s=>{const i=d.value.findIndex(w=>w.userId===s.userId);i===-1?d.value.length<c.limitMember?d.value.push(s):Y.error(`${S("meeting.member.limit.member.tip")} ${c.limitMember}`):d.value.splice(i,1)},J=()=>{y("handleInvite",d.value)};return(s,i)=>{const w=q,P=ee;return n(),o("div",de,[e("div",{class:"invite-fixed",onClick:M},[e("img",{src:a(se),alt:""},null,8,ve)]),e("div",ue,l(s.$t("meeting.member.invite.title")),1),e("div",me,[e("div",_e,[e("div",{class:p(["invite-m-tabs-i",m.value===1?"active":""]),onClick:i[0]||(i[0]=t=>G(1))},[e("span",null,l(s.$t("message.invite.join.group.tabs.all")),1)],2),e("div",{class:p(["invite-m-tabs-i",m.value===2?"active":""]),onClick:i[1]||(i[1]=t=>G(2))},[e("span",null,l(s.$t("message.invite.join.group.tabs.group")),1)],2)])]),e("div",he,[C(P,{modelValue:h.value.condition,"onUpdate:modelValue":i[2]||(i[2]=t=>h.value.condition=t),class:"search-input",placeholder:s.$t("meeting.member.invite.search.placeholder"),onInput:x},{prefix:K(()=>[C(w)]),_:1},8,["modelValue","placeholder"])]),e("div",pe,[m.value===1?(n(!0),o(g,{key:0},b(a(c).memberList,(t,v)=>(n(),o("div",{key:`psn_${v}_${t.userId}`,class:"invite-m-main-i",onClick:u=>L(t)},[e("div",fe,[F(t.userId)?(n(),k(a(E),{key:0})):(n(),k(a(O),{key:1}))]),e("div",Ae,[e("div",be,[e("img",{src:t.avatarUrl,alt:""},null,8,ke),e("div",{class:p(["invite-m-main-i-rl-s",$(t)])},null,2)]),e("div",we,[e("div",Ce,[e("span",null,l(t.name),1)]),e("div",Ie,[e("span",null,l(t.alias),1)])])])],8,ge))),128)):I("",!0),m.value===2?(n(!0),o(g,{key:1},b(a(c).memberGroupList,(t,v)=>(n(),o("div",{key:`group_${v}`,class:"invite-m-main-group"},[e("div",{class:"invite-main-group-header",onClick:u=>N(v)},[e("div",Se,[e("div",$e,[e("img",{src:a(te),alt:""},null,8,xe)]),e("div",Ge,[e("span",null,l(t.groupName)+" ("+l(t.contacts.length)+")",1)])]),e("div",{class:p(["header-main-right",{"rotate-icon":A.value[v]}])},[C(a(ce))],2)],8,ye),T(e("div",Fe,[(n(!0),o(g,null,b(t.contacts,(u,R)=>(n(),o("div",{key:`group_psn_${R}_${u.userId}`,class:"invite-m-main-i",onClick:We=>L(u)},[e("div",Oe,[F(u.userId)?(n(),k(a(E),{key:0})):(n(),k(a(O),{key:1}))]),e("div",Ee,[e("div",Be,[e("img",{src:u.avatarUrl,alt:""},null,8,Me),e("div",{class:p(["invite-m-main-i-rl-s",$(u)])},null,2)]),e("div",Ne,[e("div",De,[e("span",null,l(u.name),1)]),e("div",Qe,[e("span",null,l(u.alias),1)])])])],8,Le))),128))],512),[[Z,A.value[v]]])]))),128)):I("",!0)]),e("div",Ue,[e("div",Ve,[(n(!0),o(g,null,b(d.value,(t,v)=>(n(),o(g,{key:`invite_m_icon_${v}`},[v<a(c).showLimitMember?(n(),o("div",{key:0,class:"invite-m-bot-l-i",style:X(Q(v))},[e("img",{src:t.avatarUrl,alt:""},null,8,Je)],4)):I("",!0)],64))),128))]),e("div",Pe,[e("div",{class:"invite-m-bot-r-btn",onClick:J},[e("span",null,l(a(S)("message.invite.join.group.menu.invite"))+" ("+l(d.value.length)+"/"+l(a(c).limitMember)+")",1)])])])])}}});const Ke=z(Re,[["__scopeId","data-v-d7f5fac3"]]);export{Ke as I,E as S,O as a,ce as h,te as o};
