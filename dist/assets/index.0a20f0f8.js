import{a9 as G,ap as J,_ as W,d as Y,aa as X,v as ee,o as ce,g as de,ac as re,u as ue,E as H,ah as K}from"./index.351d8474.js";/* empty css               */import{d as q,j as A,o as te,b as se,C as d,aE as R,aH as r,E as e,aN as o,aI as c,u as g,ac as me,D as u,aK as Z,aJ as V,F as j,aF as B,b5 as _e,bH as Q,b9 as ne,bL as oe,aW as L,H as he,w as ge,aM as N,bz as pe,b8 as ve,aX as fe,bS as be,bM as ye,bN as ke,bT as Ce,be as we}from"./arco.638965b6.js";import{g as P,t as Me,u as $e,n as U}from"./icon_volume_1.fb774a2c.js";import{o as Ae}from"./index.ab4dcc61.js";import{M as ae}from"./icon-default-meeting.7fc0c2d8.js";/* empty css               */import"./chart.ffc0c533.js";import"./vue.6265044a.js";const xe="/assist/assets/no_meeting.568a47cc.png",Oe={class:"record-panel-top"},Ie={class:"search-container"},Te=["onClick"],Ne={class:"record-panel-content-item-left"},Se={class:"record-panel-content-item-right",fill:""},Ee={class:"record-panel-content-item-right-top"},De={class:"record-panel-content-item-right-top-name textEllipsis"},Re={class:"record-panel-content-item-right-top-time"},ze={class:"record-panel-content-item-right-bot"},Fe={key:0,class:"loading-spinner"},Le={key:1,class:"no-data"},Ze={class:"no-data-body"},Ve=["src"],Be={class:"no-data-body-text"},He=q({__name:"record",setup(I,{expose:C}){const z=G(),n=J(),p=A([]),b=A(0),i=A({pageSize:20,pageNo:1,keywords:""}),v=A(!1),y=A(!0),s=async()=>{if(console.log("\u5F00\u59CB\u52A0\u8F7D\u6570\u636E:",{isMore:y.value,loading:v.value,pageNo:i.value.pageNo}),!!y.value&&!v.value)try{const t=await z.getMeetingRecordList({pageNo:i.value.pageNo,pageSize:i.value.pageSize,keywords:i.value.keywords});if(t.code!==200&&t.code!==401){L.error(t.msg);return}i.value.pageNo===1?p.value=t.data.data:p.value=[...p.value,...t.data.data],b.value=t.data.total;const a=i.value.pageNo;y.value=a*i.value.pageSize<b.value,console.log("\u5206\u9875\u4FE1\u606F:",{currentPage:a,pageSize:i.value.pageSize,total:b.value,isMore:y.value,calculated:a*i.value.pageSize}),i.value.pageNo+=1}catch(t){console.error("Failed to load meetings",t)}finally{v.value=!1,console.log(y.value),b.value>0?n.updateNoRecord(!0):n.updateNoRecord(!1)}},T=()=>{p.value=[],b.value=0,i.value.pageNo=1,y.value=!0,s()},S=t=>{n.updateCurMeeting(t)},E=()=>{i.value.pageNo=1,p.value=[],b.value=0,y.value=!0,s()},x=A();let $=null;const D=()=>{console.log("\u6EDA\u52A8\u68C0\u67E5:",{isMore:y.value,loading:v.value,hasContainer:!!x.value}),!(!x.value||!y.value||v.value)&&($&&clearTimeout($),$=window.setTimeout(()=>{const{scrollTop:t,scrollHeight:a,clientHeight:l}=x.value;a-t-l<100&&s()},200))};return te(async()=>{T()}),se(()=>{$&&(clearTimeout($),$=null)}),C({meetingList:p,handleInitMeetingList:T}),(t,a)=>{const l=_e,f=Q,w=ne,k=oe;return d(),R(k,{class:"general-card record-panel",bordered:!1,"body-style":{height:"100%",display:"flex",padding:0,flexFlow:"column"}},{default:r(()=>[e("div",Oe,[e("span",null,o(t.$t("meeting.record.title")),1),e("div",Ie,[c(l,{modelValue:i.value.keywords,"onUpdate:modelValue":a[0]||(a[0]=m=>i.value.keywords=m),placeholder:t.$t("meeting.record.search.placeholder"),"allow-clear":"",onChange:E,onClear:E},{prefix:r(()=>[c(g(me))]),_:1},8,["modelValue","placeholder"])])]),c(f,{margin:0}),g(n).noRecord?(d(),u("div",{key:0,ref_key:"scrollContainer",ref:x,class:"record-panel-content wsl-scroll",onScroll:D},[(d(!0),u(Z,null,V(p.value,(m,_)=>{var M;return d(),u("div",{key:_,class:j(["record-panel-content-item",((M=g(n).curMeeting)==null?void 0:M.meetingId)===m.meetingId?"active":""]),onClick:O=>S(m)},[e("div",Ne,[c(g(ae))]),e("div",Se,[e("div",Ee,[c(w,{content:m.subject},{default:r(()=>[e("div",De,o(m.subject),1)]),_:2},1032,["content"]),e("div",Re,o(g(P)(m.startTime,"today")),1)]),e("div",ze,o(t.$t("meeting.list.meeting.time"))+" "+o(g(Me)(m.startTime,m.endTime)),1)])],10,Te)}),128)),v.value?(d(),u("div",Fe,o(t.$t("meeting.list.loading")),1)):B("",!0)],544)):(d(),u("div",Le,[e("div",Ze,[e("img",{src:g(xe),alt:""},null,8,Ve),e("div",Be,o(t.$t("meeting.no.data.text")),1)])]))]),_:1})}}});const Ue=W(He,[["__scopeId","data-v-81178937"]]);const je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAUpJREFUOE+lkzEohVEcxX9nMxqVRUmRAVEWg4EyGF5RBslgYDAYGcyUWaaXFPXEYKAMZDFYDJLBINmMRsOr417d7/U9T+978i33Lud3z/+c/yf++alVve1BYBj4BC4kfURtU0ASzQEloA24AtqBEWAoQhoAtnuBxZzoFKhIus/c2j4BziQd1QBJuAd0AQ2i/Ki294FbSeVvgO0O4DHMtw4cSKo2y8b2KzAl6TkDLAHjkhZ+Cm3Px7kl7abHRoHDYL+nFqLt7kC8A1YlHedmnQnhbQe7E5LeEmALqErarGshBNMfySnleL4Da3lxAkT7JUkPv9ZoO1qMta0As5Kuc47q7DfdA9s7yepGDlBnvwgQt64C9MVWbMdFivZjHk8ZtGgTb1LiZdvLaaTJfFNFgIG0vuex93AfC1W/tAxIqXcC08BlVuWfAEV/6xeBLYURySeBPwAAAABJRU5ErkJggg==",Pe="/assist/assets/no_meeting.568a47cc.png",Ge={width:"48",height:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Je=he('<path d="M27 9.22v5.86c0 1.34-1.08 2.42-2.42 2.42H6.42C5.06 17.5 4 16.38 4 15.04c.02-2.26.92-4.32 2.42-5.82a8.27 8.27 0 0 1 5.86-2.42h12.3C25.92 6.8 27 7.88 27 9.22Z" fill="#FF7474"></path><path fill="#fff" d="M9 30h24v7H9z"></path><path d="M4 22.92v10c0 4.58 3.7 8.28 8.28 8.28H35.7c4.58 0 8.3-3.72 8.3-8.3v-9.98c0-1.34-1.08-2.42-2.42-2.42H6.42C5.08 20.5 4 21.58 4 22.92ZM16 34.5h-4c-.82 0-1.5-.68-1.5-1.5s.68-1.5 1.5-1.5h4c.82 0 1.5.68 1.5 1.5s-.68 1.5-1.5 1.5Zm13 0h-8c-.82 0-1.5-.68-1.5-1.5s.68-1.5 1.5-1.5h8c.82 0 1.5.68 1.5 1.5s-.68 1.5-1.5 1.5Z" fill="#FF7474"></path><path fill="#FFF7E3" d="M32 5h10v11H32z"></path><path d="M39.94 3.5h-5.88C31.52 3.5 30 5.02 30 7.56v5.88c0 2.54 1.52 4.06 4.06 4.06h5.88c2.54 0 4.06-1.52 4.06-4.06V7.56c0-2.54-1.52-4.06-4.06-4.06Zm-3.92 11.14c-.06.06-.2.14-.3.14l-2.08.3c-.06.02-.14.02-.2.02-.3 0-.56-.1-.74-.3-.24-.24-.34-.58-.28-.94l.3-2.08c.02-.1.08-.24.14-.3l3.4-3.4c.06.14.12.3.18.46.08.16.16.3.24.44.06.12.14.24.22.32.08.12.16.24.22.3.04.06.06.08.08.1.18.22.38.42.56.56.04.04.08.08.1.08.1.08.22.18.3.24.12.08.22.16.34.22.14.08.3.16.46.24.16.08.32.14.46.18l-3.4 3.42Zm4.78-4.78-.66.66c-.02.04-.08.06-.14.06h-.06a4.43 4.43 0 0 1-3-3c-.02-.08 0-.16.06-.22l.66-.66c1.08-1.08 2.1-1.06 3.16 0 .54.54.8 1.06.8 1.58-.02.52-.28 1.04-.82 1.58Z" fill="#FF7474"></path>',5),We=[Je];function qe(I,C){return d(),u("svg",Ge,[...We])}const Qe={render:qe},Ke={width:"48",height:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ye=e("g",{fill:"#00D097"},[e("path",{d:"M29.46 4H18.54v8.72h10.92V4ZM32.46 4v8.72h11.28c-1.02-5.5-5.08-8.7-11.28-8.72ZM4 15.72v16.66C4 39.66 8.34 44 15.62 44h16.76C39.66 44 44 39.66 44 32.38V15.72H4Zm24.88 16.64-4.16 2.4c-.88.5-1.74.76-2.54.76-.6 0-1.14-.14-1.64-.42-1.16-.66-1.8-2.02-1.8-3.78v-4.8c0-1.76.64-3.12 1.8-3.78 1.16-.68 2.64-.56 4.18.34l4.16 2.4c1.54.88 2.38 2.12 2.38 3.46 0 1.34-.86 2.52-2.38 3.42ZM15.542 4c-6.2.02-10.26 3.22-11.28 8.72h11.28V4Z"})],-1),Xe=[Ye];function et(I,C){return d(),u("svg",Ke,[...Xe])}const tt={render:et},st={width:"48",height:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nt=e("g",{fill:"#15C0E6"},[e("path",{d:"m5.162 38.02-.04.04c-.54-1.18-.88-2.52-1.02-4 .14 1.46.52 2.78 1.06 3.96ZM17.998 20.76a4.76 4.76 0 1 0 0-9.52 4.76 4.76 0 0 0 0 9.52Z"}),e("path",{d:"M32.38 4H15.62C8.34 4 4 8.34 4 15.62v16.76c0 2.18.38 4.08 1.12 5.68 1.72 3.8 5.4 5.94 10.5 5.94h16.76C39.66 44 44 39.66 44 32.38V15.62C44 8.34 39.66 4 32.38 4Zm8.36 21c-1.56-1.34-4.08-1.34-5.64 0l-8.32 7.14c-1.56 1.34-4.08 1.34-5.64 0l-.68-.56c-1.42-1.24-3.68-1.36-5.28-.28L7.7 36.32C7.26 35.2 7 33.9 7 32.38V15.62C7 9.98 9.98 7 15.62 7h16.76C38.02 7 41 9.98 41 15.62v9.6l-.26-.22Z"})],-1),ot=[nt];function at(I,C){return d(),u("svg",st,[...ot])}const it={render:at},lt={width:"48",height:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ct=e("g",{fill:"#FDC748"},[e("path",{d:"M38.923 8.155c.24.389-.18.835-.624.728a7.71 7.71 0 0 0-.1-.023c-.94-.28-1.98-.42-3.04-.42h-6.85a.5.5 0 0 1-.4-.2l-2.45-3.26a9.364 9.364 0 0 0-.087-.123c-.254-.347-.02-.857.41-.857h5.658a8.793 8.793 0 0 1 7.483 4.155Z"}),e("path",{d:"M40.28 13.08a8.36 8.36 0 0 0-2.9-1.34c-.72-.2-1.46-.3-2.22-.3h-7.44c-1.16 0-1.24-.1-1.86-.92l-2.8-3.72C21.76 5.06 20.74 4 17.48 4h-4.64C7.96 4 4 7.96 4 12.84v22.32C4 40.04 7.96 44 12.84 44h22.32c4.88 0 8.84-3.96 8.84-8.84V20.28c0-2.98-1.46-5.6-3.72-7.2Zm-11.5 19.6H19.2c-.78 0-1.38-.62-1.38-1.4 0-.76.6-1.4 1.38-1.4h9.58c.78 0 1.4.64 1.4 1.4 0 .78-.62 1.4-1.4 1.4Z"})],-1),dt=[ct];function rt(I,C){return d(),u("svg",lt,[...dt])}const ut={render:rt},mt={width:"48",height:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_t=e("path",{d:"M42.3 12.34c-.82-.44-2.54-.9-4.88.74l-2.94 2.08C34.26 8.94 31.56 6.5 25 6.5H13c-6.84 0-9.5 2.66-9.5 9.5v16c0 4.6 2.5 9.5 9.5 9.5h12c6.56 0 9.26-2.44 9.48-8.66l2.94 2.08c1.24.88 2.32 1.16 3.18 1.16.74 0 1.32-.22 1.7-.42.82-.42 2.2-1.56 2.2-4.42V16.76c0-2.86-1.38-4-2.2-4.42ZM22 22.76c-2.06 0-3.76-1.68-3.76-3.76s1.7-3.76 3.76-3.76c2.06 0 3.76 1.68 3.76 3.76s-1.7 3.76-3.76 3.76Z",fill:"#6D5DD3"},null,-1),ht=[_t];function gt(I,C){return d(),u("svg",mt,[...ht])}const pt={render:gt},vt={width:"48",height:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ft=e("g",{fill:"#4890FD"},[e("path",{d:"M37.5 27.8h-3.996a1 1 0 0 0-.556.169L28.18 31.16c-.72.48-1.56.7-2.38.7-.7 0-1.4-.16-2.04-.52-1.18-.624-1.978-1.889-2.198-3.217-.073-.437-.355-.825-.768-.982a8.877 8.877 0 0 1-3.134-2.001C15.94 23.42 15 21 15 18.3V9a1 1 0 0 0-1-1h-1c-5.4 0-9 2.7-9 9v10.8c0 6.3 3.6 9 9 9h7.5v5.7h-5.7c-.82 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5h14.4c.82 0 1.5-.68 1.5-1.5s-.68-1.5-1.5-1.5h-5.7v-5.7H31c5.105 0 8.601-2.413 8.968-7.999.036-.55-.416-1.001-.968-1.001h-1.5Z"}),e("path",{d:"M37.5 4h-13c-2.98 0-5.22 1.52-6.1 4-.26.76-.4 1.6-.4 2.5v7.8c0 1.94.64 3.58 1.78 4.72 1.14 1.14 2.78 1.78 4.72 1.78v2.78c0 1.02 1.16 1.64 2.02 1.08l5.78-3.86h5.2c.9 0 1.74-.14 2.5-.4 2.48-.88 4-3.12 4-6.1v-7.8C44 6.6 41.4 4 37.5 4ZM25.24 16c-.84 0-1.5-.68-1.5-1.5s.66-1.5 1.5-1.5 1.5.68 1.5 1.5-.66 1.5-1.5 1.5Zm5.64 0c-.84 0-1.5-.68-1.5-1.5s.68-1.5 1.5-1.5 1.5.68 1.5 1.5-.68 1.5-1.5 1.5Zm5.62 0c-.84 0-1.5-.68-1.5-1.5s.68-1.5 1.5-1.5 1.5.68 1.5 1.5-.68 1.5-1.5 1.5Z"}),e("path",{d:"M44 10.5v7.8c0 2.98-1.52 5.22-4 6.1-.76.26-1.6.4-2.5.4h-5.2l-5.78 3.86c-.86.56-2.02-.06-2.02-1.08V24.8c-1.94 0-3.58-.64-4.72-1.78C18.64 21.88 18 20.24 18 18.3v-7.8c0-.9.14-1.74.4-2.5.88-2.48 3.12-4 6.1-4h13c3.9 0 6.5 2.6 6.5 6.5Z"})],-1),bt=[ft];function yt(I,C){return d(),u("svg",vt,[...bt])}const kt={render:yt},Ct={key:0,class:"detail-panel"},wt={class:"detail-panel-top"},Mt={class:"detail-panel-top-title"},$t={class:"detail-panel-top-title-left"},At={class:"detail-panel-top-title-right"},xt={class:"meeting-title"},Ot={class:"meeting-number"},It={class:"detail-panel-top-btn"},Tt=["src"],Nt={class:"detail-panel-main wsl-scroll"},St={class:"block-item-grid"},Et={class:"block-item-grid-top"},Dt={class:"block-item-grid-bot"},Rt={class:"block-item-grid-bot-icon"},zt=["src"],Ft={class:"block-item-grid-bot-l"},Lt={class:"block-item-grid"},Zt={class:"block-item-grid-top"},Vt={class:"block-item-grid-bot"},Bt={class:"block-item-grid-bot-l"},Ht={class:"block-item-grid"},Ut={class:"block-item-grid-top"},jt={class:"block-item-grid-bot"},Pt={class:"block-item-grid-bot-l"},Gt={class:"block-item-grid"},Jt={class:"block-item-grid-top"},Wt={class:"block-item-grid-bot"},qt={class:"block-item-grid-bot-l"},Qt={class:"block-member"},Kt={class:"block-member-item"},Yt={class:"block-member-item-title"},Xt={class:"block-member-item-main"},es={class:"block-member-item-main-i-t"},ts=["src"],ss={class:"block-member-item-main-i-n"},ns={class:"block-member-item",style:{"margin-top":"10px"}},os={class:"block-member-item-title"},as={key:0,class:"block-member-item-main"},is={class:"block-member-item-main-i-t"},ls=["src"],cs={class:"block-member-item-main-i-n"},ds={class:"grid-card-data-main"},rs={class:"grid-card-data-main-top"},us={class:"grid-card-data-main-top-left"},ms={class:"grid-card-data-main-top-right"},_s={key:0,class:"grid-card-data-main-top-right-num"},hs={class:"grid-card-data-main-bot"},gs={class:"grid-card-data-main-bot-top"},ps={class:"grid-card-data-main-bot-bot"},vs={class:"grid-card-data-main-bot-bot-left"},fs={class:"grid-card-data-main-bot-bot-right"},bs={key:1},ys={key:1,class:"no-data"},ks={class:"no-data-body"},Cs=["src"],ws={class:"no-data-body-text"},Ms=q({__name:"detail",emits:["handleSendAssist"],setup(I,{emit:C}){const z=C,n=J(),p=Y(),b=X(),{t:i,locale:v}=ee.exports.useI18n(),y=G(),s=A({subject:"",meetingId:"",meetingNo:"",masterAvatarUrl:"",masterName:"",meetingDuration:0,startTime:null,endTime:null,inviteMembers:[],members:[],summaryCount:0,cloudVideoCount:0,screenshotCount:0,attachmentCount:0,manualRecordCount:0,chatMessageCount:0}),T=A(),S=()=>{T.value=[{type:1,icon:Qe,title:i("meeting.detail.assist.zl.hyzy"),desc:i("meeting.detail.assist.zl.hyzy.en"),hasData:s.value.summaryCount>0,showNum:!1,btn:["look"],url:"abstract"},{type:2,icon:tt,title:i("meeting.detail.assist.zl.sphy"),desc:i("meeting.detail.assist.zl.sphy.en"),hasData:s.value.cloudVideoCount>0,showNum:!1,btn:["preview"],url:"video"},{type:3,icon:it,title:i("meeting.detail.assist.zl.hyzt"),desc:i("meeting.detail.assist.zl.hyzt.en"),hasData:s.value.screenshotCount>0,showNum:!0,num:s.value.screenshotCount,btn:["preview"],url:"capture"},{type:4,icon:ut,title:i("meeting.detail.assist.zl.hywj"),desc:i("meeting.detail.assist.zl.hywj.en"),hasData:s.value.attachmentCount>0,showNum:!0,num:s.value.attachmentCount,btn:["preview"],url:"file"},{type:5,icon:pt,title:i("meeting.detail.assist.zl.sdlx"),desc:i("meeting.detail.assist.zl.sdlx.en"),hasData:s.value.manualRecordCount>0,showNum:!0,num:s.value.manualRecordCount,btn:["preview"],url:"picture_recording"},{type:6,icon:kt,title:i("meeting.detail.assist.zl.hyxx"),desc:i("meeting.detail.assist.zl.hyxx.en"),hasData:s.value.chatMessageCount>0,showNum:!1,btn:["look"],url:"message"}]},E=(t,a)=>{var l;a.preventDefault(),window.open(`${(l=p.platformConfig)==null?void 0:l.meetingDetailUrl}/AssistV3/meetingWH/views/${t.url}/index_pc.html?userClient=${ce.PC}&lang=${v.value}&meetingId=${s.value.meetingId}&token=${de()}`,"_blank")},x=()=>{s.value.members&&(s.value.members.forEach(t=>{const a=b.memberList.find(l=>l.userId===t.userId);a&&(t.pcOnline=a.pcOnline,t.androidOnline=a.androidOnline,t.glassOnline=a.glassOnline)}),s.value.members.sort((t,a)=>{const l=t.pcOnline||t.androidOnline||t.glassOnline?1:0;return(a.pcOnline||a.androidOnline||a.glassOnline?1:0)-l})),s.value.inviteMembers&&(s.value.inviteMembers.forEach(t=>{const a=b.memberList.find(l=>l.userId===t.userId);a&&(t.pcOnline=a.pcOnline,t.androidOnline=a.androidOnline,t.glassOnline=a.glassOnline)}),s.value.inviteMembers.sort((t,a)=>{const l=t.pcOnline||t.androidOnline||t.glassOnline?1:0;return(a.pcOnline||a.androidOnline||a.glassOnline?1:0)-l}))},$=async()=>{var a;const t=await y.getMeetingRecordDetail({meetingId:(a=n.curMeeting)==null?void 0:a.meetingId});if(t.code!==200&&t.code!==401){L.error(t.msg),n.updateNoRecordDetail(!1);return}s.value=t.data,n.updateNoRecordDetail(!0),S(),x()},D=()=>{z("handleSendAssist",s.value)};return ge(()=>[v,n.curMeeting,b.memberList],t=>{t[0]&&S(),t[1]&&$(),t[2]&&x()},{deep:!0}),(t,a)=>{const l=ne,f=ve,w=fe,k=Q,m=be,_=oe,M=ye,O=ke,ie=Ce;return d(),R(_,{class:"record-detail-container",bordered:!1,"body-style":{padding:0,height:"100%"}},{default:r(()=>[g(n).noRecordDetail?(d(),u("div",Ct,[e("div",wt,[e("div",Mt,[c(f,{size:16},{default:r(()=>[e("div",$t,[c(g(ae))]),c(l,{content:s.value.subject},{default:r(()=>[e("div",At,[e("div",xt,o(s.value.subject),1),e("div",Ot,"\u4F1A\u8BAE\u53F7\uFF1A"+o(s.value.meetingNo),1)])]),_:1},8,["content"])]),_:1})]),e("div",It,[c(w,{type:"primary",onClick:D},{icon:r(()=>[e("img",{src:g(je),alt:""},null,8,Tt)]),default:r(()=>[N(o(t.$t("meeting.btn.send")),1)]),_:1})])]),c(k,{margin:0}),e("div",Nt,[c(m,{class:"block-title",heading:6,style:{margin:0,fontWeight:400}},{default:r(()=>[N(o(t.$t("meeting.detail.assist.title")),1)]),_:1}),c(O,{gutter:[20,20],style:{marginTop:"10px"}},{default:r(()=>[c(M,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6},{default:r(()=>[c(_,{class:"grid-card",bordered:!1,hoverable:""},{default:r(()=>[e("div",St,[e("div",Et,[e("span",null,o(t.$t("meeting.detail.assist.fqr")),1)]),e("div",Dt,[e("div",Rt,[e("img",{src:s.value.masterAvatarUrl,alt:""},null,8,zt)]),e("div",Ft,o(s.value.masterName),1)])])]),_:1})]),_:1}),c(M,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6},{default:r(()=>[c(_,{class:"grid-card",bordered:!1,hoverable:""},{default:r(()=>[e("div",Lt,[e("div",Zt,[e("span",null,o(t.$t("meeting.detail.assist.hysc")),1)]),e("div",Vt,[e("div",Bt,o(g($e)(s.value.meetingDuration)),1)])])]),_:1})]),_:1}),c(M,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6},{default:r(()=>[c(_,{class:"grid-card",bordered:!1,hoverable:""},{default:r(()=>[e("div",Ht,[e("div",Ut,[e("span",null,o(t.$t("meeting.detail.assist.start.time")),1)]),e("div",jt,[e("div",Pt,o(s.value.startTime?g(P)(s.value.startTime,"today"):""),1)])])]),_:1})]),_:1}),c(M,{xs:12,sm:12,md:12,lg:12,xl:12,xxl:6},{default:r(()=>[c(_,{class:"grid-card",bordered:!1,hoverable:""},{default:r(()=>[e("div",Gt,[e("div",Jt,[e("span",null,o(t.$t("meeting.detail.assist.end.time")),1)]),e("div",Wt,[e("div",qt,o(s.value.endTime?g(P)(s.value.endTime,"today"):""),1)])])]),_:1})]),_:1})]),_:1}),c(m,{class:"block-title",heading:6,style:{margin:"20px 0 10px",fontWeight:400}},{default:r(()=>[N(o(t.$t("meeting.detail.meeting.member")),1)]),_:1}),e("div",Qt,[e("div",Kt,[e("div",Yt,[e("span",null,o(t.$t("meeting.detail.meeting.member.yq")),1),N(" \xA0\xA0 "),e("span",null,"("+o(s.value.inviteMembers.length)+" "+o(t.$t("meeting.detail.meeting.member.dw"))+")",1)]),e("div",Xt,[(d(!0),u(Z,null,V(s.value.inviteMembers,(h,F)=>(d(),u("div",{key:`yq_${F}`,class:"block-member-item-main-i"},[e("div",es,[e("img",{src:h.avatarUrl,alt:""},null,8,ts),e("div",{class:j([h.pcOnline||h.androidOnline||h.glassOnline?"online":"outline","block-member-item-main-i-t-f"])},null,2)]),e("div",ss,[e("span",null,o(h.name),1)])]))),128))])]),c(k,{margin:5}),e("div",ns,[e("div",os,[e("span",null,o(t.$t("meeting.detail.meeting.member.sj")),1),N(" \xA0\xA0 "),e("span",null,"("+o(s.value.members.length)+" "+o(t.$t("meeting.detail.meeting.member.dw"))+")",1)]),s.value.members?(d(),u("div",as,[(d(!0),u(Z,null,V(s.value.members,(h,F)=>(d(),u("div",{key:`sj_${F}`,class:"block-member-item-main-i"},[e("div",is,[e("img",{src:h.avatarUrl,alt:""},null,8,ls),e("div",{class:j([h.pcOnline||h.androidOnline||h.glassOnline?"online":"outline","block-member-item-main-i-t-f"])},null,2)]),e("div",cs,[e("span",null,o(h.name),1)])]))),128))])):B("",!0)])]),c(m,{class:"block-title",heading:6,style:{margin:"20px 0 10px",fontWeight:400}},{default:r(()=>[N(o(t.$t("meeting.detail.assist.zl")),1)]),_:1}),c(O,{gutter:[16,16],style:{marginTop:"10px"}},{default:r(()=>[(d(!0),u(Z,null,V(T.value,(h,F)=>(d(),R(M,{key:`data_${F}`,xs:24,sm:24,md:24,lg:12,xl:12,xxl:8},{default:r(()=>[c(_,{class:"grid-card-data",bordered:!0,hoverable:""},{default:r(()=>[e("div",ds,[e("div",rs,[e("div",us,[(d(),R(pe(h.icon),{class:"icon"}))]),e("div",ms,[h.hasData&&h.showNum?(d(),u("div",_s,[e("span",null,o(h.num)+" "+o(g(i)("meeting.detail.assist.zl.dw")),1)])):B("",!0)])]),e("div",hs,[e("div",gs,[e("span",null,o(h.title),1)]),e("div",ps,[e("div",vs,[e("span",null,o(h.desc),1)]),e("div",fs,[h.hasData?(d(),R(ie,{key:0,href:"/",onClick:le=>E(h,le)},{default:r(()=>[N(o(g(i)("meeting.detail.assist.zl.btn.look")),1)]),_:2},1032,["onClick"])):(d(),u("span",bs,o(t.$t("meeting.detail.assist.zl.zwlr")),1))])])])])]),_:2},1024)]),_:2},1024))),128))]),_:1})])])):(d(),u("div",ys,[e("div",ks,[e("img",{src:g(Pe),alt:""},null,8,Cs),e("div",ws,o(t.$t("meeting.no.data.text")),1)])]))]),_:1})}}});const $s=W(Ms,[["__scopeId","data-v-86161dc9"]]),As={class:"container"},xs={class:"layout"},Os={class:"layout-left-side"},Is={class:"layout-content"},Ts=q({__name:"index",setup(I){const{t:C}=ee.exports.useI18n(),z=J(),n=G(),p=re(),b=X(),i=ue(),v=Y(),y=A(),s=A(!1),T=()=>{n.updateRoomOptions(null),n.updateRoomInvitePsn(null),s.value=!1},S=l=>{if(n.answerInfo&&n.answerInfo.meetingNo){L.error(C("meeting.call.message.tips"));return}s.value=!0,n.updateRoomInvitePsn(l.inviteMembers),n.updateRoomOptions({meetingName:l.subject,video:!1,audio:!0,loudspeaker:!0,cloudRecord:l.recordStatus===1,abstract:l.aiStatus===1,escaping:l.escaping===1,organizer:i.name})},E=async l=>{var f,w,k,m;try{const _=await n.ThImEvent.joinMeeting({meetingNo:l.meetingNo,forceEntryStatus:0,inviters:n.roomInvitePsn?U(n.roomInvitePsn,"userId"):[]});if(p.updateRoomTranslateInfo({...p.roomTranslateInfo,..._.data,open:!!((f=_.data)!=null&&f.enableTranslation)}),v.updateBtnLoading(!1),_.code!==200&&_.code!==401){_.code===K.OTHER_CLIENT_JOINED_MEETING||_.code===K.OTHER_CLIENT_IN_MEETING?(n.updateForceEntryMeetingInfo({meetingNo:l.meetingNo,invitor:n.roomInvitePsn?U(n.roomInvitePsn,"userId"):[]}),H.emit("Chat-Other-Client-Joined-Meeting")):L.error(_.msg);return}n.ThImEvent.roomMenuOptions={video:(w=n.roomOptions)==null?void 0:w.video,audio:(k=n.roomOptions)==null?void 0:k.audio,loudspeaker:(m=n.roomOptions)==null?void 0:m.loudspeaker},n.ThImEvent.setRoomOnlineListPsn(b.memberList),n.ThImEvent.setRoomOnlineGroupPsn(b.memberGroupList),T(),n.updateAssistVisible(!0)}catch{v.updateBtnLoading(!1)}},x=async()=>{var l,f,w,k,m,_,M;try{const O=await n.createRealtimeMeeting({aiStatus:(l=n.roomOptions)!=null&&l.abstract?"1":"0",recordStatus:(f=n.roomOptions)!=null&&f.cloudRecord?"1":"0",escaping:(w=n.roomOptions)!=null&&w.escaping?"1":"0",subject:(k=n.roomOptions)==null?void 0:k.meetingName,userIds:n.roomInvitePsn?U(n.roomInvitePsn,"userId"):[],enableTranslation:(m=n.roomOptions)!=null&&m.escaping?"1":"0",languageType:(_=p.roomTranslateInfo)==null?void 0:_.languageType,industryType:(M=p.roomTranslateInfo)==null?void 0:M.industryType});if(O.code!==200&&O.code!==401){v.updateBtnLoading(!1),L.error(O.msg);return}E(O.data)}catch{v.updateBtnLoading(!1)}},$=()=>{z.clearOptions()},D=async()=>{},t=()=>{H.on("record-list-update",D)},a=()=>{H.off("record-list-update",D)};return te(()=>{t()}),se(()=>{$(),a()}),(l,f)=>{const w=Q,k=we;return d(),u("div",As,[e("div",xs,[e("div",Os,[c(Ue,{ref_key:"recordListRef",ref:y},null,512)]),c(w,{direction:"vertical",style:{margin:0}}),e("div",Is,[c($s,{onHandleSendAssist:S})])]),s.value?(d(),R(k,{key:0,visible:s.value,"onUpdate:visible":f[0]||(f[0]=m=>s.value=m),footer:!1,closable:!1,class:"customModal"},{default:r(()=>[c(Ae,{onHandleCall:x,onHandleClose:T})]),_:1},8,["visible"])):B("",!0)])}}});const Vs=W(Ts,[["__scopeId","data-v-abf1677b"]]);export{Vs as default};
